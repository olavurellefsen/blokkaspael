// Automatically generated file.  Do not edit!

'use strict';var b,h={g:{}};h.g.Ub={};h.g.Ub.Vg=function(a){return a*Math.PI/180};h.g.Ub.Uz=function(a){return 180*a/Math.PI};h.g.Ub.Oi=function(a,c,d){if(d<a){var e=d;d=a;a=e}return Math.max(a,Math.min(c,d))};
h.aD={};h.Fq=40;h.Oq=125;h.Tu=5;h.bv=10;h.Qb=28;h.eq=h.Qb;h.Ju=8;h.lv="#000000";h.rm=250;h.sm=10;h.Gu=30;h.uv=750;h.Qv=100;h.Uu=!0;h.fv=.45;h.gv=.65;h.vC={width:96,height:124,url:"sprites.png"};h.Fa=1;h.cd=2;h.ta=3;h.dd=4;h.ne=5;h.nm=-1;h.mm=0;h.mk=1;h.BA=0;h.CA=1;h.zA=1;h.AA=2;h.nh=[];h.nh[h.Fa]=h.cd;h.nh[h.cd]=h.Fa;h.nh[h.ta]=h.dd;h.nh[h.dd]=h.ta;h.Fi=0;h.Xm=1;h.Ei=2;h.Ym=3;h.jq=null;h.vm=1;h.kq=2;h.gr="VARIABLE";h.cw="VARIABLE_DYNAMIC";h.Qq="PROCEDURE";h.jC="RENAME_VARIABLE_ID";h.xA="DELETE_VARIABLE_ID";h.g.global=function(){return"object"===typeof self?self:"object"===typeof window?window:"object"===typeof global?global:this}();
h.G={};h.g.global.Blockly||(h.g.global.Blockly={});h.g.global.Blockly.Msg||(h.g.global.Blockly.Msg=h.G);h.g.$a={};h.g.$a.parse=function(a){a=String(a).toLowerCase().trim();var c=h.g.$a.names[a];if(c)return c;c="#"==a[0]?a:"#"+a;if(/^#[0-9a-f]{6}$/.test(c))return c;if(/^#[0-9a-f]{3}$/.test(c))return["#",c[1],c[1],c[2],c[2],c[3],c[3]].join("");var d=a.match(/^(?:rgb)?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/);return d&&(a=Number(d[1]),c=Number(d[2]),d=Number(d[3]),0<=a&&256>a&&0<=c&&256>c&&0<=d&&256>d)?h.g.$a.tp(a,c,d):null};
h.g.$a.tp=function(a,c,d){c=a<<16|c<<8|d;return 16>a?"#"+(16777216|c).toString(16).substr(1):"#"+c.toString(16)};h.g.$a.Ns=function(a){a=parseInt(a.substr(1),16);return[a>>16,a>>8&255,a&255]};
h.g.$a.Ss=function(a){var c=h.fv,d=255*h.gv,e=0,f=0,g=0;if(0==c)g=f=e=d;else{var k=Math.floor(a/60),l=a/60-k;a=d*(1-c);var m=d*(1-c*l);c=d*(1-c*(1-l));switch(k){case 1:e=m;f=d;g=a;break;case 2:e=a;f=d;g=c;break;case 3:e=a;f=m;g=d;break;case 4:e=c;f=a;g=d;break;case 5:e=d;f=a;g=m;break;case 6:case 0:e=d,f=c,g=a}}return h.g.$a.tp(Math.floor(e),Math.floor(f),Math.floor(g))};
h.g.$a.Mi=function(a,c,d){a=h.g.$a.parse(a);if(!a)return null;c=h.g.$a.parse(c);if(!c)return null;a=h.g.$a.Ns(a);c=h.g.$a.Ns(c);return h.g.$a.tp(Math.round(c[0]+d*(a[0]-c[0])),Math.round(c[1]+d*(a[1]-c[1])),Math.round(c[2]+d*(a[2]-c[2])))};h.g.$a.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"};h.g.L=function(a,c){this.x=a;this.y=c};h.g.L.He=function(a,c){return a==c?!0:a&&c?a.x==c.x&&a.y==c.y:!1};h.g.L.cs=function(a,c){var d=a.x-c.x;a=a.y-c.y;return Math.sqrt(d*d+a*a)};h.g.L.Oy=function(a){return Math.sqrt(a.x*a.x+a.y*a.y)};h.g.L.bl=function(a,c){return new h.g.L(a.x-c.x,a.y-c.y)};h.g.L.sum=function(a,c){return new h.g.L(a.x+c.x,a.y+c.y)};h.g.L.prototype.scale=function(a){this.x*=a;this.y*=a;return this};h.g.L.prototype.translate=function(a,c){this.x+=a;this.y+=c;return this};h.g.za={};h.g.za.startsWith=function(a,c){return 0==a.lastIndexOf(c,0)};h.g.za.Bp=function(a){return a.length?a.reduce(function(c,d){return c.length<d.length?c:d}).length:0};h.g.za.Uw=function(a,c){if(!a.length)return 0;if(1==a.length)return a[0].length;var d=0;c=c||h.g.za.Bp(a);for(var e=0;e<c;e++){for(var f=a[0][e],g=1;g<a.length;g++)if(f!=a[g][e])return d;" "==f&&(d=e+1)}for(g=1;g<a.length;g++)if((f=a[g][e])&&" "!=f)return d;return c};
h.g.za.Vw=function(a,c){if(!a.length)return 0;if(1==a.length)return a[0].length;var d=0;c=c||h.g.za.Bp(a);for(var e=0;e<c;e++){for(var f=a[0].substr(-e-1,1),g=1;g<a.length;g++)if(f!=a[g].substr(-e-1,1))return d;" "==f&&(d=e+1)}for(g=1;g<a.length;g++)if((f=a[g].charAt(a[g].length-e-1))&&" "!=f)return d;return c};h.g.za.fA=function(a){var c=h.B.sv;a=a.split("\n");for(var d=0;d<a.length;d++)a[d]=h.g.za.gA(a[d],c);return a.join("\n")};
h.g.za.gA=function(a,c){if(a.length<=c)return a;for(var d=a.trim().split(/\s+/),e=0;e<d.length;e++)d[e].length>c&&(c=d[e].length);e=-Infinity;var f=1;do{var g=e;var k=a;a=[];var l=d.length/f,m=1;for(e=0;e<d.length-1;e++)m<(e+1.5)/l?(m++,a[e]=!0):a[e]=!1;a=h.g.za.ju(d,a,c);e=h.g.za.Op(d,a,c);a=h.g.za.hA(d,a);f++}while(e>g);return k};
h.g.za.Op=function(a,c,d){for(var e=[0],f=[],g=0;g<a.length;g++)e[e.length-1]+=a[g].length,!0===c[g]?(e.push(0),f.push(a[g].charAt(a[g].length-1))):!1===c[g]&&e[e.length-1]++;a=Math.max.apply(Math,e);for(g=c=0;g<e.length;g++)c-=2*Math.pow(Math.abs(d-e[g]),1.5),c-=Math.pow(a-e[g],1.5),-1!=".?!".indexOf(f[g])?c+=d/3:-1!=",;)]}".indexOf(f[g])&&(c+=d/4);1<e.length&&e[e.length-1]<=e[e.length-2]&&(c+=.5);return c};
h.g.za.ju=function(a,c,d){for(var e=h.g.za.Op(a,c,d),f,g=0;g<c.length-1;g++)if(c[g]!=c[g+1]){var k=[].concat(c);k[g]=!k[g];k[g+1]=!k[g+1];var l=h.g.za.Op(a,k,d);l>e&&(e=l,f=k)}return f?h.g.za.ju(a,f,d):c};h.g.za.hA=function(a,c){for(var d=[],e=0;e<a.length;e++)d.push(a[e]),void 0!==c[e]&&d.push(c[e]?"\n":" ");return d.join("")};h.g.te=function(a,c){this.width=a;this.height=c};h.g.te.He=function(a,c){return a==c?!0:a&&c?a.width==c.width&&a.height==c.height:!1};h.g.style={};h.g.style.Je=function(a){if("none"!=h.g.style.zs(a,"display"))return h.g.style.xs(a);var c=a.style,d=c.display,e=c.visibility,f=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";var g=a.offsetWidth;a=a.offsetHeight;c.display=d;c.position=f;c.visibility=e;return new h.g.te(g,a)};h.g.style.xs=function(a){return new h.g.te(a.offsetWidth,a.offsetHeight)};h.g.style.zs=function(a,c){return h.g.style.getComputedStyle(a,c)||h.g.style.Rx(a,c)||a.style&&a.style[c]};
h.g.style.getComputedStyle=function(a,c){return document.defaultView&&document.defaultView.getComputedStyle&&(a=document.defaultView.getComputedStyle(a,null))?a[c]||a.getPropertyValue(c)||"":""};h.g.style.Rx=function(a,c){return a.currentStyle?a.currentStyle[c]:null};h.g.style.jj=function(a){var c=new h.g.L(0,0);a=a.getBoundingClientRect();var d=document.documentElement;d=new h.g.L(window.pageXOffset||d.scrollLeft,window.pageYOffset||d.scrollTop);c.x=a.left+d.x;c.y=a.top+d.y;return c};
h.g.style.Bs=function(){var a=document.body,c=document.documentElement;return new h.g.L(a.scrollLeft||c.scrollLeft,a.scrollTop||c.scrollTop)};h.g.style.XD=function(a,c){a.style.display=c?"":"none"};h.g.style.$s=function(){return"rtl"==h.g.style.zs(void 0,"direction")};
h.g.style.Ox=function(a){var c=h.g.style.getComputedStyle(a,"borderLeftWidth"),d=h.g.style.getComputedStyle(a,"borderRightWidth"),e=h.g.style.getComputedStyle(a,"borderTopWidth");a=h.g.style.getComputedStyle(a,"borderBottomWidth");return{top:parseFloat(e),right:parseFloat(d),bottom:parseFloat(a),left:parseFloat(c)}};h.g.style.Rt=function(a,c){a=h.g.style.Tx(a,c);c.scrollLeft=a.x;c.scrollTop=a.y};
h.g.style.Tx=function(a,c){var d=h.g.style.jj(a),e=h.g.style.jj(c),f=h.g.style.Ox(c),g=d.x-e.x-f.left;d=d.y-e.y-f.top;a=h.g.style.xs(a);e=c.clientHeight-a.height;f=c.scrollLeft;var k=c.scrollTop;f+=Math.min(g,Math.max(g-(c.clientWidth-a.width),0));k+=Math.min(d,Math.max(d-e,0));return new h.g.L(f,k)};h.g.userAgent={};
(function(a){function c(e){return-1!=d.indexOf(e.toUpperCase())}h.g.userAgent.raw=a;var d=h.g.userAgent.raw.toUpperCase();h.g.userAgent.oe=c("Trident")||c("MSIE");h.g.userAgent.oi=c("Edge");h.g.userAgent.pv=c("JavaFX");h.g.userAgent.mr=c("WebKit")&&!h.g.userAgent.oi;h.g.userAgent.cv=c("Gecko")&&!h.g.userAgent.mr&&!h.g.userAgent.oe&&!h.g.userAgent.oi;h.g.userAgent.nk=c("Android");h.g.userAgent.wi=c("iPad");h.g.userAgent.Cq=c("iPod");h.g.userAgent.Bq=c("iPhone")&&!h.g.userAgent.wi&&!h.g.userAgent.Cq;
h.g.userAgent.vv=c("Macintosh");h.g.userAgent.Wv=h.g.userAgent.wi||h.g.userAgent.nk&&!c("Mobile")||c("Silk");h.g.userAgent.AB=!h.g.userAgent.Wv&&(h.g.userAgent.Cq||h.g.userAgent.Bq||h.g.userAgent.nk||c("IEMobile"))})(h.g.global.navigator&&h.g.global.navigator.userAgent||"");
h.g.Xy=function(a){a.preventDefault();a.stopPropagation()};h.g.Cl=function(a){return"textarea"==a.target.type||"text"==a.target.type||"number"==a.target.type||"email"==a.target.type||"password"==a.target.type||"search"==a.target.type||"tel"==a.target.type||"url"==a.target.type||a.target.isContentEditable};
h.g.pd=function(a){var c=new h.g.L(0,0),d=a.getAttribute("x");d&&(c.x=parseInt(d,10));if(d=a.getAttribute("y"))c.y=parseInt(d,10);if(d=(d=a.getAttribute("transform"))&&d.match(h.g.pd.hw))c.x+=Number(d[1]),d[3]&&(c.y+=Number(d[3]));(a=a.getAttribute("style"))&&-1<a.indexOf("translate")&&(a=a.match(h.g.pd.iw))&&(c.x+=Number(a[1]),a[3]&&(c.y+=Number(a[3])));return c};
h.g.jo=function(a){for(var c=0,d=0;a;){var e=h.g.pd(a);c+=e.x;d+=e.y;if(-1!=(" "+(a.getAttribute("class")||"")+" ").indexOf(" injectionDiv "))break;a=a.parentNode}return new h.g.L(c,d)};h.g.pd.hw=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*)?/;h.g.pd.iw=/transform:\s*translate(?:3d)?\(\s*([-+\d.e]+)\s*px([ ,]\s*([-+\d.e]+)\s*px)?/;h.g.Bj=function(a){return a.ctrlKey&&h.g.userAgent.vv?!0:2==a.button};
h.g.Lj=function(a,c,d){var e=c.createSVGPoint();e.x=a.clientX;e.y=a.clientY;d||(d=c.getScreenCTM().inverse());return e.matrixTransform(d)};h.g.hy=function(a){switch(a.deltaMode){default:return{x:a.deltaX,y:a.deltaY};case 1:return{x:a.deltaX*h.Fq,y:a.deltaY*h.Fq};case 2:return{x:a.deltaX*h.Oq,y:a.deltaY*h.Oq}}};h.g.Vz=function(a){return h.g.Kp(a,!0)};h.g.pc=function(a){if("string"!=typeof a)return a;a=h.g.Kp(a,!1);return a.length?String(a[0]):""};
h.g.Fr=function(a){for(var c=h.G,d=a.match(/%{BKY_[A-Z]\w*}/ig),e=0;e<d.length;e++)void 0==c[d[e].toUpperCase().slice(6,-1)]&&console.log("WARNING: No message string for "+d[e]+" in "+a)};
h.g.Kp=function(a,c){var d=[],e=a.split("");e.push("");var f=0;a=[];for(var g=null,k=0;k<e.length;k++){var l=e[k];0==f?"%"==l?((l=a.join(""))&&d.push(l),a.length=0,f=1):a.push(l):1==f?"%"==l?(a.push(l),f=0):c&&"0"<=l&&"9">=l?(f=2,g=l,(l=a.join(""))&&d.push(l),a.length=0):"{"==l?f=3:(a.push("%",l),f=0):2==f?"0"<=l&&"9">=l?g+=l:(d.push(parseInt(g,10)),k--,f=0):3==f&&(""==l?(a.splice(0,0,"%{"),k--,f=0):"}"!=l?a.push(l):(f=a.join(""),/[A-Z]\w*/i.test(f)?(l=f.toUpperCase(),(l=h.g.za.startsWith(l,"BKY_")?
l.substring(4):null)&&l in h.G?(f=h.G[l],"string"==typeof f?Array.prototype.push.apply(d,h.g.Kp(f,c)):c?d.push(String(f)):d.push(f)):d.push("%{"+f+"}")):d.push("%{"+f+"}"),f=a.length=0))}(l=a.join(""))&&d.push(l);c=[];for(k=a.length=0;k<d.length;++k)"string"==typeof d[k]?a.push(d[k]):((l=a.join(""))&&c.push(l),a.length=0,c.push(d[k]));(l=a.join(""))&&c.push(l);a.length=0;return c};h.g.Ie=function(){for(var a=h.g.Ie.Xt.length,c=[],d=0;20>d;d++)c[d]=h.g.Ie.Xt.charAt(Math.random()*a);return c.join("")};
h.g.Ie.Xt="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
h.g.zg=function(){if(void 0!==h.g.zg.pn)return h.g.zg.pn;if(!h.g.global.getComputedStyle)return!1;var a=document.createElement("p"),c="none",d={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(a,null);for(var e in d)if(void 0!==a.style[e]){a.style[e]="translate3d(1px,1px,1px)";c=h.g.global.getComputedStyle(a);if(!c)return document.body.removeChild(a),!1;c=c.getPropertyValue(d[e])}document.body.removeChild(a);
h.g.zg.pn="none"!==c;return h.g.zg.pn};h.g.Qt=function(a){if("object"!=typeof document)throw Error("Blockly.utils.runAfterPageLoad() requires browser document.");if("complete"==document.readyState)a();else var c=setInterval(function(){"complete"==document.readyState&&(clearInterval(c),a())},10)};h.g.jy=function(){var a=h.g.style.Bs();return{right:document.documentElement.clientWidth+a.x,bottom:document.documentElement.clientHeight+a.y,top:a.y,left:a.x}};
h.g.Ji=function(a,c){c=a.indexOf(c);if(-1==c)return!1;a.splice(c,1);return!0};h.g.Yx=function(){var a=document.documentElement,c=window;return h.g.userAgent.oe&&c.pageYOffset!=a.scrollTop?new h.g.L(a.scrollLeft,a.scrollTop):new h.g.L(c.pageXOffset||a.scrollLeft,c.pageYOffset||a.scrollTop)};h.g.ms=function(a){var c=Object.create(null),d=p(a,!0);if(a=t(a))a=d.indexOf(a),d.splice(a,d.length-a);a=0;for(var e;e=d[a];a++)c[e.type]?c[e.type]++:c[e.type]=1;return c};
h.g.Az=function(a,c){var d=c.x;c=c.y;var e=aa(a).getBoundingClientRect();d=new h.g.L(d-e.left,c-e.top);c=h.g.jo(a.jb);return h.g.L.bl(d,c).scale(1/a.scale)};h.g.Ql=function(a){var c="string"==typeof a?h.g.pc(a):a,d=Number(c);if(!isNaN(d)&&0<=d&&360>=d)return{wy:d,mj:h.g.$a.Ss(d)};if(d=h.g.$a.parse(c))return{wy:null,mj:d};d='Invalid colour: "'+c+'"';a!=c&&(d+=' (from "'+a+'")');throw Error(d);};h.h={};h.h.Fs="";h.h.Jb=!0;h.h.Jn=0;h.h.wk="create";h.h.Xp=h.h.wk;h.h.ni="delete";h.h.nA=h.h.ni;h.h.mi="change";h.h.mA=h.h.mi;h.h.yi="move";h.h.Yp=h.h.yi;h.h.hr="var_create";h.h.ir="var_delete";h.h.jr="var_rename";h.h.$m="ui";h.h.uk="comment_create";h.h.cq="comment_delete";h.h.bq="comment_change";h.h.vk="comment_move";h.h.uq="finished_loading";h.h.Cu=[h.h.Xp,h.h.Yp,h.h.uk,h.h.vk];h.h.ti=[];h.h.ya=function(a){h.h.isEnabled()&&(h.h.ti.length||setTimeout(h.h.Fx,0),h.h.ti.push(a))};
h.h.Fx=function(){for(var a=h.h.filter(h.h.ti,!0),c=h.h.ti.length=0,d;d=a[c];c++)if(d.vb){var e=h.Za.eo(d.vb);if(e){var f=d;if(f.Jb)for(e.Xg.push(f),e.Sj.length=0;e.Xg.length>e.Gq&&0<=e.Gq;)e.Xg.shift();for(var g=0;d=e.Ej[g];g++)d(f)}}};
h.h.filter=function(a,c){a=a.slice();c||a.reverse();for(var d=[],e=Object.create(null),f=0,g;g=a[f];f++)if(!g.Ph()){var k=[g.type,g.Rb,g.vb].join(" "),l=e[k],m=l?l.event:null;if(!l)e[k]={event:g,index:f},d.push(g);else if(g.type==h.h.yi&&l.index==f-1)m.Hg=g.Hg,m.Gg=g.Gg,m.Cf=g.Cf,l.index=f;else if(g.type==h.h.mi&&g.element==m.element&&g.name==m.name)m.newValue=g.newValue;else if(g.type!=h.h.$m||"click"!=g.element||"commentOpen"!=m.element&&"mutatorOpen"!=m.element&&"warningOpen"!=m.element)e[k]={event:g,
index:1},d.push(g)}a=d.filter(function(n){return!n.Ph()});c||a.reverse();for(f=1;g=a[f];f++)g.type==h.h.mi&&"mutation"==g.element&&a.unshift(a.splice(f,1)[0]);return a};h.h.Rw=function(){for(var a=0,c;c=h.h.ti[a];a++)c.Jb=!1};h.h.disable=function(){h.h.Jn++};h.h.enable=function(){h.h.Jn--};h.h.isEnabled=function(){return 0==h.h.Jn};h.h.rb=function(){return h.h.Fs};h.h.ba=function(a){h.h.Fs="boolean"==typeof a?a?h.g.Ie():"":a};
h.h.ps=function(a){var c=[];a=p(a,!1);for(var d=0,e;e=a[d];d++)c[d]=e.id;return c};
h.h.ga=function(a){switch(a.type){case h.h.wk:var c=new h.h.Bd(null);break;case h.h.ni:c=new h.h.Ed(null);break;case h.h.mi:c=new h.h.af(null,"","","","");break;case h.h.yi:c=new h.h.Yf(null);break;case h.h.hr:c=new h.h.fd(null);break;case h.h.ir:c=new h.h.gd(null);break;case h.h.jr:c=new h.h.Md(null,"");break;case h.h.$m:c=new h.h.Zb(null,"","","");break;case h.h.uk:c=new h.h.le(null);break;case h.h.bq:c=new h.h.eh(null,"","");break;case h.h.vk:c=new h.h.Tf(null);break;case h.h.cq:c=new h.h.me(null);
break;case h.h.uq:c=new h.h.hh(void 0);break;default:throw Error("Unknown event type.");}c.ga(a);c.vb=(void 0).id;return c};h.h.cD=function(a){if((a.type==h.h.yi||a.type==h.h.wk)&&a.vb){var c=h.Za.eo(a.vb);if(a=c.jc(a.Rb)){var d=a.getParent();if(d&&d.isEnabled())for(c=p(a,!1),a=0;d=c[a];a++)d.Te(!0);else if((a.K||a.O)&&!c.Bc()){do a.Te(!1),a=t(a);while(a)}}}};
h.h.Abstract=function(){this.vb=void 0;this.group=h.h.rb();this.Jb=h.h.Jb};h.h.Abstract.prototype.sa=function(){var a={type:this.type};this.group&&(a.group=this.group);return a};h.h.Abstract.prototype.ga=function(a){this.group=a.group};h.h.Abstract.prototype.Ph=function(){return!1};h.h.Abstract.prototype.run=function(){};function w(a){if(a.vb)var c=h.Za.eo(a.vb);if(!c)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return c};h.g.object={};h.g.object.P=function(a,c){a.v=c.prototype;a.prototype=Object.create(c.prototype);a.prototype.constructor=a};h.g.object.Eg=function(a,c){for(var d in c)a[d]=c[d]};h.g.object.values=function(a){return Object.values?Object.values(a):Object.keys(a).map(function(c){return a[c]})};h.h.Zb=function(a,c,d,e){h.h.Zb.v.constructor.call(this);this.Rb=a?a.id:null;this.vb=a?a.A.id:void 0;this.element=c;this.oldValue=d;this.newValue=e;this.Jb=!1};h.g.object.P(h.h.Zb,h.h.Abstract);h.h.Zb.prototype.type=h.h.$m;h.h.Zb.prototype.sa=function(){var a=h.h.Zb.v.sa.call(this);a.element=this.element;void 0!==this.newValue&&(a.newValue=this.newValue);this.Rb&&(a.blockId=this.Rb);return a};
h.h.Zb.prototype.ga=function(a){h.h.Zb.v.ga.call(this,a);this.element=a.element;this.newValue=a.newValue;this.Rb=a.blockId};h.g.m={};h.g.m.Lk="http://www.w3.org/2000/svg";h.g.m.ym="http://www.w3.org/1999/xhtml";h.g.m.dg="http://www.w3.org/1999/xlink";h.g.m.Node={ELEMENT_NODE:1,TEXT_NODE:3,COMMENT_NODE:8,DOCUMENT_POSITION_CONTAINED_BY:16};h.g.m.jd=null;h.g.m.nn=0;h.g.m.Sk=null;h.g.m.N=function(a,c,d){a=document.createElementNS(h.g.m.Lk,a);for(var e in c)a.setAttribute(e,c[e]);document.body.runtimeStyle&&(a.runtimeStyle=a.currentStyle=a.style);d&&d.appendChild(a);return a};
h.g.m.pb=function(a,c){var d=a.getAttribute("class")||"";-1==(" "+d+" ").indexOf(" "+c+" ")&&(d&&(d+=" "),a.setAttribute("class",d+c))};h.g.m.Ec=function(a,c){var d=a.getAttribute("class");if(-1!=(" "+d+" ").indexOf(" "+c+" ")){d=d.split(/\s+/);for(var e=0;e<d.length;e++)d[e]&&d[e]!=c||(d.splice(e,1),e--);d.length?a.setAttribute("class",d.join(" ")):a.removeAttribute("class")}};h.g.m.Is=function(a,c){return-1!=(" "+a.getAttribute("class")+" ").indexOf(" "+c+" ")};
h.g.m.removeNode=function(a){return a&&a.parentNode?a.parentNode.removeChild(a):null};h.g.m.tj=function(a,c){var d=c.nextSibling;c=c.parentNode;if(!c)throw Error("Reference node has no parent.");d?c.insertBefore(a,d):c.appendChild(a)};h.g.m.containsNode=function(a,c){return!!(a.compareDocumentPosition(c)&h.g.m.Node.DOCUMENT_POSITION_CONTAINED_BY)};h.g.m.Xl=function(a,c){a.style.transform=c;a.style["-webkit-transform"]=c};h.g.m.ak=function(){h.g.m.nn++;h.g.m.jd||(h.g.m.jd={})};
h.g.m.bk=function(){h.g.m.nn--;h.g.m.nn||(h.g.m.jd=null)};h.g.m.pD=function(a){var c=a.textContent+"\n"+a.className.baseVal,d;if(h.g.m.jd&&(d=h.g.m.jd[c]))return d;try{d=h.g.userAgent.oe||h.g.userAgent.oi?a.getBBox().width:a.getComputedTextLength()}catch(e){return 8*a.textContent.length}h.g.m.jd&&(h.g.m.jd[c]=d);return d};
h.g.m.io=function(a,c,d,e){var f=a.textContent;a=f+"\n"+a.className.baseVal;var g;if(h.g.m.jd&&(g=h.g.m.jd[a]))return g;h.g.m.Sk||(g=document.createElement("canvas"),g.className="blocklyComputeCanvas",document.body.appendChild(g),h.g.m.Sk=g.getContext("2d"));h.g.m.Sk.font=d+" "+c+"pt "+e;g=h.g.m.Sk.measureText(f).width;h.g.m.jd&&(h.g.m.jd[a]=g);return g};h.$p=function(a){this.Ui=a;this.La()};b=h.$p.prototype;b.Qa=null;b.nd=null;b.Ui=null;b.If=1;b.ck=null;b.La=function(){this.Qa||(this.Qa=h.g.m.N("svg",{xmlns:h.g.m.Lk,"xmlns:html":h.g.m.ym,"xmlns:xlink":h.g.m.dg,version:"1.1","class":"blocklyBlockDragSurface"},this.Ui),this.nd=h.g.m.N("g",{},this.Qa))};function ba(a,c){if(a.nd.childNodes.length)throw Error("Already dragging a block.");a.nd.appendChild(c);a.Qa.style.display="block";a.ck=new h.g.L(0,0)}
b.Wg=function(a,c){this.ck=new h.g.L(a*this.If,c*this.If);a=this.ck.x;c=this.ck.y;a=a.toFixed(0);c=c.toFixed(0);this.Qa.style.display="block";h.g.m.Xl(this.Qa,"translate3d("+a+"px, "+c+"px, 0px)")};b.no=function(){var a=h.g.pd(this.Qa);return new h.g.L(a.x/this.If,a.y/this.If)};b.rb=function(){return this.nd};
b.Uk=function(a){a?a.appendChild(this.nd.firstChild):this.nd.removeChild(this.nd.firstChild);this.Qa.style.display="none";if(this.nd.childNodes.length)throw Error("Drag group was not cleared.");this.ck=null};h.g.Fk={};h.g.Fk.Wy=0;h.g.Fk.ay=function(){return"blockly:"+(h.g.Fk.Wy++).toString(36)};h.Xb=function(){this.Pt=h.Xb.Tr;this.Lh=null;this.Vc=!1;this.oc=this.W=null;this.xb=[];this.rn={}};h.Xb.Tr=!1;h.Xb.Error={om:"Component already rendered",Pq:"Unable to set parent component",Fu:"Child component index out of bounds"};b=h.Xb.prototype;b.hb=function(){return this.Lh||(this.Lh=h.g.Fk.ay())};b.ci=function(a){if(this==a)throw Error(h.Xb.Error.Pq);var c;if(c=a&&this.oc&&this.Lh)c=(c=this.Lh)?this.oc.rn[c]||null:null;if(c&&this.oc!=a)throw Error(h.Xb.Error.Pq);this.oc=a};b.getParent=function(){return this.oc};
b.La=function(){this.W=document.createElement("div")};b.pa=function(a){this.Yh(a)};b.Yh=function(a,c){if(this.Vc)throw Error(h.Xb.Error.om);this.W||this.La();a?a.insertBefore(this.W,c||null):document.body.appendChild(this.W);this.oc&&!this.oc.Vc||this.kl()};b.kl=function(){this.Vc=!0;ca(this,function(a){!a.Vc&&a.W&&a.kl()})};b.ll=function(){ca(this,function(a){a.Vc&&a.ll()});this.Vc=!1};b.F=function(){this.vx||(this.vx=!0,this.Nn())};
b.Nn=function(){this.Vc&&this.ll();ca(this,function(a){a.F()});this.W&&h.g.m.removeNode(this.W);this.oc=this.W=this.rn=this.xb=null};
function da(a,c){var d=a.xb.length;if(c.Vc)throw Error(h.Xb.Error.om);if(0>d||d>a.xb.length)throw Error(h.Xb.Error.Fu);a.rn[c.hb()]=c;if(c.getParent()==a){var e=a.xb.indexOf(c);-1<e&&a.xb.splice(e,1)}c.ci(a);a.xb.splice(d,0,c);c.Vc&&a.Vc&&c.getParent()==a?(a=a.W,d=a.childNodes[d]||null,d!=c.W&&a.insertBefore(c.W,d)):(a.W||a.La(),d=a.xb[d+1]||null,c.Yh(a.W,d?d.W:null))}b.$s=function(){return this.Pt};function ea(a,c){if(a.Vc)throw Error(h.Xb.Error.om);a.Pt=c}
function ca(a,c,d){for(var e=0;e<a.xb.length;e++)c.call(d,a.xb[e],e)};h.Ic={};h.Ic.zo=!1;h.Ic.register=function(a){if(h.Ic.zo)throw Error("CSS already injected");Array.prototype.push.apply(h.Ic.tm,a);a.length=0};h.Ic.tf=function(a,c){if(!h.Ic.zo){h.Ic.zo=!0;var d=h.Ic.tm.join("\n");h.Ic.tm.length=0;a&&(a=c.replace(/[\\/]$/,""),d=d.replace(/<<<PATH>>>/g,a),a=document.createElement("style"),a.id="blockly-common-style",d=document.createTextNode(d),a.appendChild(d),document.head.insertBefore(a,document.head.firstChild))}};h.Ic.Tt=function(){console.warn("Deprecated call to Blockly.Css.setCursor. See https://github.com/google/blockly/issues/981 for context")};
h.Ic.tm=[".blocklySvg {","background-color: #fff;","outline: none;","overflow: hidden;","position: absolute;","display: block;","}",".blocklyWidgetDiv {","display: none;","position: absolute;","z-index: 99999;","}",".injectionDiv {","height: 100%;","position: relative;","overflow: hidden;","touch-action: none;","}",".blocklyNonSelectable {","user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","}",".blocklyWsDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;",
"}",".blocklyWsDragSurface.blocklyOverflowVisible {","overflow: visible;","}",".blocklyBlockDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;","right: 0;","bottom: 0;","overflow: visible !important;","z-index: 50;","}",".blocklyBlockCanvas.blocklyCanvasTransitioning,",".blocklyBubbleCanvas.blocklyCanvasTransitioning {","transition: transform .5s;","}",".blocklyTooltipDiv {","background-color: #ffffc7;","border: 1px solid #ddc;","box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);",
"color: #000;","display: none;","font-family: sans-serif;","font-size: 9pt;","opacity: .9;","padding: 2px;","position: absolute;","z-index: 100000;","}",".blocklyDropDownDiv {","position: absolute;","left: 0;","top: 0;","z-index: 1000;","display: none;","border: 1px solid;","border-radius: 2px;","padding: 4px;","box-shadow: 0px 0px 3px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv.focused {","box-shadow: 0px 0px 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownContent {","max-height: 300px;","overflow: auto;",
"overflow-x: hidden;","}",".blocklyDropDownArrow {","position: absolute;","left: 0;","top: 0;","width: 16px;","height: 16px;","z-index: -1;","background-color: inherit;","border-color: inherit;","}",".blocklyDropDownButton {","display: inline-block;","float: left;","padding: 0;","margin: 4px;","border-radius: 4px;","outline: none;","border: 1px solid;","transition: box-shadow .1s;","cursor: pointer;","}",".arrowTop {","border-top: 1px solid;","border-left: 1px solid;","border-top-left-radius: 4px;",
"border-color: inherit;","}",".arrowBottom {","border-bottom: 1px solid;","border-right: 1px solid;","border-bottom-right-radius: 4px;","border-color: inherit;","}",".blocklyResizeSE {","cursor: se-resize;","fill: #aaa;","}",".blocklyResizeSW {","cursor: sw-resize;","fill: #aaa;","}",".blocklyResizeLine {","stroke: #515A5A;","stroke-width: 1;","}",".blocklyHighlightedConnectionPath {","fill: none;","stroke: #fc3;","stroke-width: 4px;","}",".blocklyPathLight {","fill: none;","stroke-linecap: round;",
"stroke-width: 1;","}",".blocklySelected>.blocklyPathLight {","display: none;","}",".blocklyDraggable {",'cursor: url("<<<PATH>>>/handopen.cur"), auto;',"cursor: grab;","cursor: -webkit-grab;","}",".blocklyDragging {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDraggable:active {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyBlockDragSurface .blocklyDraggable {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',
"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDragging.blocklyDraggingDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyDragging>.blocklyPath,",".blocklyDragging>.blocklyPathLight {","fill-opacity: .8;","stroke-opacity: .8;","}",".blocklyDragging>.blocklyPathDark {","display: none;","}",".blocklyDisabled>.blocklyPath {","fill-opacity: .5;","stroke-opacity: .5;","}",".blocklyDisabled>.blocklyPathLight,",".blocklyDisabled>.blocklyPathDark {","display: none;","}",
".blocklyInsertionMarker>.blocklyPath,",".blocklyInsertionMarker>.blocklyPathLight,",".blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: .2;","stroke: none","}",".blocklyMultilineText {","font-family: monospace;","}",".blocklyNonEditableText>text {","pointer-events: none;","}",".blocklyBubbleText {","fill: #000;","}",".blocklyFlyout {","position: absolute;","z-index: 20;","}",".blocklySvg text, .blocklyBlockDragSurface text {","user-select: none;","-ms-user-select: none;","-webkit-user-select: none;",
"cursor: inherit;","}",".blocklyHidden {","display: none;","}",".blocklyFieldDropdown:not(.blocklyHidden) {","display: block;","}",".blocklyIconGroup {","cursor: default;","}",".blocklyIconGroup:not(:hover),",".blocklyIconGroupReadonly {","opacity: .6;","}",".blocklyIconShape {","fill: #00f;","stroke: #fff;","stroke-width: 1px;","}",".blocklyIconSymbol {","fill: #fff;","}",".blocklyMinimalBody {","margin: 0;","padding: 0;","}",".blocklyHtmlInput {","border: none;","border-radius: 4px;","height: 100%;",
"margin: 0;","outline: none;","padding: 0;","width: 100%;","text-align: center;","display: block;","}",".blocklyHtmlInput::-ms-clear {","display: none;","}",".blocklyMainBackground {","stroke-width: 1;","stroke: #c6c6c6;","}",".blocklyMutatorBackground {","fill: #fff;","stroke: #ddd;","stroke-width: 1;","}",".blocklyFlyoutBackground {","fill: #ddd;","fill-opacity: .8;","}",".blocklyMainWorkspaceScrollbar {","z-index: 20;","}",".blocklyFlyoutScrollbar {","z-index: 30;","}",".blocklyScrollbarHorizontal, .blocklyScrollbarVertical {",
"position: absolute;","outline: none;","}",".blocklyScrollbarBackground {","opacity: 0;","}",".blocklyScrollbarHandle {","fill: #ccc;","}",".blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyScrollbarHandle:hover {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarHandle {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyFlyout .blocklyScrollbarHandle:hover {","fill: #aaa;","}",".blocklyInvalidInput {","background: #faa;",
"}",".blocklyContextMenu {","border-radius: 4px;","max-height: 100%;","}",".blocklyDropdownMenu {","border-radius: 2px;","padding: 0 !important;","}",".blocklyWidgetDiv .blocklyDropdownMenu .goog-menuitem,",".blocklyDropDownDiv .blocklyDropdownMenu .goog-menuitem {","padding-left: 28px;","}",".blocklyWidgetDiv .blocklyDropdownMenu .goog-menuitem.goog-menuitem-rtl,",".blocklyDropDownDiv .blocklyDropdownMenu .goog-menuitem.goog-menuitem-rtl {","padding-left: 5px;","padding-right: 28px;","}",".blocklyVerticalCursor {",
"stroke-width: 3px;","fill: rgba(255,255,255,.5);","}",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-icon,",".blocklyDropDownDiv .goog-option-selected .goog-menuitem-checkbox,",".blocklyDropDownDiv .goog-option-selected .goog-menuitem-icon {","background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px;","}",".blocklyWidgetDiv .goog-menu {","background: #fff;","border-color: transparent;","border-style: solid;","border-width: 1px;",
"cursor: default;","font: normal 13px Arial, sans-serif;","margin: 0;","outline: none;","padding: 4px 0;","position: absolute;","overflow-y: auto;","overflow-x: hidden;","max-height: 100%;","z-index: 20000;","box-shadow: 0px 0px 3px 1px rgba(0,0,0,.3);","}",".blocklyWidgetDiv .goog-menu.focused {","box-shadow: 0px 0px 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv .goog-menu {","cursor: default;",'font: normal 13px "Helvetica Neue", Helvetica, sans-serif;',"outline: none;","z-index: 20000;","}",
".blocklyWidgetDiv .goog-menuitem,",".blocklyDropDownDiv .goog-menuitem {","color: #000;","font: normal 13px Arial, sans-serif;","list-style: none;","margin: 0;","min-width: 7em;","border: none;","padding: 6px 15px;","white-space: nowrap;","cursor: pointer;","}",".blocklyWidgetDiv .goog-menu-nocheckbox .goog-menuitem,",".blocklyWidgetDiv .goog-menu-noicon .goog-menuitem,",".blocklyDropDownDiv .goog-menu-nocheckbox .goog-menuitem,",".blocklyDropDownDiv .goog-menu-noicon .goog-menuitem {","padding-left: 12px;",
"}",".blocklyWidgetDiv .goog-menuitem-content,",".blocklyDropDownDiv .goog-menuitem-content {","font: normal 13px Arial, sans-serif;","}",".blocklyWidgetDiv .goog-menuitem-content {","color: #000;","}",".blocklyDropDownDiv .goog-menuitem-content {","color: #000;","}",".blocklyWidgetDiv .goog-menuitem-disabled,",".blocklyDropDownDiv .goog-menuitem-disabled {","cursor: inherit;","}",".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-content,",".blocklyDropDownDiv .goog-menuitem-disabled .goog-menuitem-content {",
"color: #ccc !important;","}",".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-icon,",".blocklyDropDownDiv .goog-menuitem-disabled .goog-menuitem-icon {","opacity: .3;","filter: alpha(opacity=30);","}",".blocklyWidgetDiv .goog-menuitem-highlight ,",".blocklyDropDownDiv .goog-menuitem-highlight {","background-color: rgba(0,0,0,.1);","}",".blocklyWidgetDiv .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-menuitem-icon,",".blocklyDropDownDiv .goog-menuitem-checkbox,",".blocklyDropDownDiv .goog-menuitem-icon {",
"background-repeat: no-repeat;","height: 16px;","left: 6px;","position: absolute;","right: auto;","vertical-align: middle;","width: 16px;","}",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-icon,",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-checkbox,",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-icon {","left: auto;","right: 6px;","}",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-icon,",
".blocklyDropDownDiv .goog-option-selected .goog-menuitem-checkbox,",".blocklyDropDownDiv .goog-option-selected .goog-menuitem-icon {","position: static;","float: left;","margin-left: -24px;","}",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-icon,",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-checkbox,",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-icon {","float: right;","margin-right: -24px;","}",".blocklyComputeCanvas {",
"position: absolute;","width: 0;","height: 0;","}"];
h.u=function(){};h.u.mn=null;h.u.nc=null;h.u.It=null;h.u.pk=16;h.u.Zp=1;h.u.Vp=12;h.u.Nq=16;h.u.pm=.25;h.u.hq="#dadce0";h.u.iq="#fff";h.u.bn=null;h.u.Jg=null;h.u.wd=null;h.u.yd=null;
h.u.La=function(){if(!h.u.Dd){var a=document.createElement("div");a.className="blocklyDropDownDiv";a.style.backgroundColor=h.u.iq;a.style.borderColor=h.u.hq;document.body.appendChild(a);h.u.Dd=a;var c=document.createElement("div");c.className="blocklyDropDownContent";a.appendChild(c);h.u.ig=c;c=document.createElement("div");c.className="blocklyDropDownArrow";a.appendChild(c);h.u.Rc=c;h.u.Dd.style.opacity=0;h.u.Dd.style.transition="transform "+h.u.pm+"s, opacity "+h.u.pm+"s";a.addEventListener("focusin",
function(){h.g.m.pb(a,"focused")});a.addEventListener("focusout",function(){h.g.m.Ec(a,"focused")})}};h.u.Cz=function(a){h.u.mn=a};h.u.Wx=function(){return h.u.ig};h.u.Qw=function(){h.u.ig.innerHTML="";h.u.ig.style.width=""};h.u.Se=function(a){h.u.Dd.style.backgroundColor=a;h.u.Dd.style.borderColor=void 0};h.u.ZD=function(a,c,d,e){return h.u.Wt(h.u.vs(c),a,d,e)};h.u.Iz=function(a,c){h.u.It=!0;h.u.Wt(h.u.ws(a),a,c,void 0)};
h.u.vs=function(a){var c=a.qa(),d=c.getBBox(),e=a.A.scale;a=d.height*e;d=d.width*e;c=h.g.style.jj(c);return new h.g.Rect(c.y,c.y+a,c.x,c.x+d)};h.u.ws=function(a){var c=a.hd.getBBox(),d=c.height*a.H.A.scale;c=c.width*a.H.A.scale;a=h.g.style.jj(fa(a));return new h.g.Rect(a.y,a.y+d,a.x,a.x+c)};h.u.Wt=function(a,c,d,e){var f=a.left+(a.right-a.left)/2,g=a.bottom;a=a.top;e&&(a+=e);e=c.M();h.u.Cz(x(e.A).parentNode);return h.u.show(c,e.D,f,g,f,a,d)};
h.u.show=function(a,c,d,e,f,g,k){h.u.nc=a;h.u.Jg=k||null;a=h.u.Dd;a.style.direction=c?"rtl":"ltr";h.u.wd=h.la().Kb.name+"-renderer";h.u.yd=h.la().qf().name+"-theme";h.g.m.pb(a,h.u.wd);h.g.m.pb(a,h.u.yd);return h.u.Pj(d,e,f,g)};h.u.Px=function(){var a=h.u.mn.getBoundingClientRect(),c=h.g.style.Je(h.u.mn);return{left:a.left,right:a.left+c.width,top:a.top,bottom:a.top+c.height,width:c.width,height:c.height}};
h.u.by=function(a,c,d,e){var f=h.u.Px(),g=h.g.style.Je(h.u.Dd);return c+g.height<f.bottom?h.u.us(a,c,f,g):e-g.height>f.top?h.u.ts(d,e,f,g):c+g.height<document.documentElement.clientHeight?h.u.us(a,c,f,g):e-g.height>document.documentElement.clientTop?h.u.ts(d,e,f,g):h.u.ey(a,f,g)};h.u.us=function(a,c,d,e){a=h.u.mo(a,d.left,d.right,e.width);return{xo:a.Dh,yo:c,$n:a.Dh,ao:c+h.u.Nq,Ki:a.Ki,xr:-(h.u.pk/2+h.u.Zp),cn:!0,dn:!0}};
h.u.ts=function(a,c,d,e){a=h.u.mo(a,d.left,d.right,e.width);return{xo:a.Dh,yo:c-e.height,$n:a.Dh,ao:c-e.height-h.u.Nq,Ki:a.Ki,xr:e.height-2*h.u.Zp-h.u.pk/2,cn:!1,dn:!0}};h.u.ey=function(a,c,d){a=h.u.mo(a,c.left,c.right,d.width);return{xo:a.Dh,yo:0,$n:a.Dh,ao:0,dn:!1}};h.u.mo=function(a,c,d,e){var f=a;a=h.g.Ub.Oi(c,a-e/2,d-e);f-=h.u.pk/2;c=h.g.Ub.Oi(h.u.Vp,f-a,e-h.u.Vp-h.u.pk);return{Ki:c,Dh:a}};h.u.isVisible=function(){return!!h.u.nc};h.u.nj=function(a,c){h.u.nc===a&&(c?h.u.uo():h.u.Da())};
h.u.Da=function(){var a=h.u.Dd;a.style.transform="translate(0, 0)";a.style.opacity=0;h.u.bn=setTimeout(function(){h.u.uo()},1E3*h.u.pm);h.u.Jg&&(h.u.Jg(),h.u.Jg=null)};
h.u.uo=function(){if(h.u.isVisible()){h.u.bn&&clearTimeout(h.u.bn);var a=h.u.Dd;a.style.transform="";a.style.left="";a.style.top="";a.style.opacity=0;a.style.display="none";a.style.backgroundColor=h.u.iq;a.style.borderColor=h.u.hq;h.u.Jg&&(h.u.Jg(),h.u.Jg=null);h.u.Qw();h.u.nc=null;h.u.wd&&(h.g.m.Ec(a,h.u.wd),h.u.wd=null);h.u.yd&&(h.g.m.Ec(a,h.u.yd),h.u.yd=null);y(h.la())}};
h.u.Pj=function(a,c,d,e){a=h.u.by(a,c,d,e);a.dn?(h.u.Rc.style.display="",h.u.Rc.style.transform="translate("+a.Ki+"px,"+a.xr+"px) rotate(45deg)",h.u.Rc.setAttribute("class",a.cn?"blocklyDropDownArrow arrowTop":"blocklyDropDownArrow arrowBottom")):h.u.Rc.style.display="none";c=Math.floor(a.xo);d=Math.floor(a.yo);e=Math.floor(a.$n);var f=Math.floor(a.ao),g=h.u.Dd;g.style.left=c+"px";g.style.top=d+"px";g.style.display="block";g.style.opacity=1;g.style.transform="translate("+(e-c)+"px,"+(f-d)+"px)";return a.cn};
h.u.ND=function(){if(h.u.nc){var a=h.u.nc,c=h.u.nc.M();a=h.u.It?h.u.ws(a):h.u.vs(c);c=a.left+(a.right-a.left)/2;h.u.Pj(c,a.bottom,c,a.top)}else h.u.Da()};
h.Vf=function(a,c){this.Hh=a;this.Dp=c.spacing;this.dt=c.length;this.Ly=(this.Lo=a.firstChild)&&this.Lo.nextSibling;this.Lz=c.snap};h.Vf.prototype.If=1;h.Vf.prototype.F=function(){this.Hh=null};h.Vf.prototype.update=function(a){this.If=a;var c=this.Dp*a||100;this.Hh.setAttribute("width",c);this.Hh.setAttribute("height",c);c=Math.floor(this.Dp/2)+.5;var d=c-this.dt/2,e=c+this.dt/2;c*=a;d*=a;e*=a;ha(this.Lo,a,d,e,c,c);ha(this.Ly,a,c,c,d,e)};
function ha(a,c,d,e,f,g){a&&(a.setAttribute("stroke-width",c),a.setAttribute("x1",d),a.setAttribute("y1",f),a.setAttribute("x2",e),a.setAttribute("y2",g))}h.Vf.prototype.moveTo=function(a,c){this.Hh.setAttribute("x",a);this.Hh.setAttribute("y",c);(h.g.userAgent.oe||h.g.userAgent.oi)&&this.update(this.If)};
h.Vf.La=function(a,c,d){a=h.g.m.N("pattern",{id:"blocklyGridPattern"+a,patternUnits:"userSpaceOnUse"},d);0<c.length&&0<c.spacing?(h.g.m.N("line",{stroke:c.colour},a),1<c.length&&h.g.m.N("line",{stroke:c.colour},a)):h.g.m.N("line",{},a);return a};h.ed=function(a,c,d,e){this.name=a;this.uh={};for(var f in c)a=f,d=c[f],d=h.ed.bA(d),this.uh[a]=d;this.Xw=e||Object.create(null)};h.ed.Wi=function(a){return{kd:a,Qi:h.g.$a.Mi("#fff",a,.6)||a,xh:h.g.$a.Mi("#fff",a,.3)||a,qd:""}};h.ed.bA=function(a){var c={};a&&h.g.object.Eg(c,a);a=h.g.Ql(c.colourPrimary||"#000");c.kd=a.mj;c.Qi=c.colourSecondary?h.g.Ql(c.colourSecondary).mj:h.g.$a.Mi("#fff",c.kd,.6)||c.kd;c.xh=c.xh?h.g.Ql(c.colourTertiary).mj:h.g.$a.Mi("#fff",c.kd,.3)||c.kd;c.qd=c.hat||"";return c};
function ia(a,c){return(c=a.Xw[c])&&"string"==typeof propertyValue&&ia(a,c)?ia(a,c):c?String(c):null};h.ff={};h.ff.Sf={};h.ff.Sf.lx={colour_blocks:{colourPrimary:"20"},list_blocks:{colourPrimary:"260"},logic_blocks:{colourPrimary:"210"},loop_blocks:{colourPrimary:"120"},math_blocks:{colourPrimary:"230"},procedure_blocks:{colourPrimary:"290"},text_blocks:{colourPrimary:"160"},variable_blocks:{colourPrimary:"330"},variable_dynamic_blocks:{colourPrimary:"310"},hat_blocks:{colourPrimary:"330",hat:"cap"}};
h.ff.Sf.Iw={colour_category:{colour:"20"},list_category:{colour:"260"},logic_category:{colour:"210"},loop_category:{colour:"120"},math_category:{colour:"230"},procedure_category:{colour:"290"},text_category:{colour:"160"},variable_category:{colour:"330"},variable_dynamic_category:{colour:"310"}};h.ff.Sf=new h.ed("classic",h.ff.Sf.lx,h.ff.Sf.Iw);h.g.fb={IC:0,vB:3,yu:8,wC:9,EB:12,nq:13,Ov:16,vA:17,tu:18,aC:19,pA:20,oq:27,uC:32,$B:33,ZB:34,EA:35,hB:36,rB:37,aw:38,kC:39,Su:40,dC:43,gC:44,Bm:45,ni:46,ZERO:48,ONE:49,BC:50,xC:51,aB:52,$A:53,sC:54,qC:55,DA:56,CB:57,XA:59,VA:61,UA:173,WA:163,hC:63,jA:64,nu:65,kA:66,Eu:67,Ou:68,E:69,HA:70,bB:71,fB:72,iv:73,mB:74,qv:75,oB:76,uB:77,BB:78,UB:79,YB:80,Q:81,iC:82,Nv:83,Vv:84,CC:85,bw:86,ew:87,sr:88,KC:89,kw:90,Bv:91,JC:92,uA:93,TB:96,MB:97,SB:98,RB:99,IB:100,HB:101,QB:102,PB:103,GB:104,LB:105,KB:106,OB:107,
JB:109,NB:110,FB:111,IA:112,MA:113,NA:114,OA:115,PA:116,QA:117,RA:118,SA:119,TA:120,JA:121,KA:122,LA:123,DB:144,nC:145,ZA:166,qB:183,oC:186,wA:189,FA:187,tA:188,bC:190,tC:191,iA:192,yC:192,rC:222,VB:219,lA:220,rA:221,HC:224,wB:224,xB:91,yB:93,GC:229,FC:252,cC:255};h.Pa={};h.Pa.Ja={};h.Pa.Ja.Cg={};h.Pa.Ja.To={Ov:"Shift",Iu:"Control",tu:"Alt",Bv:"Meta"};h.Pa.Ja.UD=function(a,c){var d=h.Pa.Ja.$x(c);d&&delete h.Pa.Ja.Cg[d];h.Pa.Ja.Cg[a]=c};h.Pa.Ja.Fz=function(a){h.Pa.Ja.Cg=a};h.Pa.Ja.mD=function(){var a={};h.g.object.Eg(a,h.Pa.Ja.Cg);return a};h.Pa.Ja.Lx=function(a){return h.Pa.Ja.Cg[a]};h.Pa.Ja.$x=function(a){for(var c=Object.keys(h.Pa.Ja.Cg),d=0,e;e=c[d];d++)if(h.Pa.Ja.Cg[e].name===a.name)return e;return null};
h.Pa.Ja.Bz=function(a){for(var c=h.g.object.values(h.Pa.Ja.To),d="",e=0,f;f=c[e];e++)a.getModifierState(f)&&(d+=f);return d+=a.keyCode};h.Pa.Ja.hx=function(){for(var a=h.g.fb.qv,c=[h.Pa.Ja.To.Iu],d="",e=h.g.object.values(h.Pa.Ja.To),f=0,g;g=c[f];f++)if(-1<e.indexOf(g))d+=g;else throw Error(g+" is not a valid modifier key.");return d+a};
h.Pa.Ja.bx=function(){var a={},c=h.Pa.Ja.hx();a[h.g.fb.ew]=h.navigation.lm;a[h.g.fb.nu]=h.navigation.Qp;a[h.g.fb.Nv]=h.navigation.km;a[h.g.fb.Ou]=h.navigation.Pp;a[h.g.fb.iv]=h.navigation.pu;a[h.g.fb.nq]=h.navigation.qu;a[h.g.fb.sr]=h.navigation.ou;a[h.g.fb.Vv]=h.navigation.ru;a[h.g.fb.E]=h.navigation.jm;a[h.g.fb.oq]=h.navigation.jm;a[c]=h.navigation.Rp;return a};h.g.xml={};h.g.xml.Ev="https://developers.google.com/blockly/xml";h.g.xml.document=function(){return document};h.g.xml.createElement=function(a){return h.g.xml.document().createElementNS(h.g.xml.Ev,a)};h.g.xml.createTextNode=function(a){return h.g.xml.document().createTextNode(a)};h.g.xml.Sz=function(a){return(new DOMParser).parseFromString(a,"text/xml")};h.g.xml.De=function(a){return(new XMLSerializer).serializeToString(a)};h.h.Ad=function(a){h.h.Ad.v.constructor.call(this);this.Rb=a.id;this.vb=a.A.id};h.g.object.P(h.h.Ad,h.h.Abstract);h.h.Ad.prototype.sa=function(){var a=h.h.Ad.v.sa.call(this);a.blockId=this.Rb;return a};h.h.Ad.prototype.ga=function(a){h.h.Ad.v.ga.call(this,a);this.Rb=a.blockId};h.h.af=function(a,c,d,e,f){a&&(h.h.af.v.constructor.call(this,a),this.element=c,this.name=d,this.oldValue=e,this.newValue=f)};h.g.object.P(h.h.af,h.h.Ad);h.h.dh=h.h.af;b=h.h.af.prototype;b.type=h.h.mi;
b.sa=function(){var a=h.h.af.v.sa.call(this);a.element=this.element;this.name&&(a.name=this.name);a.newValue=this.newValue;return a};b.ga=function(a){h.h.af.v.ga.call(this,a);this.element=a.element;this.name=a.name;this.newValue=a.newValue};b.Ph=function(){return this.oldValue==this.newValue};
b.run=function(a){var c=w(this).jc(this.Rb);if(c)switch(c.Bf&&c.Bf.xd(!1),a=a?this.newValue:this.oldValue,this.element){case "field":(c=z(c,this.name))?c.setValue(a):console.warn("Can't set non-existent field: "+this.name);break;case "comment":c.ai(a||null);break;case "collapsed":c.Jf(!!a);break;case "disabled":c.Te(!a);break;case "inline":c.Qg(!!a);break;case "mutation":var d="";c.Vb&&(d=(d=c.Vb())&&h.I.De(d));if(c.xc){var e=h.I.Xe(a||"<mutation/>");c.xc(e)}h.h.ya(new h.h.af(c,"mutation",null,d,
a));break;default:console.warn("Unknown change type: "+this.element)}else console.warn("Can't change non-existent block: "+this.Rb)};h.h.Bd=function(a){a&&(h.h.Bd.v.constructor.call(this,a),this.xml=a.A.Z?h.I.kn(a):h.I.hg(a),this.wg=h.h.ps(a))};h.g.object.P(h.h.Bd,h.h.Ad);h.h.rk=h.h.Bd;h.h.Bd.prototype.type=h.h.wk;h.h.Bd.prototype.sa=function(){var a=h.h.Bd.v.sa.call(this);a.xml=h.I.De(this.xml);a.ids=this.wg;return a};
h.h.Bd.prototype.ga=function(a){h.h.Bd.v.ga.call(this,a);this.xml=h.I.Xe(a.xml);this.wg=a.ids};h.h.Bd.prototype.run=function(a){var c=w(this);if(a)a=h.g.xml.createElement("xml"),a.appendChild(this.xml),h.I.Ee(a,c);else{a=0;for(var d;d=this.wg[a];a++){var e=c.jc(d);e?e.F(!1):d==this.Rb&&console.warn("Can't uncreate non-existent block: "+d)}}};
h.h.Ed=function(a){if(a){if(a.getParent())throw Error("Connected blocks cannot be deleted.");h.h.Ed.v.constructor.call(this,a);this.Zy=a.A.Z?h.I.kn(a):h.I.hg(a);this.wg=h.h.ps(a)}};h.g.object.P(h.h.Ed,h.h.Ad);h.h.Du=h.h.Ed;h.h.Ed.prototype.type=h.h.ni;h.h.Ed.prototype.sa=function(){var a=h.h.Ed.v.sa.call(this);a.ids=this.wg;return a};h.h.Ed.prototype.ga=function(a){h.h.Ed.v.ga.call(this,a);this.wg=a.ids};
h.h.Ed.prototype.run=function(a){var c=w(this);if(a){a=0;for(var d;d=this.wg[a];a++){var e=c.jc(d);e?e.F(!1):d==this.Rb&&console.warn("Can't delete non-existent block: "+d)}}else a=h.g.xml.createElement("xml"),a.appendChild(this.Zy),h.I.Ee(a,c)};h.h.Yf=function(a){a&&(h.h.Yf.v.constructor.call(this,a),a=ja(this),this.st=a.zt,this.rt=a.Ts,this.$o=a.Pr)};h.g.object.P(h.h.Yf,h.h.Ad);h.h.li=h.h.Yf;b=h.h.Yf.prototype;b.type=h.h.yi;
b.sa=function(){var a=h.h.Yf.v.sa.call(this);this.Hg&&(a.newParentId=this.Hg);this.Gg&&(a.newInputName=this.Gg);this.Cf&&(a.newCoordinate=Math.round(this.Cf.x)+","+Math.round(this.Cf.y));return a};b.ga=function(a){h.h.Yf.v.ga.call(this,a);this.Hg=a.newParentId;this.Gg=a.newInputName;a.newCoordinate&&(a=a.newCoordinate.split(","),this.Cf=new h.g.L(Number(a[0]),Number(a[1])))};b.Mg=function(){var a=ja(this);this.Hg=a.zt;this.Gg=a.Ts;this.Cf=a.Pr};
function ja(a){var c=w(a).jc(a.Rb);a={};var d=c.getParent();if(d){a.zt=d.id;a:{for(var e=0,f;f=d.J[e];e++)if(f.connection&&f.connection.ea()==c){c=f;break a}c=null}c&&(a.Ts=c.name)}else a.Pr=c.Ca();return a}b.Ph=function(){return this.st==this.Hg&&this.rt==this.Gg&&h.g.L.He(this.$o,this.Cf)};
b.run=function(a){var c=w(this),d=c.jc(this.Rb);if(d){var e=a?this.Hg:this.st,f=a?this.Gg:this.rt;a=a?this.Cf:this.$o;var g=null;if(e&&(g=c.jc(e),!g)){console.warn("Can't connect to non-existent block: "+e);return}d.getParent()&&A(d);if(a)f=d.Ca(),d.moveBy(a.x-f.x,a.y-f.y);else{d=d.K||d.O;if(f){if(c=ka(g,f))var k=c.connection}else d.type==h.dd&&(k=g.V);k?d.connect(k):console.warn("Can't connect to non-existent input: "+f)}}else console.warn("Can't move non-existent block: "+this.Rb)};h.h.hh=function(a){this.vb=a.id;this.group=h.h.rb();this.Jb=!1};h.g.object.P(h.h.hh,h.h.Zb);h.h.hh.prototype.type=h.h.uq;h.h.hh.prototype.sa=function(){var a={type:this.type};this.group&&(a.group=this.group);this.vb&&(a.workspaceId=this.vb);return a};h.h.hh.prototype.ga=function(a){this.vb=a.workspaceId;this.group=a.group};h.h.ue=function(a){h.h.ue.v.constructor.call(this);this.Mf=a.hb();this.vb=a.A.id};h.g.object.P(h.h.ue,h.h.Abstract);h.h.ue.prototype.sa=function(){var a=h.h.ue.v.sa.call(this);a.varId=this.Mf;return a};h.h.ue.prototype.ga=function(a){h.h.ue.v.sa.call(this);this.Mf=a.varId};h.h.fd=function(a){a&&(h.h.fd.v.constructor.call(this,a),this.Zg=a.type,this.Yg=a.name)};h.g.object.P(h.h.fd,h.h.ue);h.h.fd.prototype.type=h.h.hr;
h.h.fd.prototype.sa=function(){var a=h.h.fd.v.sa.call(this);a.varType=this.Zg;a.varName=this.Yg;return a};h.h.fd.prototype.ga=function(a){h.h.fd.v.ga.call(this,a);this.Zg=a.varType;this.Yg=a.varName};h.h.fd.prototype.run=function(a){var c=w(this);a?c.md(this.Yg,this.Zg,this.Mf):c.Ch(this.Mf)};h.h.gd=function(a){a&&(h.h.gd.v.constructor.call(this,a),this.Zg=a.type,this.Yg=a.name)};h.g.object.P(h.h.gd,h.h.ue);h.h.gd.prototype.type=h.h.ir;
h.h.gd.prototype.sa=function(){var a=h.h.gd.v.sa.call(this);a.varType=this.Zg;a.varName=this.Yg;return a};h.h.gd.prototype.ga=function(a){h.h.gd.v.ga.call(this,a);this.Zg=a.varType;this.Yg=a.varName};h.h.gd.prototype.run=function(a){var c=w(this);a?c.Ch(this.Mf):c.md(this.Yg,this.Zg,this.Mf)};h.h.Md=function(a,c){a&&(h.h.Md.v.constructor.call(this,a),this.bp=a.name,this.Xo=c)};h.g.object.P(h.h.Md,h.h.ue);h.h.Md.prototype.type=h.h.jr;
h.h.Md.prototype.sa=function(){var a=h.h.Md.v.sa.call(this);a.oldName=this.bp;a.newName=this.Xo;return a};h.h.Md.prototype.ga=function(a){h.h.Md.v.ga.call(this,a);this.bp=a.oldName;this.Xo=a.newName};h.h.Md.prototype.run=function(a){var c=w(this);a?c.Ng(this.Mf,this.Xo):c.Ng(this.Mf,this.bp)};h.I={};h.I.eA=function(){var a=B,c=h.g.xml.createElement("xml"),d=h.I.cA(h.fa.uw(a));d.hasChildNodes()&&c.appendChild(d);var e=la(a,!0);d=0;for(var f;f=e[d];d++)c.appendChild(f.Jp(!0));a=a.cc(!0);for(d=0;e=a[d];d++)c.appendChild(h.I.kn(e,!0));return c};h.I.cA=function(a){for(var c=h.g.xml.createElement("variables"),d=0,e;e=a[d];d++){var f=h.g.xml.createElement("variable");f.appendChild(h.g.xml.createTextNode(e.name));e.type&&f.setAttribute("type",e.type);f.id=e.hb();c.appendChild(f)}return c};
h.I.kn=function(a,c){var d;a.A.D&&(d=a.A.kj());c=h.I.hg(a,c);var e=a.Ca();c.setAttribute("x",Math.round(a.A.D?d-e.x:e.x));c.setAttribute("y",Math.round(e.y));return c};
h.I.Dx=function(a){var c=!1;a.name&&(a.Yq?c=!0:a.pi&&(console.warn("Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization."),c=!0));return c?(c=h.g.xml.createElement("field"),c.setAttribute("name",a.name||""),c.textContent=a.getValue(),c):null};h.I.sw=function(a,c){for(var d=0,e;e=a.J[d];d++)for(var f=0,g;g=e.xa[f];f++)(g=h.I.Dx(g))&&c.appendChild(g)};
h.I.hg=function(a,c){var d=h.g.xml.createElement(a.Ia?"shadow":"block");d.setAttribute("type",a.type);c||(d.id=a.id);if(a.Vb){var e=a.Vb();e&&(e.hasChildNodes()||e.hasAttributes())&&d.appendChild(e)}h.I.sw(a,d);if(e=a.ye.text){var f=a.ye.size,g=a.ye.Ct,k=h.g.xml.createElement("comment");k.appendChild(h.g.xml.createTextNode(e));k.setAttribute("pinned",g);k.setAttribute("h",f.height);k.setAttribute("w",f.width);d.appendChild(k)}a.data&&(e=h.g.xml.createElement("data"),e.appendChild(h.g.xml.createTextNode(a.data)),
d.appendChild(e));for(f=0;g=a.J[f];f++){var l;k=!0;if(g.type!=h.ne){var m=g.connection.ea();g.type==h.Fa?l=h.g.xml.createElement("value"):g.type==h.ta&&(l=h.g.xml.createElement("statement"));e=g.connection.be;!e||m&&m.Ia||l.appendChild(h.I.Hr(e,c));m&&(l.appendChild(h.I.hg(m,c)),k=!1);l.setAttribute("name",g.name);k||d.appendChild(l)}}void 0!=a.Ne&&a.Ne!=a.Cy&&d.setAttribute("inline",a.Ne);a.isCollapsed()&&d.setAttribute("collapsed",!0);a.isEnabled()||d.setAttribute("disabled",!0);a.Ac()||a.Ia||d.setAttribute("deletable",
!1);a.lc()||a.Ia||d.setAttribute("movable",!1);a.Cc()||d.setAttribute("editable",!1);if(f=t(a))l=h.g.xml.createElement("next"),l.appendChild(h.I.hg(f,c)),d.appendChild(l);e=a.V&&a.V.be;!e||f&&f.Ia||l.appendChild(h.I.Hr(e,c));return d};
h.I.Hr=function(a,c){for(var d=a=a.cloneNode(!0),e;d;)if(c&&"shadow"==d.nodeName&&d.removeAttribute("id"),d.firstChild)d=d.firstChild;else{for(;d&&!d.nextSibling;)e=d,d=d.parentNode,e.nodeType==h.g.m.Node.TEXT_NODE&&""==e.data.trim()&&d.firstChild!=e&&h.g.m.removeNode(e);d&&(e=d,d=d.nextSibling,e.nodeType==h.g.m.Node.TEXT_NODE&&""==e.data.trim()&&h.g.m.removeNode(e))}return a};
h.I.De=function(a){a=h.g.xml.De(a);var c=/(<[^/](?:[^>]*[^/])?>[^<]*)\n([^<]*<\/)/;do{var d=a;a=a.replace(c,"$1&#10;$2")}while(a!=d);return a};h.I.dD=function(a){a=h.I.De(a).split("<");for(var c="",d=1;d<a.length;d++){var e=a[d];"/"==e[0]&&(c=c.substring(2));a[d]=c+"<"+e;"/"!=e[0]&&"/>"!=e.slice(-2)&&(c+="  ")}a=a.join("\n");a=a.replace(/(<(\w+)\b[^>]*>[^\n]*)\n *<\/\2>/g,"$1</$2>");return a.replace(/^\n/,"")};
h.I.Xe=function(a){var c=h.g.xml.Sz(a);if(!c||!c.documentElement||c.getElementsByTagName("parsererror").length)throw Error("textToDom was unable to parse: "+a);return c.documentElement};h.I.WC=function(a,c){c.rc(!1);c.clear();a=h.I.Ee(a,c);c.rc(!0);return a};
h.I.Ee=function(a,c){if(a instanceof h.Za){var d=a;a=c;c=d;console.warn("Deprecated call to Blockly.Xml.domToWorkspace, swap the arguments.")}var e;c.D&&(e=c.kj());d=[];h.g.m.ak();var f=h.h.rb();f||h.h.ba(!0);c.rc&&c.rc(!1);var g=!0;try{for(var k=0,l;l=a.childNodes[k];k++){var m=l.nodeName.toLowerCase(),n=l;if("block"==m||"shadow"==m&&!h.h.Jb){var r=h.I.gl(n,c);d.push(r.id);var q=n.hasAttribute("x")?parseInt(n.getAttribute("x"),10):10,u=n.hasAttribute("y")?parseInt(n.getAttribute("y"),10):10;isNaN(q)||
isNaN(u)||r.moveBy(c.D?e-q:q,u);g=!1}else{if("shadow"==m)throw TypeError("Shadow block cannot be a top-level block.");if("comment"==m)c.Z?h.sh?h.sh.setValue(n.textContent):console.warn("Missing require for Blockly.WorkspaceCommentSvg, ignoring workspace comment."):h.gw?h.gw.setValue(n.textContent):console.warn("Missing require for Blockly.WorkspaceComment, ignoring workspace comment.");else if("variables"==m){if(g)h.I.yx(n,c);else throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");
g=!1}}}}finally{f||h.h.ba(!1),h.g.m.bk()}c.rc&&c.rc(!0);h.h.ya(new h.h.hh(c));return d};h.I.NC=function(a,c){var d;c.hasOwnProperty("scale")&&(d=ma(c));a=h.I.Ee(a,c);if(d&&d.top!=d.bottom){var e=d.bottom;var f=d.left;var g=Infinity,k=Infinity;for(d=0;d<a.length;d++){var l=c.jc(a[d]).Ca();l.y<k&&(k=l.y);l.x<g&&(g=l.x)}e=e-k+10;f-=g;var m;c.D&&(m=c.kj());for(d=0;d<a.length;d++)c.jc(a[d]).moveBy(c.D?m-f:f,e)}return a};
h.I.gl=function(a,c){if(a instanceof h.Za){var d=a;a=c;c=d;console.warn("Deprecated call to Blockly.Xml.domToBlock, swap the arguments.")}h.h.disable();d=c.qg();try{var e=h.I.Pn(a,c),f=p(e,!1);if(c.Z){na(e,!1);for(var g=f.length-1;0<=g;g--)f[g].yg();for(g=f.length-1;0<=g;g--)f[g].pa(!1);setTimeout(function(){e.nf||na(e,!0)},1);e.$e();C(c)}else for(g=f.length-1;0<=g;g--);}finally{h.h.enable()}if(h.h.isEnabled()){a=h.fa.Mx(c,d);for(g=0;g<a.length;g++)h.h.ya(new h.h.fd(a[g]));h.h.ya(new h.h.rk(e))}return e};
h.I.yx=function(a,c){for(var d=0,e;e=a.childNodes[d];d++)if(e.nodeType==h.g.m.Node.ELEMENT_NODE){var f=e.getAttribute("type"),g=e.getAttribute("id");c.md(e.textContent,f,g)}};
h.I.Pn=function(a,c){var d=null,e=a.getAttribute("type");if(!e)throw TypeError("Block type unspecified: "+a.outerHTML);var f=a.getAttribute("id");d=c.Vh(e,f);var g=null;f=0;for(var k;k=a.childNodes[f];f++)if(k.nodeType!=h.g.m.Node.TEXT_NODE){var l=g=null;var m=0;for(var n;n=k.childNodes[m];m++)n.nodeType==h.g.m.Node.ELEMENT_NODE&&("block"==n.nodeName.toLowerCase()?g=n:"shadow"==n.nodeName.toLowerCase()&&(l=n));!g&&l&&(g=l);n=k.getAttribute("name");m=k;switch(k.nodeName.toLowerCase()){case "mutation":d.xc&&
(d.xc(m),d.yg&&d.yg());break;case "comment":if(!h.Comment){console.warn("Missing require for Blockly.Comment, ignoring block comment.");break}g=m.textContent;l="true"==m.getAttribute("pinned");k=parseInt(m.getAttribute("w"),10);m=parseInt(m.getAttribute("h"),10);d.ai(g);d.ye.Ct=l;isNaN(k)||isNaN(m)||(d.ye.size=new h.g.te(k,m));l&&d.Sx&&!d.Xd&&setTimeout(function(){d.Rd.xd(!0)},1);break;case "data":d.data=k.textContent;break;case "title":case "field":h.I.xx(d,n,m);break;case "value":case "statement":m=
ka(d,n);if(!m){console.warn("Ignoring non-existent input "+n+" in block "+e);break}l&&(m.connection.be=l);if(g)if(g=h.I.Pn(g,c),g.K)m.connection.connect(g.K);else if(g.O)m.connection.connect(g.O);else throw TypeError("Child block does not have output or previous statement.");break;case "next":l&&d.V&&(d.V.be=l);if(g){if(!d.V)throw TypeError("Next statement does not exist.");if(d.V.isConnected())throw TypeError("Next statement is already connected.");g=h.I.Pn(g,c);if(!g.O)throw TypeError("Next block does not have previous statement.");
d.V.connect(g.O)}break;default:console.warn("Ignoring unknown tag: "+k.nodeName)}}(f=a.getAttribute("inline"))&&d.Qg("true"==f);(f=a.getAttribute("disabled"))&&d.Te("true"!=f&&"disabled"!=f);if(f=a.getAttribute("deletable"))d.Cn="true"==f;(f=a.getAttribute("movable"))&&d.xp("true"==f);(f=a.getAttribute("editable"))&&d.wp("true"==f);(f=a.getAttribute("collapsed"))&&d.Jf("true"==f);if("shadow"==a.nodeName.toLowerCase()){a=D(d,!1);for(f=0;c=a[f];f++)if(!c.Ia)throw TypeError("Shadow block not allowed non-shadow child.");
if(oa(d).length)throw TypeError("Shadow blocks cannot have variable references.");d.Ap(!0)}return d};h.I.xx=function(a,c,d){var e=z(a,c);e?e.setValue(d.textContent):console.warn("Ignoring non-existent field "+c+" in block "+a.type)};h.I.mx=function(a){for(var c=0,d;d=a.childNodes[c];c++)if("next"==d.nodeName.toLowerCase()){a.removeChild(d);break}};h.Nc=function(a){var c=!!a.readOnly;if(c)var d=null,e=!1,f=!1,g=!1,k=!1,l=!1,m=!1;else d=h.Nc.lz(a.toolbox||null),e=!(!d||!d.getElementsByTagName("category").length),f=a.trashcan,void 0===f&&(f=e),g=a.collapse,void 0===g&&(g=e),k=a.comments,void 0===k&&(k=e),l=a.disable,void 0===l&&(l=e),m=a.sounds,void 0===m&&(m=!0);var n=!!a.rtl,r=a.horizontalLayout;void 0===r&&(r=!1);var q=a.toolboxPosition;q="end"===q?!1:!0;q=r?q?h.Fi:h.Xm:q==n?h.Ym:h.Ei;var u=a.css;void 0===u&&(u=!0);var v="https://blockly-demo.appspot.com/static/media/";
a.media?v=a.media:a.path&&(v=a.path+"media/");var I=void 0===a.oneBasedIndex?!0:!!a.oneBasedIndex,J=a.keyMap||h.Pa.Ja.bx(),T=a.renderer||"geras";this.D=n;this.xt=I;this.collapse=g;this.Tw=k;this.disable=l;this.readOnly=c;this.Ij=a.maxBlocks||Infinity;this.So=a.maxInstances;this.Bt=v;this.Hs=e;this.sb=h.Nc.jz(a,e);this.Ls=f;this.uy=m;this.sy=u;this.pj=r;this.Fo=d;this.Ds=h.Nc.iz(a);this.Aa=h.Nc.mz(a);this.Db=q;this.Tz=h.Nc.kz(a);this.Ja=J;this.Vl=T};h.oA=function(){};h.Nc.prototype.Dc=null;
h.Nc.jz=function(a,c){var d=a.move||{},e={};e.scrollbars=void 0===d.scrollbars&&void 0===a.scrollbars?c:!!d.scrollbars||!!a.scrollbars;e.Of=e.scrollbars&&void 0!==d.wheel?!!d.wheel:!1;e.Fe=e.scrollbars?void 0===d.drag?!0:!!d.drag:!1;return e};
h.Nc.mz=function(a){a=a.zoom||{};var c={};c.controls=void 0===a.controls?!1:!!a.controls;c.Of=void 0===a.wheel?!1:!!a.wheel;c.Pz=void 0===a.startScale?1:Number(a.startScale);c.Jj=void 0===a.maxScale?3:Number(a.maxScale);c.Kj=void 0===a.minScale?.3:Number(a.minScale);c.zz=void 0===a.scaleSpeed?1.2:Number(a.scaleSpeed);c.jp=void 0===a.pinch?c.Of||c.controls:!!a.pinch;return c};
h.Nc.iz=function(a){a=a.grid||{};var c={};c.spacing=Number(a.spacing)||0;c.$a=a.colour||"#888";c.length=Number(a.length)||1;c.$D=0<c.spacing&&!!a.snap;return c};h.Nc.kz=function(a){a=a.theme||h.ff.Sf;return a instanceof h.ed?a:new h.ed("builtin",a.blockStyles,a.categoryStyles,a.componentStyles)};
h.Nc.lz=function(a){if(a){if("string"!=typeof a&&(h.g.userAgent.oe&&a.outerHTML?a=a.outerHTML:a instanceof Element||(a=null)),"string"==typeof a&&(a=h.I.Xe(a),"xml"!=a.nodeName.toLowerCase()))throw TypeError("Toolbox should be an <xml> document.");}else a=null;return a};h.Touch={};h.Touch.er="ontouchstart"in h.g.global||!!(h.g.global.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!h.g.global.navigator||!h.g.global.navigator.maxTouchPoints&&!h.g.global.navigator.msMaxTouchPoints);h.Touch.fk=null;h.Touch.Kd={};
h.g.global.PointerEvent?h.Touch.Kd={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]}:h.Touch.er&&(h.Touch.Kd={mousedown:["touchstart"],mousemove:["touchmove"],mouseup:["touchend","touchcancel"]});h.Gl=0;
h.Ny=function(a,c){h.Af();a.changedTouches&&1!=a.changedTouches.length||(h.Gl=setTimeout(function(){a.changedTouches&&(a.button=2,a.clientX=a.changedTouches[0].clientX,a.clientY=a.changedTouches[0].clientY);c&&pa(c,a)},h.uv))};h.Af=function(){h.Gl&&(clearTimeout(h.Gl),h.Gl=0)};h.Touch.Vk=function(){h.Touch.fk=null};h.Touch.Cp=function(a){return!h.Touch.Gy(a)||h.Touch.Ow(a)};
h.Touch.pl=function(a){return void 0!=a.pointerId?a.pointerId:a.changedTouches&&a.changedTouches[0]&&void 0!==a.changedTouches[0].identifier&&null!==a.changedTouches[0].identifier?a.changedTouches[0].identifier:"mouse"};h.Touch.Ow=function(a){var c=h.Touch.pl(a);return void 0!==h.Touch.fk&&null!==h.Touch.fk?h.Touch.fk==c:"mousedown"==a.type||"touchstart"==a.type||"pointerdown"==a.type?(h.Touch.fk=c,!0):!1};
h.Touch.Dz=function(a){if(h.g.za.startsWith(a.type,"touch")){var c=a.changedTouches[0];a.clientX=c.clientX;a.clientY=c.clientY}};h.Touch.Gy=function(a){return h.g.za.startsWith(a.type,"touch")||h.g.za.startsWith(a.type,"mouse")||h.g.za.startsWith(a.type,"pointer")};h.Touch.El=function(a){return h.g.za.startsWith(a.type,"touch")||h.g.za.startsWith(a.type,"pointer")};
h.Touch.Mz=function(a){var c=[];if(a.changedTouches)for(var d=0;d<a.changedTouches.length;d++)c[d]={type:a.type,changedTouches:[a.changedTouches[d]],target:a.target,stopPropagation:function(){a.stopPropagation()},preventDefault:function(){a.preventDefault()}};else c.push(a);return c};
h.ph=function(a){this.C=a;this.Uc=new h.ua(a,!0,!0,"blocklyMainWorkspaceScrollbar");this.ad=new h.ua(a,!1,!0,"blocklyMainWorkspaceScrollbar");this.Vi=h.g.m.N("rect",{height:h.ua.qc,width:h.ua.qc,"class":"blocklyScrollbarBackground"},null);h.g.m.tj(this.Vi,a.We)};h.ph.prototype.Xa=null;h.ph.prototype.F=function(){h.g.m.removeNode(this.Vi);this.Xa=this.C=this.Vi=null;this.Uc.F();this.Uc=null;this.ad.F();this.ad=null};
h.ph.prototype.resize=function(){var a=this.C.Ud();if(a){var c=!1,d=!1;this.Xa&&this.Xa.ub==a.ub&&this.Xa.Mb==a.Mb&&this.Xa.Pc==a.Pc&&this.Xa.Oc==a.Oc?(this.Xa&&this.Xa.Be==a.Be&&this.Xa.ob==a.ob&&this.Xa.hc==a.hc||(c=!0),this.Xa&&this.Xa.Ae==a.Ae&&this.Xa.Eb==a.Eb&&this.Xa.ic==a.ic||(d=!0)):d=c=!0;c&&this.Uc.resize(a);d&&this.ad.resize(a);this.Xa&&this.Xa.ub==a.ub&&this.Xa.Oc==a.Oc||this.Vi.setAttribute("x",this.ad.Gf.x);this.Xa&&this.Xa.Mb==a.Mb&&this.Xa.Pc==a.Pc||this.Vi.setAttribute("y",this.Uc.Gf.y);
this.Xa=a}};h.ph.prototype.set=function(a,c){var d={};a*=this.Uc.Bb;c*=this.ad.Bb;var e=this.ad.Zc,f=a/this.Uc.Zc;d.x=isNaN(f)?0:f;e=c/e;d.y=isNaN(e)?0:e;this.C.Yl(d);E(this.Uc,a);E(this.ad,c)};
h.ua=function(a,c,d,e){this.C=a;this.Wh=d||!1;this.vg=c;this.Xa=null;this.Xi(e);this.Gf=new h.g.L(0,0);a=h.ua.qc;c?(this.Ve.setAttribute("height",a),this.Zd.setAttribute("height",a),this.sc.setAttribute("height",a-5),this.sc.setAttribute("y",2.5),this.Dj="width",this.Dt="x"):(this.Ve.setAttribute("width",a),this.Zd.setAttribute("width",a),this.sc.setAttribute("width",a-5),this.sc.setAttribute("x",2.5),this.Dj="height",this.Dt="y");this.vt=h.va(this.Ve,"mousedown",this,this.az);this.wt=h.va(this.sc,
"mousedown",this,this.bz)};b=h.ua.prototype;b.yt=new h.g.L(0,0);b.Zt=0;b.Zc=0;b.sf=0;b.lj=0;b.Cj=!0;b.yn=!0;h.ua.qc=15;h.Touch.er&&(h.ua.qc=25);h.ua.Qy=function(a,c){return a&&c&&a.ub==c.ub&&a.Mb==c.Mb&&a.ob==c.ob&&a.Eb==c.Eb&&a.Pc==c.Pc&&a.Oc==c.Oc&&a.Be==c.Be&&a.Ae==c.Ae&&a.hc==c.hc&&a.ic==c.ic?!0:!1};
h.ua.prototype.F=function(){qa();h.ab(this.vt);this.vt=null;h.ab(this.wt);this.wt=null;h.g.m.removeNode(this.Zd);this.Ve=this.ca=this.Zd=null;this.sc&&(this.C.Gc.unsubscribe(this.sc),this.sc=null);this.C=null};function E(a,c){a.lj=c;a.sc.setAttribute(a.Dt,a.lj)}function ra(a,c){a.Zc=c;a.Zd.setAttribute(a.Dj,a.Zc);a.Ve.setAttribute(a.Dj,a.Zc)}h.ph.prototype.Uj=function(a){this.Uc.Uj(a);this.ad.Uj(a)};
function sa(a,c,d){a.Gf.x=c;a.Gf.y=d;h.g.m.Xl(a.Zd,"translate("+(a.Gf.x+a.yt.x)+"px,"+(a.Gf.y+a.yt.y)+"px)")}b=h.ua.prototype;b.resize=function(a){if(!a&&(a=this.C.Ud(),!a))return;h.ua.Qy(a,this.Xa)||(this.Xa=a,this.vg?ta(this,a):ua(this,a),va(this))};function ta(a,c){var d=c.ub-1;a.Wh&&(d-=h.ua.qc);ra(a,Math.max(0,d));d=c.Oc+.5;a.Wh&&a.C.D&&(d+=h.ua.qc);sa(a,d,c.Pc+c.Mb-h.ua.qc-.5);wa(a,c)}
function wa(a,c){a.Wh||a.xd(a.Zc<c.Be);a.Bb=a.Zc/c.Be;if(-Infinity==a.Bb||Infinity==a.Bb||isNaN(a.Bb))a.Bb=0;a.sf=Math.max(0,c.ub*a.Bb);a.sc.setAttribute(a.Dj,a.sf);E(a,xa(a,(c.ob-c.hc)*a.Bb))}function ua(a,c){var d=c.Mb-1;a.Wh&&(d-=h.ua.qc);ra(a,Math.max(0,d));d=c.Oc+.5;a.C.D||(d+=c.ub-h.ua.qc-1);sa(a,d,c.Pc+.5);ya(a,c)}
function ya(a,c){a.Wh||a.xd(a.Zc<c.Ae);a.Bb=a.Zc/c.Ae;if(-Infinity==a.Bb||Infinity==a.Bb||isNaN(a.Bb))a.Bb=0;a.sf=Math.max(0,c.Mb*a.Bb);a.sc.setAttribute(a.Dj,a.sf);E(a,xa(a,(c.Eb-c.ic)*a.Bb))}
b.Xi=function(a){var c="blocklyScrollbar"+(this.vg?"Horizontal":"Vertical");a&&(c+=" "+a);this.Zd=h.g.m.N("svg",{"class":c},null);this.ca=h.g.m.N("g",{},this.Zd);this.Ve=h.g.m.N("rect",{"class":"blocklyScrollbarBackground"},this.ca);a=Math.floor((h.ua.qc-5)/2);this.sc=h.g.m.N("rect",{"class":"blocklyScrollbarHandle",rx:a,ry:a},this.ca);this.C.Gc.subscribe(this.sc,"scrollbar","fill");this.C.Gc.subscribe(this.sc,"scrollbarOpacity","fill-opacity");h.g.m.tj(this.Zd,x(this.C))};b.isVisible=function(){return this.Cj};
b.Uj=function(a){var c=a!=this.yn;this.yn=a;c&&za(this)};b.xd=function(a){var c=a!=this.isVisible();if(this.Wh)throw Error("Unable to toggle visibility of paired scrollbars.");this.Cj=a;c&&za(this)};function za(a){a.yn&&a.isVisible()?a.Zd.setAttribute("display","block"):a.Zd.setAttribute("display","none")}
b.az=function(a){y(this.C);h.Touch.Vk();qa();if(h.g.Bj(a))a.stopPropagation();else{var c=h.g.Lj(a,x(this.C),Aa(this.C));c=this.vg?c.x:c.y;var d=h.g.jo(this.sc);d=this.vg?d.x:d.y;var e=this.lj,f=.95*this.sf;c<=d?e-=f:c>=d+this.sf&&(e+=f);E(this,xa(this,e));va(this);a.stopPropagation();a.preventDefault()}};
b.bz=function(a){y(this.C);qa();h.g.Bj(a)?a.stopPropagation():(this.Nz=this.lj,Ba(this.C),this.Zt=this.vg?a.clientX:a.clientY,h.ua.Ef=h.va(document,"mouseup",this,this.gz),h.ua.Df=h.va(document,"mousemove",this,this.cz),a.stopPropagation(),a.preventDefault())};b.cz=function(a){E(this,xa(this,this.Nz+((this.vg?a.clientX:a.clientY)-this.Zt)));va(this)};b.gz=function(){Ca(this.C);h.Touch.Vk();qa()};function qa(){h.dc(!0);h.ua.Ef&&(h.ab(h.ua.Ef),h.ua.Ef=null);h.ua.Df&&(h.ab(h.ua.Df),h.ua.Df=null)}
function xa(a,c){return c=0>=c||isNaN(c)||a.Zc<a.sf?0:Math.min(c,a.Zc-a.sf)}function va(a){var c=a.lj/a.Zc;isNaN(c)&&(c=0);var d={};a.vg?d.x=c:d.y=c;a.C.Yl(d)}b.set=function(a){E(this,xa(this,a*this.Bb));va(this)};h.B={};h.B.visible=!1;h.B.vh=!1;h.B.sv=50;h.B.lt=0;h.B.Zj=0;h.B.Jo=0;h.B.Ko=0;h.B.W=null;h.B.Sl=null;h.B.Lq=0;h.B.Mq=10;h.B.Kv=10;h.B.ev=750;h.B.Gm=5;h.B.Ea=null;h.B.La=function(){h.B.Ea||(h.B.Ea=document.createElement("div"),h.B.Ea.className="blocklyTooltipDiv",document.body.appendChild(h.B.Ea))};h.B.Li=function(a){h.gg(a,"mouseover",h.B.fz);h.gg(a,"mouseout",h.B.ez);a.addEventListener("mousemove",h.B.dz,!1)};
h.B.fz=function(a){if(!h.B.vh){for(a=a.currentTarget;"string"!=typeof a.fe&&"function"!=typeof a.fe;)a=a.fe;h.B.W!=a&&(h.B.Da(),h.B.Sl=null,h.B.W=a);clearTimeout(h.B.lt)}};h.B.ez=function(){h.B.vh||(h.B.lt=setTimeout(function(){h.B.W=null;h.B.Sl=null;h.B.Da()},1),clearTimeout(h.B.Zj))};
h.B.dz=function(a){if(h.B.W&&h.B.W.fe&&!h.B.vh)if(h.B.visible){var c=h.B.Jo-a.pageX;a=h.B.Ko-a.pageY;Math.sqrt(c*c+a*a)>h.B.Kv&&h.B.Da()}else h.B.Sl!=h.B.W&&(clearTimeout(h.B.Zj),h.B.Jo=a.pageX,h.B.Ko=a.pageY,h.B.Zj=setTimeout(h.B.Jz,h.B.ev))};h.B.Da=function(){h.B.visible&&(h.B.visible=!1,h.B.Ea&&(h.B.Ea.style.display="none"));h.B.Zj&&clearTimeout(h.B.Zj)};h.B.block=function(){h.B.Da();h.B.vh=!0};h.B.aA=function(){h.B.vh=!1};
h.B.Jz=function(){if(!h.B.vh&&(h.B.Sl=h.B.W,h.B.Ea)){h.B.Ea.innerHTML="";for(var a=h.B.W.fe;"function"==typeof a;)a=a();a=h.g.za.fA(a);a=a.split("\n");for(var c=0;c<a.length;c++){var d=document.createElement("div");d.appendChild(document.createTextNode(a[c]));h.B.Ea.appendChild(d)}a=h.B.W.D;c=document.documentElement.clientWidth;d=document.documentElement.clientHeight;h.B.Ea.style.direction=a?"rtl":"ltr";h.B.Ea.style.display="block";h.B.visible=!0;var e=h.B.Jo;e=a?e-(h.B.Lq+h.B.Ea.offsetWidth):e+
h.B.Lq;var f=h.B.Ko+h.B.Mq;f+h.B.Ea.offsetHeight>d+window.scrollY&&(f-=h.B.Ea.offsetHeight+2*h.B.Mq);a?e=Math.max(h.B.Gm-window.scrollX,e):e+h.B.Ea.offsetWidth>c+window.scrollX-2*h.B.Gm&&(e=c-h.B.Ea.offsetWidth-2*h.B.Gm);h.B.Ea.style.top=f+"px";h.B.Ea.style.left=e+"px"}};h.rr=function(a){this.Ui=a;this.La()};b=h.rr.prototype;b.Qa=null;b.nd=null;b.Ui=null;b.La=function(){this.Qa||(this.Qa=h.g.m.N("svg",{xmlns:h.g.m.Lk,"xmlns:html":h.g.m.ym,"xmlns:xlink":h.g.m.dg,version:"1.1","class":"blocklyWsDragSurface blocklyOverflowVisible"},null),this.Ui.appendChild(this.Qa))};b.Wg=function(a,c){a=a.toFixed(0);c=c.toFixed(0);this.Qa.style.display="block";h.g.m.Xl(this.Qa,"translate3d("+a+"px, "+c+"px, 0px)")};b.no=function(){return h.g.pd(this.Qa)};
b.Uk=function(a){if(!a)throw Error("Couldn't clear and hide the drag surface: missing new surface.");var c=this.Qa.childNodes[0],d=this.Qa.childNodes[1];if(!(c&&d&&h.g.m.Is(c,"blocklyBlockCanvas")&&h.g.m.Is(d,"blocklyBubbleCanvas")))throw Error("Couldn't clear and hide the drag surface. A node was missing.");null!=this.np?h.g.m.tj(c,this.np):a.insertBefore(c,a.firstChild);h.g.m.tj(d,c);this.Qa.style.display="none";if(this.Qa.childNodes.length)throw Error("Drag surface was not cleared.");h.g.m.Xl(this.Qa,
"");this.np=null};h.w=function(a,c,d){if(!c)throw Error("Cannot create a node without a location.");this.ik=a;this.Nh=h.w.Ey(a);this.Y=c;(a=d||null)&&a.ku&&(this.lu=a.ku)};h.w.types={Jc:"field",uc:"block",pe:"input",oh:"output",Gd:"next",Id:"previous",Jd:"stack",gf:"workspace"};h.w.zi=!1;h.w.Qu=-20;h.w.Ey=function(a){switch(a){case h.w.types.Id:case h.w.types.Gd:case h.w.types.pe:case h.w.types.oh:return!0}return!1};h.w.Yi=function(a){return a?new h.w(h.w.types.Jc,a):null};
h.w.Td=function(a){return a?a.type==h.Fa||a.type==h.ta&&a.Vd()?h.w.jg(a.Vd()):a.type==h.ta?new h.w(h.w.types.Gd,a):a.type==h.cd?new h.w(h.w.types.oh,a):a.type==h.dd?new h.w(h.w.types.Id,a):null:null};h.w.jg=function(a){return a&&a.connection?new h.w(h.w.types.pe,a.connection):null};h.w.Ce=function(a){return a?new h.w(h.w.types.uc,a):null};h.w.Zi=function(a){return a?new h.w(h.w.types.Jd,a):null};h.w.$i=function(a,c){return c&&a?new h.w(h.w.types.gf,a,{ku:c}):null};b=h.w.prototype;b.Va=function(){return this.ik};
function Da(a,c){a=a.Y;a instanceof h.qk||(a=a.M());if(!a||!a.A)return null;var d=a.bc();a=d.A.cc(!0);for(var e=0,f;f=a[e];e++)if(d.id==f.id)return c=e+(c?1:-1),-1==c||c==a.length?null:h.w.Zi(a[c]);throw Error("Couldn't find "+(c?"next":"previous")+" stack?!");}function Ea(a){if(!a)return null;do var c=a.O&&a.O.ea();while(c&&t(c)==a&&(a=c));return(c=a.O||a.K)&&c.da&&c.da.Vd()?h.w.jg(c.da.Vd()):h.w.Zi(a)}
b.M=function(){return this.Va()===h.w.types.uc?this.Y:this.Va()===h.w.types.Jd?this.Y:this.Va()===h.w.types.gf?null:this.Y.M()};
b.next=function(){switch(this.ik){case h.w.types.Jd:return Da(this,!0);case h.w.types.oh:return h.w.Ce(this.Y.M());case h.w.types.Jc:a:{var a=this.Y,c=a.Vd();var d=a.M();a=c.xa.indexOf(a)+1;c=d.J.indexOf(c);for(var e;e=d.J[c];c++){for(var f=e.xa;a<f.length;){if(F(f[a])||h.w.zi){d=h.w.Yi(f[a]);break a}a++}a=0;if(e.connection){d=h.w.jg(e);break a}}d=null}return d;case h.w.types.pe:a:{a=this.Y.Vd();d=a.M();for(a=d.J.indexOf(a)+1;c=d.J[a];a++){e=c.xa;f=0;for(var g;g=e[f];f++)if(F(g)||h.w.zi){d=h.w.Yi(g);
break a}if(c.connection){d=h.w.jg(c);break a}}d=null}return d;case h.w.types.uc:return h.w.Td(this.Y.V);case h.w.types.Id:return h.w.Ce(this.Y.M());case h.w.types.Gd:return h.w.Td(this.Y.da)}return null};
b.xg=function(){switch(this.ik){case h.w.types.gf:var a=this.Y.cc(!0);if(0<a.length)return h.w.Zi(a[0]);break;case h.w.types.Jd:a=this.Y;var c=a.O||a.K;return c?h.w.Td(c):h.w.Ce(a);case h.w.types.uc:a=this.Y;a:{a=a.J;c=0;for(var d;d=a[c];c++){for(var e=d.xa,f=0,g;g=e[f];f++)if(F(g)||h.w.zi){a=h.w.Yi(g);break a}if(d.connection){a=h.w.jg(d);break a}}a=null}return a;case h.w.types.pe:return h.w.Td(this.Y.da)}return null};
b.Qe=function(){switch(this.ik){case h.w.types.Jd:return Da(this,!1);case h.w.types.Jc:a:{var a=this.Y;var c=a.Vd();var d=a.M();a=c.xa.indexOf(a)-1;for(var e=d.J.indexOf(c),f;f=d.J[e];e--){if(f.connection&&f!==c){c=h.w.jg(f);break a}for(f=f.xa;-1<a;){if(F(f[a])||h.w.zi){c=h.w.Yi(f[a]);break a}a--}0<=e-1&&(a=d.J[e-1].xa.length-1)}c=null}return c;case h.w.types.pe:a:{c=this.Y.Vd();d=c.M();for(a=d.J.indexOf(c);e=d.J[a];a--){if(e.connection&&e!==c){c=h.w.jg(e);break a}e=e.xa;f=e.length-1;for(var g;g=
e[f];f--)if(F(g)||h.w.zi){c=h.w.Yi(g);break a}}c=null}return c;case h.w.types.uc:return c=this.Y,h.w.Td(c.O||c.K);case h.w.types.Id:if((c=this.Y.da)&&!c.Vd())return h.w.Td(c);break;case h.w.types.Gd:return h.w.Ce(this.Y.M())}return null};
b.Kg=function(){switch(this.ik){case h.w.types.Jd:var a=this.Y.Ca();return h.w.$i(this.Y.A,new h.g.L(a.x,a.y+h.w.Qu));case h.w.types.oh:return(a=this.Y.da)?h.w.Td(a):h.w.Zi(this.Y.M());case h.w.types.Jc:return h.w.Ce(this.Y.M());case h.w.types.pe:return h.w.Ce(this.Y.M());case h.w.types.uc:return Ea(this.Y);case h.w.types.Id:return Ea(this.Y.M());case h.w.types.Gd:return Ea(this.Y.M())}return null};h.Nb=Object.create(null);h.$=function(a,c){this.H=a;this.type=c};h.$.tk=0;h.$.Tq=1;h.$.Wq=2;h.$.Vq=3;h.$.Rq=4;h.$.Sq=5;h.$.Uq=6;b=h.$.prototype;b.da=null;b.nf=!1;b.we=null;b.be=null;b.x=0;b.y=0;
b.ld=function(a){var c=this,d=c.M(),e=a.M();a.isConnected()&&a.disconnect();if(c.isConnected()){var f=c.ea(),g=c.be;c.be=null;if(f.Ia)g=h.I.hg(f),f.F(!1),f=null;else if(c.type==h.Fa){if(!f.K)throw Error("Orphan block does not have an output connection.");var k=h.$.bt(e,f);k&&(f.K.connect(k),f=null)}else if(c.type==h.ta){if(!f.O)throw Error("Orphan block does not have a previous connection.");for(k=e;k.V;){var l=t(k);if(l&&!l.Ia)k=l;else{G(f.O,k.V)&&(k.V.connect(f.O),f=null);break}}}if(f&&(c.disconnect(),
h.h.Jb)){var m=h.h.rb();setTimeout(function(){f.A&&!f.getParent()&&(h.h.ba(m),f.K?f.K.Ml(c):f.O&&f.O.Ml(c),h.h.ba(!1))},h.rm)}c.be=g}var n;h.h.isEnabled()&&(n=new h.h.li(e));h.$.$w(c,a);e.ci(d);n&&(n.Mg(),h.h.ya(n))};b.F=function(){if(this.isConnected()){this.be=null;var a=this.ea();a.Ia?a.F(!1):A(a)}this.nf=!0};b.M=function(){return this.H};function H(a){return a.type==h.Fa||a.type==h.ta}b.isConnected=function(){return!!this.da};
function Fa(a,c){if(!c)return h.$.Vq;if(H(a))var d=a.H,e=c.M();else e=a.H,d=c.M();return d&&d==e?h.$.Tq:c.type!=h.nh[a.type]?h.$.Wq:d&&e&&d.A!==e.A?h.$.Sq:G(a,c)?d.Ia&&!e.Ia?h.$.Uq:h.$.tk:h.$.Rq}
function Ga(a,c){switch(Fa(a,c)){case h.$.tk:break;case h.$.Tq:throw Error("Attempted to connect a block to itself.");case h.$.Sq:throw Error("Blocks not on same workspace.");case h.$.Wq:throw Error("Attempt to connect incompatible types.");case h.$.Vq:throw Error("Target connection is null.");case h.$.Rq:throw Error("Connection checks failed. "+(a+" expected "+a.we+", found "+c.we));case h.$.Uq:throw Error("Connecting non-shadow to shadow block.");default:throw Error("Unknown connection failure: this should never happen!");
}}
b.wl=function(a){if(a.H.xf()||Fa(this,a)!=h.$.tk)return!1;switch(a.type){case h.dd:return this.da||-1!=h.cj.indexOf(a)?a=!1:a.da?(a=a.ea(),a=a.xf()?!(a.O&&a.O.ea()):!1):a=!0,a;case h.cd:if(a.isConnected()&&!a.ea().xf()||this.isConnected())return!1;break;case h.Fa:if(a.isConnected()&&!a.ea().lc()&&!a.ea().Ia)return!1;break;case h.ta:if(a.isConnected()&&!this.H.V&&!a.ea().Ia&&a.ea().V)return!1;break;default:throw Error("Unknown connection type in isConnectionAllowed");}return-1!=h.cj.indexOf(a)?!1:!0};
b.Ml=function(){};b.connect=function(a){if(this.da!=a){Ga(this,a);var c=h.h.rb();c||h.h.ba(!0);H(this)?this.ld(a):a.ld(this);c||h.h.ba(!1)}};h.$.$w=function(a,c){if(!a||!c)throw Error("Cannot connect null connections.");a.da=c;c.da=a};h.$.Kz=function(a,c){for(var d=null,e=0;e<a.J.length;e++){var f=a.J[e].connection;if(f&&f.type==h.Fa&&G(c.K,f)){if(d)return null;d=f}}return d};h.$.bt=function(a,c){for(var d;d=h.$.Kz(a,c);)if(a=d.ea(),!a||a.Ia)return d;return null};b=h.$.prototype;
b.disconnect=function(){var a=this.da;if(!a)throw Error("Source connection not connected.");if(a.da!=this)throw Error("Target connection not connected to source connection.");if(H(this)){var c=this.H;var d=a.M();a=this}else c=a.M(),d=this.H;var e=h.h.rb();e||h.h.ba(!0);this.Kn(c,d);a.sp();e||h.h.ba(!1)};b.Kn=function(a,c){var d;h.h.isEnabled()&&(d=new h.h.li(c));this.da=this.da.da=null;c.ci(null);d&&(d.Mg(),h.h.ya(d))};
b.sp=function(){var a=this.M(),c=this.be;if(a.A&&c&&h.h.Jb)if(a=h.I.gl(c,a.A),a.K)this.connect(a.K);else if(a.O)this.connect(a.O);else throw Error("Child block does not have output or previous statement.");};b.ea=function(){return this.isConnected()?this.da.M():null};function G(a,c){if(!a.we||!c.we)return!0;for(var d=0;d<a.we.length;d++)if(-1!=c.we.indexOf(a.we[d]))return!0;return!1}b.tt=function(){!this.isConnected()||this.da&&G(this,this.da)||A(H(this)?this.ea():this.H)};
b.$h=function(a){a?(Array.isArray(a)||(a=[a]),this.we=a,this.tt()):this.we=null};b.pt=function(){return[]};b.Vd=function(){for(var a=null,c=this.H,d=c.J,e=0;e<c.J.length;e++)if(d[e].connection===this){a=d[e];break}return a};
b.toString=function(){var a=this.H;if(a)if(a.K==this)var c="Output Connection of ";else if(a.O==this)c="Previous Connection of ";else if(a.V==this)c="Next Connection of ";else{c=null;for(var d=0,e;e=a.J[d];d++)if(e.connection==this){c=e;break}if(c)c='Input "'+c.name+'" connection on ';else return console.warn("Connection not actually connected to sourceBlock_"),"Orphan Connection"}else return"Orphan Connection";d=a.type?'"'+a.type+'" block':"Block";a.id&&(d+=' (id="'+a.id+'")');return c+d};h.ha={};h.ha.ki={};h.ha.register=function(a,c){if("string"!=typeof a||""==a.trim())throw Error('Error: Invalid extension name "'+a+'"');if(h.ha.ki[a])throw Error('Error: Extension "'+a+'" is already registered.');if("function"!=typeof c)throw Error('Error: Extension "'+a+'" must be a function');h.ha.ki[a]=c};h.ha.KD=function(a,c){if(!c||"object"!=typeof c)throw Error('Error: Mixin "'+a+'" must be a object');h.ha.register(a,function(){this.Eg(c)})};
h.ha.LD=function(a,c,d,e){var f='Error when registering mutator "'+a+'": ';h.ha.Er(f,c.xc,"domToMutation");h.ha.Er(f,c.Vb,"mutationToDom");var g=h.ha.Gr(c,f);if(d&&"function"!=typeof d)throw Error('Extension "'+a+'" is not a function');h.ha.register(a,function(){if(g){if(!h.Dv)throw Error(f+"Missing require for Blockly.Mutator");this.Vt(new h.Dv(e||[]))}this.Eg(c);d&&d.apply(this)})};h.ha.unregister=function(a){h.ha.ki[a]?delete h.ha.ki[a]:console.warn('No extension mapping for name "'+a+'" found to unregister')};
h.ha.apply=function(a,c,d){var e=h.ha.ki[a];if("function"!=typeof e)throw Error('Error: Extension "'+a+'" not found.');if(d)h.ha.Nw(a,c);else var f=h.ha.lo(c);e.apply(c);if(d)h.ha.Lw('Error after applying mutator "'+a+'": ',c);else if(!h.ha.Ty(f,c))throw Error('Error when applying extension "'+a+'": mutation properties changed when applying a non-mutator extension.');};
h.ha.Er=function(a,c,d){if(!c)throw Error(a+'missing required property "'+d+'"');if("function"!=typeof c)throw Error(a+'" required property "'+d+'" must be a function');};h.ha.Nw=function(a,c){if(h.ha.lo(c).length)throw Error('Error: tried to apply mutation "'+a+'" to a block that already has mutator functions.  Block id: '+c.id);};
h.ha.Gr=function(a,c){var d=void 0!==a.wn,e=void 0!==a.Bn;if(d&&e){if("function"!=typeof a.wn)throw Error(c+"compose must be a function.");if("function"!=typeof a.Bn)throw Error(c+"decompose must be a function.");return!0}if(d||e)throw Error(c+'Must have both or neither of "compose" and "decompose"');return!1};
h.ha.Lw=function(a,c){if("function"!=typeof c.xc)throw Error(a+'Applying a mutator didn\'t add "domToMutation"');if("function"!=typeof c.Vb)throw Error(a+'Applying a mutator didn\'t add "mutationToDom"');h.ha.Gr(c,a)};h.ha.lo=function(a){var c=[];void 0!==a.xc&&c.push(a.xc);void 0!==a.Vb&&c.push(a.Vb);void 0!==a.wn&&c.push(a.wn);void 0!==a.Bn&&c.push(a.Bn);return c};h.ha.Ty=function(a,c){c=h.ha.lo(c);if(c.length!=a.length)return!1;for(var d=0;d<c.length;d++)if(a[d]!=c[d])return!1;return!0};
h.ha.PC=function(a,c){var d=[];"object"==typeof document&&h.g.Qt(function(){for(var e in c)h.g.Fr(c[e])});return function(){this.type&&-1==d.indexOf(this.type)&&(h.ha.Mw(this,a,c),d.push(this.type));this.Lf(function(){var e=String(Ha(this,a)),f=c[e];null==f?-1==d.indexOf(this.type)&&(e="No tooltip mapping for value "+e+" of field "+a,null!=this.type&&(e+=" of block type "+this.type),console.warn(e+".")):f=h.g.pc(f);return f}.bind(this))}};
h.ha.Mw=function(a,c,d){var e=z(a,c);if("function"!=typeof e.Uh){e=e.getOptions();for(var f=0;f<e.length;++f){var g=e[f][1];null==d[g]&&console.warn("No tooltip mapping for value "+g+" of field "+c+" of block type "+a.type)}}};h.ha.QC=function(a,c){"object"==typeof document&&h.g.Qt(function(){h.g.Fr(a)});return function(){this.Lf(function(){var d=z(this,c);return h.g.pc(a).replace("%1",d?Ia(d):"")}.bind(this))}};
h.ha.Cx=function(){this.Xz=this.fe;this.Lf(function(){var a=this.getParent();return a&&Ja(a)&&a.fe||this.Xz}.bind(this))};h.ha.register("parent_tooltip_when_inline",h.ha.Cx);h.zc={};h.zc.hk={};h.zc.register=function(a,c){if("string"!=typeof a||""==a.trim())throw Error('Invalid field type "'+a+'". The type must be a non-empty string.');if(h.zc.hk[a])throw Error('Error: Field "'+a+'" is already registered.');if(!c||"function"!=typeof c.ga)throw Error('Field "'+c+'" must have a fromJson function');a=a.toLowerCase();h.zc.hk[a]=c};h.zc.unregister=function(a){h.zc.hk[a]?delete h.zc.hk[a]:console.warn('No field mapping for type "'+a+'" found to unregister')};
h.zc.ga=function(a){var c=h.zc.hk[a.type.toLowerCase()];return c?c.ga(a):(console.warn("Blockly could not create a field of type "+a.type+". The field is probably not being registered. This could be because the file is not loaded, the field does not register itself (Issue #1584), or the registration is not being reached."),null)};h.Ga={};h.Ga.Ln=0;h.Ga.cl=null;h.Ga.ux=function(a){var c=a.A,d=a.qa();c.Nd.play("delete");a=Ka(c,d);d=d.cloneNode(!0);d.Zz=a.x;d.$z=a.y;d.setAttribute("transform","translate("+a.x+","+a.y+")");x(c).appendChild(d);d.yr=d.getBBox();h.Ga.bs(d,c.D,new Date,c.scale)};h.Ga.bs=function(a,c,d,e){var f=(new Date-d)/150;1<f?h.g.m.removeNode(a):(a.setAttribute("transform","translate("+(a.Zz+(c?-1:1)*a.yr.width*e/2*f)+","+(a.$z+a.yr.height*e*f)+") scale("+(1-f)*e+")"),setTimeout(h.Ga.bs,10,a,c,d,e))};
h.Ga.ax=function(a){var c=a.A,d=c.scale;c.Nd.play("click");if(!(1>d)){var e=Ka(c,a.qa());a.K?(e.x+=(a.D?3:-3)*d,e.y+=13*d):a.O&&(e.x+=(a.D?-23:23)*d,e.y+=3*d);a=h.g.m.N("circle",{cx:e.x,cy:e.y,r:0,fill:"none",stroke:"#888","stroke-width":10},x(c));h.Ga.Kr(a,new Date,d)}};h.Ga.Kr=function(a,c,d){var e=(new Date-c)/150;1<e?h.g.m.removeNode(a):(a.setAttribute("r",25*e*d),a.style.opacity=1-e,h.Ga.Ln=setTimeout(h.Ga.Kr,10,a,c,d))};
h.Ga.tx=function(a){a.A.Nd.play("disconnect");if(!(1>a.A.scale)){var c=K(a).height;c=Math.atan(10/c)/Math.PI*180;a.D||(c*=-1);h.Ga.$r(a.qa(),c,new Date)}};h.Ga.$r=function(a,c,d){var e=(new Date-d)/200;1<e?a.$j="":(a.$j="skewX("+Math.round(Math.sin(e*Math.PI*3)*(1-e)*c)+")",h.Ga.cl=a,h.Ga.Ln=setTimeout(h.Ga.$r,10,a,c,d));a.setAttribute("transform",a.gk+a.$j)};h.Ga.Mn=function(){if(h.Ga.cl){clearTimeout(h.Ga.Ln);var a=h.Ga.cl;a.$j="";a.setAttribute("transform",a.gk);h.Ga.cl=null}};h.Gk=function(a){this.ge=h.selected=a;this.C=a.A;this.Sh=this.Ho=null;this.hj=La(this,this.ge);this.Ib=this.Ua=null;this.ie=!1;this.Dg=null;this.vo=!1;this.tl=null;a=this.ge.od(!1);var c=this.ge.Go();c&&c!=this.ge.V&&(a.push(c),this.Ho=c,this.Sh=La(this,c.M()));this.hn=a};h.Gk.prototype.F=function(){this.hn.length=0;h.h.disable();try{this.hj&&this.hj.F(),this.Sh&&this.Sh.F()}finally{h.h.enable()}};
h.Gk.prototype.update=function(a,c){var d=this.Ua&&this.Ib?h.eq:h.Qb;for(var e=null,f=null,g=0;g<this.hn.length;g++){var k=this.hn[g],l=k.closest(d,a);l.connection&&(e=l.connection,f=k,d=l.Ul)}e=(d={closest:e,local:f,Ul:d},!!d.closest)&&c!=h.kq;if((this.ie=!!c&&!this.ge.getParent()&&this.ge.Ac()&&!e)||Ma(this,d,a)){h.h.disable();d.closest?(a=this.Ua!=d.closest,c=this.Ib!=d.local,this.Ua&&this.Ib&&(a||c||this.ie)&&Na(this)):Na(this);this.Ib=this.Ua=this.Dg=null;if(!this.ie&&(a=d.closest,c=d.local,
a))if(a==this.Ua||a.M().xf())console.log("Trying to connect to an insertion marker");else{this.Ua=a;this.Ib=c;a=this.Ua;c=this.Ib;if(c.type==h.cd){if(c=a)c=this.ge,c=!a.isConnected()||!!h.$.bt(c,a.da.M());a=c}else{a:{d=c.M();for(e=0;f=d.J[e];e++)if(f.connection&&f.connection.type==h.ta){d=f.connection;break a}d=null}a=c==d||this.ge.V||c.type!=h.dd||!a.isConnected()}if(a){d=this.Ib;a=this.Ua;c=this.Ho&&d==this.Ho?this.Sh:this.hj;d=c.ko(d.M(),d);if(d==this.Dg)throw Error("Made it to connectMarker_ even though the marker isn't changing");
c.pa();c.Z=!0;c.qa().setAttribute("visibility","visible");d&&a&&Oa(c,d,a);a&&d.connect(a);this.Dg=d}else a=this.Ua,c=this.Ib,a.ea()?(this.tl=a.ea(),a=a.ea(),L(a.eb,"blocklyReplaceable",!0)):c.type==h.cd&&(this.tl=a.M(),a.M()),this.vo=!0;this.Ua&&this.Ua.ea()&&this.Ua.Ps()}h.h.enable()}};
function La(a,c){var d=c.type;h.h.disable();try{var e=a.C.Vh(d);e.Ut(!0);e.Jf(c.isCollapsed());if(c.Vb){var f=c.Vb();f&&e.xc(f)}for(a=0;a<c.J.length;a++){var g=c.J[a],k=e.J[a];for(d=0;d<g.xa.length;d++)k.xa[d].setValue(g.xa[d].getValue())}e.yg();e.qa().setAttribute("visibility","hidden")}finally{h.h.enable()}return e}
function Ma(a,c,d){var e=c.local,f=c.closest;c=c.Ul;if(e&&f){if(a.Ib&&a.Ua){if(a.Ua==f&&a.Ib==e)return!1;e=a.Ib.x+d.x-a.Ua.x;a=a.Ib.y+d.y-a.Ua.y;a=Math.sqrt(e*e+a*a);return!(f&&c>a-h.Ju)}if(a.Ib||a.Ua)console.error("Only one of localConnection_ and closestConnection_ was set.");else return!0}else return!(!a.Ib||!a.Ua);console.error("Returning true from shouldUpdatePreviews, but it's not clear why.");return!0}
function Na(a){a.Ua&&a.Ua.ea()&&(h.g.m.removeNode(h.$.Qs),delete h.$.Qs);if(a.vo){var c=a.Ua;(c.type!=h.Fa||c.isConnected())&&L(a.tl.eb,"blocklyReplaceable",!1);a.tl=null;a.vo=!1}else if(a.Dg)if(a.Dg){c=a.Dg;var d=c.M(),e=d.V,f=d.O,g=d.K;g=c.type==h.Fa&&!(g&&g.da);!(c!=e||f&&f.da)||g?A(c.ea(),!1):c.type==h.ta&&c!=e?(e=c.da,A(e.M(),!1),f=f?f.da:null,A(d,!0),f&&f.connect(e)):A(d,!0);if(c.da)throw Error("markerConnection_ still connected at the end of disconnectInsertionMarker");a.Dg=null;d.qa().setAttribute("visibility",
"hidden")}else console.log("No insertion marker connection to disconnect")}h.Gk.prototype.Fh=function(){var a=[];this.hj&&a.push(this.hj);this.Sh&&a.push(this.Sh);return a};h.Qf=function(a,c){this.Na=a;this.C=c;this.Ge=new h.Gk(this.Na);this.ng=null;this.ie=!1;this.de=this.Na.Ca();this.hl=h.Qf.zy(a)};h.Qf.prototype.F=function(){this.hl.length=0;this.Ge&&this.Ge.F()};h.Qf.zy=function(a){var c=[];a=p(a,!1);for(var d=0,e;e=a[d];d++){e=M(e);for(var f=0;f<e.length;f++){var g={location:e[f].lD(),icon:e[f]};c.push(g)}}return c};
function Pa(a,c,d){d=a.Xh(d);var e=h.g.L.sum(a.de,d);a.Na.Wo(e);for(e=0;e<a.hl.length;e++){var f=a.hl[e];f.icon.YD(h.g.L.sum(f.location,d))}a.ng=Qa(a.C,c);a.Ge.update(d,a.ng);a.ie=a.Ge.ie;c=a.C.Lb;a.ie?(Ra(a.Na,!0),a.ng==h.vm&&c&&c.yp(!0)):(Ra(a.Na,!1),c&&c.yp(!1))}
function Sa(a,c,d){Pa(a,c,d);a.hl=[];c=new h.h.Zb(a.Na,"dragStop",p(a.Na,!1),null);h.h.ya(c);h.g.m.bk();h.Ga.Mn();d=a.Xh(d);c=h.g.L.sum(a.de,d);var e=a.Na;e.lk&&(e.translate(c.x,c.y),e.A.vc.Uk(e.A.jb));c=a.C.Lb;a.ie?(c&&setTimeout(c.close.bind(c),100),a.gj(),a.Na.F(!1,!0)):c&&c.close();a.ie||(Ta(a.Na,d.x,d.y),a.Na.Kf(!1),a.gj(),a.Ge.Ua?(d=a.Ge,d.Ua&&(h.h.disable(),Na(d),h.h.enable(),d.Ib.connect(d.Ua),d.ge.Z&&(h.Ga.ax((H(d.Ib)?d.Ua:d.Ib).M()),Ua(d.ge.bc())))):a.Na.pa(),Va(a.Na));a.C.rc(!0);(d=a.C.ma)&&
d.qz(a.Na.Ac()?"blocklyToolboxDelete":"blocklyToolboxGrab");h.h.ba(!1)}h.Qf.prototype.gj=function(){var a=new h.h.li(this.Na);a.$o=this.de;a.Mg();h.h.ya(a)};h.Qf.prototype.Xh=function(a){a=new h.g.L(a.x/this.C.scale,a.y/this.C.scale);this.C.Bl&&a.scale(1/this.C.options.Dc.scale);return a};h.Qf.prototype.Fh=function(){return this.Ge&&this.Ge.Fh?this.Ge.Fh():[]};h.zd=function(a){this.name=a};h.navigation={};h.navigation.Th=null;h.navigation.br=1;h.navigation.Kk=2;h.navigation.cr=3;h.navigation.kg=h.navigation.Kk;h.navigation.Ra={Id:"previous",Gd:"next",Am:"in",Lm:"out",Bm:"insert",Hm:"mark",lq:"disconnect",Wm:"toolbox",wm:"exit",Vm:"toggle_keyboard_nav"};h.navigation.ks=function(){var a=h.la(),c=a.ma;c&&(h.navigation.kg=h.navigation.cr,h.navigation.Nt(!1),a.mc.Ma||h.navigation.Ro(),c.TD())};
h.navigation.js=function(){h.navigation.kg=h.navigation.br;var a=h.la();var c=a.ma;c=c?c.aa:N(a);a.mc.Ma||h.navigation.Ro();c&&c.rl()&&(a=c.rl().cc(!0),0<a.length&&(a=a[0],a=h.w.Zi(a),O(h.navigation.Eh(),a)))};h.navigation.ml=function(){h.dc();var a=h.la(),c=a.Ha,d=!!a.ma,e=a.cc(!0);h.navigation.Nt(d);h.navigation.kg=h.navigation.Kk;0<e.length?O(c,h.navigation.po(e[0])):(a=h.w.$i(a,new h.g.L(100,100)),O(c,a))};
h.navigation.Eh=function(){var a=h.la(),c=null;a.Z&&(c=(a=(c=a.ma)?c.aa:N(a))?a.C.Ha:null);return c};h.navigation.Dy=function(){var a=h.la(),c=N(a);if(c&&c.isVisible()){var d=h.navigation.Eh().Ma.Y;d.isEnabled()?(c=c.Qr(d),c.pa(),na(c,!0),O(a.Ha,h.w.Ce(c)),h.navigation.jt()||h.navigation.Wb("Something went wrong while inserting a block from the flyout."),h.navigation.ml(),O(a.Ha,h.navigation.po(c)),h.navigation.pz()):h.navigation.Wb("Can't insert a disabled block.")}else h.navigation.Wb("Trying to insert from the flyout when the flyout does not  exist or is not visible")};
h.navigation.Nt=function(a){h.navigation.Eh()&&(h.navigation.Eh().Da(),a&&N(h.la()).Da())};
h.navigation.Ry=function(){var a=h.la().mc.Ma,c=h.la().Ha.Ma;if(!a)return h.navigation.Wb("Cannot insert with no marked node."),!1;if(!c)return h.navigation.Wb("Cannot insert with no cursor node."),!1;a=a.Va();c=c.Va();return a==h.w.types.Jc?(h.navigation.Wb("Should not have been able to mark a field."),!1):a==h.w.types.uc?(h.navigation.Wb("Should not have been able to mark a block."),!1):a==h.w.types.Jd?(h.navigation.Wb("Should not have been able to mark a stack."),!1):c==h.w.types.Jc?(h.navigation.Wb("Cannot attach a field to anything else."),
!1):c==h.w.types.gf?(h.navigation.Wb("Cannot attach a workspace to anything else."),!1):!0};h.navigation.Sy=function(a,c){if(!a)return!1;if(a.Ia)return h.navigation.Wb("Cannot move a shadow block to the workspace."),!1;a.getParent()&&A(a,!1);a.moveTo(c.lu);return!0};
h.navigation.jt=function(){var a=h.la().mc.Ma,c=h.la().Ha.Ma;if(!h.navigation.Ry())return!1;var d=a.Va(),e=c.Va(),f=c.Y,g=a.Y;if(a.Nh&&c.Nh)return h.navigation.ld(f,g);if(a.Nh&&(e==h.w.types.uc||e==h.w.types.Jd))return h.navigation.Us(f,g);if(d==h.w.types.gf)return c=c?c.M():null,h.navigation.Sy(c,a);h.navigation.Wb("Unexpected state in Blockly.navigation.modify_.");return!1};h.navigation.sx=function(a,c){var d=a.M(),e=c.M();d.bc()==e.bc()&&(-1<p(d,!1).indexOf(e)?h.navigation.ol(c).disconnect():h.navigation.ol(a).disconnect())};
h.navigation.Vo=function(a,c){if(!a||!c)return!1;var d=a.M();return Fa(c,a)==h.$.tk?(h.navigation.sx(a,c),H(c)||Oa(d.bc(),a,c),c.connect(a),!0):!1};h.navigation.ol=function(a){var c=a.M();return H(a)?c.O?c.O:c.K?c.K:null:a};h.navigation.As=function(a){return H(a)?a:a.da?a.da:null};
h.navigation.ld=function(a,c){if(!a||!c)return!1;var d=h.navigation.ol(a),e=h.navigation.As(c),f=h.navigation.As(a),g=h.navigation.ol(c);if(d&&e&&h.navigation.Vo(d,e)||f&&g&&h.navigation.Vo(f,g)||h.navigation.Vo(a,c))return!0;try{Ga(c,a)}catch(k){h.navigation.Wb("Connection failed with error: "+k)}return!1};
h.navigation.Us=function(a,c){switch(c.type){case h.dd:if(h.navigation.ld(a.V,c))return!0;break;case h.ta:if(h.navigation.ld(a.O,c))return!0;break;case h.Fa:if(h.navigation.ld(a.K,c))return!0;break;case h.cd:for(var d=0;d<a.J.length;d++){var e=a.J[d].connection;if(e&&e.type===h.Fa&&h.navigation.ld(e,c))return!0}if(a.K&&h.navigation.ld(a.K,c))return!0}h.navigation.Wb("This block can not be inserted at the marked location.");return!1};
h.navigation.qx=function(){var a=h.la(),c=a.Ha.Ma;if(c.Nh){var d=c.Y;d.isConnected()?(c=H(d)?d:d.da,d=H(d)?d.da:d,d.M().Ia?h.navigation.Mo("Cannot disconnect a shadow block"):(c.disconnect(),Wa(d,c),Ua(c.M().bc()),c=h.w.Td(c),O(a.Ha,c))):h.navigation.Mo("Cannot disconnect unconnected connection")}else h.navigation.Mo("Cannot disconnect blocks when the cursor is not on a connection")};h.navigation.Ro=function(){var a=h.la();O(a.mc,a.Ha.Ma)};h.navigation.pz=function(){var a=h.la();O(a.mc,null);a.mc.Da()};
h.navigation.Rg=function(a){h.navigation.kg=a};h.navigation.po=function(a){var c=a.O||a.K;return c?h.w.Td(c):h.w.Ce(a)};h.navigation.ot=function(a){var c=h.la();if(c&&(c=c.Ha)){var d=c.Ma;d=d?d.M():null;d===a?d.getParent()?(a=d.O||d.K)&&O(c,h.w.Td(a.da)):O(c,h.w.$i(d.A,d.Ca())):d&&-1<D(a,!1).indexOf(d)&&O(c,h.w.$i(d.A,d.Ca()))}};h.navigation.FD=function(a){var c=h.la().Ha;if(c){var d=c.Ma;d=d?d.M():null;d===a&&O(c,h.w.Ce(d))}};h.navigation.Yn=function(){h.la().Pe||(h.la().Pe=!0,h.navigation.ml())};
h.navigation.px=function(){if(h.la().Pe){var a=h.la();h.la().Pe=!1;a.Ha.Da();a.mc.Da();h.navigation.Eh()&&h.navigation.Eh().Da()}};h.navigation.Mo=function(a){h.navigation.Th?h.navigation.Th("log",a):console.log(a)};h.navigation.Wb=function(a){h.navigation.Th?h.navigation.Th("warn",a):console.warn(a)};h.navigation.eD=function(a){h.navigation.Th?h.navigation.Th("error",a):console.error(a)};h.navigation.ut=function(a){a=h.Pa.Ja.Bz(a);return(a=h.Pa.Ja.Lx(a))?h.navigation.Yd(a):!1};
h.navigation.Yd=function(a){var c=h.la().options.readOnly,d=!1;h.la().Pe?c?-1<h.navigation.Lv.indexOf(a)&&(d=h.navigation.Gs(a)):d=h.navigation.Gs(a):a.name===h.navigation.Ra.Vm&&(h.navigation.Yn(),d=!0);return d};h.navigation.Gs=function(a){return a.name==h.navigation.Ra.Wm||h.navigation.kg==h.navigation.cr?h.navigation.Wz(a):a.name==h.navigation.Ra.Vm?(h.navigation.px(),!0):h.navigation.kg==h.navigation.Kk?h.navigation.dA(a):h.navigation.kg==h.navigation.br?h.navigation.Jx(a):!1};
h.navigation.Jx=function(a){var c=h.la(),d=c.ma;if((c=d?d.aa:N(c))&&c.Yd(a))return!0;switch(a.name){case h.navigation.Ra.Lm:return h.navigation.ks(),!0;case h.navigation.Ra.Hm:return h.navigation.Dy(),!0;case h.navigation.Ra.wm:return h.navigation.ml(),!0;default:return!1}};
h.navigation.Wz=function(a){var c=h.la(),d=c.ma;return d&&d.Yd(a)?!0:a.name===h.navigation.Ra.Wm?(c.ma?h.navigation.ks():h.navigation.js(),!0):a.name===h.navigation.Ra.Am?(h.navigation.js(),!0):a.name===h.navigation.Ra.wm?(h.navigation.ml(),!0):!1};h.navigation.dA=function(a){if(h.la().Ha.Yd(a))return!0;switch(a.name){case h.navigation.Ra.Bm:return h.navigation.jt(),!0;case h.navigation.Ra.Hm:return h.navigation.ly(),!0;case h.navigation.Ra.lq:return h.navigation.qx(),!0;default:return!1}};
h.navigation.ly=function(){var a=h.la().Ha.Ma,c=a.Va();c==h.w.types.Jc?(a=a.Y,F(a)&&a.Yj()):a.Nh||c==h.w.types.gf?h.navigation.Ro():c==h.w.types.uc?h.navigation.Wb("Cannot mark a block."):c==h.w.types.Jd&&h.navigation.Wb("Cannot mark a stack.")};h.navigation.lm=new h.zd(h.navigation.Ra.Id);h.navigation.Qp=new h.zd(h.navigation.Ra.Lm);h.navigation.km=new h.zd(h.navigation.Ra.Gd);h.navigation.Pp=new h.zd(h.navigation.Ra.Am);h.navigation.pu=new h.zd(h.navigation.Ra.Bm);h.navigation.qu=new h.zd(h.navigation.Ra.Hm);
h.navigation.ou=new h.zd(h.navigation.Ra.lq);h.navigation.ru=new h.zd(h.navigation.Ra.Wm);h.navigation.jm=new h.zd(h.navigation.Ra.wm);h.navigation.Rp=new h.zd(h.navigation.Ra.Vm);h.navigation.Lv=[h.navigation.lm,h.navigation.Qp,h.navigation.Pp,h.navigation.km,h.navigation.Rp];h.zk=function(){this.Ab=this.Ma=null};function O(a,c){var d=a.Ma;a.Ma=c;a.Ab&&a.Ab.draw(d,a.Ma)}b=h.zk.prototype;b.draw=function(){this.Ab&&this.Ab.draw(this.Ma,this.Ma)};b.Da=function(){this.Ab&&this.Ab.Da()};b.Yd=function(a){if(this.Ma&&this.Ma.Va()===h.w.types.Jc&&this.Ma.Y.Yd(a))return!0;switch(a.name){case h.navigation.Ra.Id:return this.Qe(),!0;case h.navigation.Ra.Lm:return this.Kg(),!0;case h.navigation.Ra.Gd:return this.next(),!0;case h.navigation.Ra.Am:return this.xg(),!0;default:return!1}};
b.next=function(){var a=this.Ma;if(!a)return null;for(a=a.next();a&&a.next()&&(a.Va()==h.w.types.Gd||a.Va()==h.w.types.uc);)a=a.next();a&&O(this,a);return a};b.xg=function(){var a=this.Ma;if(!a)return null;if(a.Va()==h.w.types.Id||a.Va()==h.w.types.oh)a=a.next();(a=a.xg())&&O(this,a);return a};b.Qe=function(){var a=this.Ma;if(!a)return null;for(a=a.Qe();a&&a.Qe()&&(a.Va()==h.w.types.Gd||a.Va()==h.w.types.uc);)a=a.Qe();a&&O(this,a);return a};
b.Kg=function(){var a=this.Ma;if(!a)return null;(a=a.Kg())&&a.Va()==h.w.types.uc&&(a=a.Qe()||a);a&&O(this,a);return a};h.Wf=function(){h.Wf.v.constructor.call(this)};h.g.object.P(h.Wf,h.zk);h.Wf.prototype.next=function(){return null};h.Wf.prototype.xg=function(){return null};h.Wf.prototype.Qe=function(){return null};h.Wf.prototype.Kg=function(){return null};h.kr=function(a){this.Wa=Object.create(null);this.A=a};b=h.kr.prototype;b.clear=function(){this.Wa=Object.create(null)};b.Lt=function(a,c){var d=this.rf(c,a.type),e=P(this.A,!1);h.h.ba(!0);try{if(d&&d.hb()!=a.hb()){var f=a.type;c!=d.name&&Xa(d,c,e);for(c=0;c<e.length;c++){var g=void 0;a.hb();d.hb();for(var k=0;g=e[c].J[k];k++)for(var l=0;g.xa[l];l++);}h.h.ya(new h.h.gd(a));this.Wa[f].splice(this.ql(f).indexOf(a),1)}else Xa(a,c,e)}finally{h.h.ba(!1)}};
b.Ng=function(a,c){var d=this.sg(a);if(!d)throw Error("Tried to rename a variable that didn't exist. ID: "+a);this.Lt(d,c)};function Xa(a,c,d){h.h.ya(new h.h.Md(a,c));a.name=c;for(a=0;a<d.length;a++)for(var e=d[a],f=0;c=e.J[f];f++)for(var g=0;c.xa[g];g++);}
b.md=function(a,c,d){var e=this.rf(a,c);if(e){if(d&&e.hb()!=d)throw Error('Variable "'+a+'" is already in use and its id is "'+e.hb()+'" which conflicts with the passed in id, "'+d+'".');return e}if(d&&this.sg(d))throw Error('Variable id, "'+d+'", is already in use.');e=d||h.g.Ie();c=c||"";e=new h.Pk(this.A,a,c,e);a=this.Wa[c]||[];a.push(e);delete this.Wa[c];this.Wa[c]=a;return e};
b.Ch=function(a){var c=this.sg(a);if(c){var d=c.name,e=this.qo(a);a=0;for(var f;f=e[a];a++)if("procedures_defnoreturn"==f.type||"procedures_defreturn"==f.type){a=Ha(f,"NAME");d=h.G.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",d).replace("%2",a);h.alert(d);return}var g=this;1<e.length?(d=h.G.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(e.length)).replace("%2",d),h.confirm(d,function(k){k&&c&&Ya(g,c,e)})):Ya(g,c,e)}else console.warn("Can't delete non-existent variable: "+a)};
function Ya(a,c,d){var e=h.h.rb();e||h.h.ba(!0);try{for(var f=0;f<d.length;f++)d[f].F(!0);var g=a.Wa[c.type];a=0;for(var k;k=g[a];a++)if(k.hb()==c.hb()){g.splice(a,1);h.h.ya(new h.h.gd(c));break}}finally{e||h.h.ba(!1)}}b.rf=function(a,c){if(c=this.Wa[c||""])for(var d=0,e;e=c[d];d++)if(h.Zf.He(e.name,a))return e;return null};b.sg=function(a){for(var c=Object.keys(this.Wa),d=0;d<c.length;d++)for(var e=c[d],f=0,g;g=this.Wa[e][f];f++)if(g.hb()==a)return g;return null};
b.ql=function(a){return(a=this.Wa[a||""])?a.slice():[]};b.qg=function(){var a=[],c;for(c in this.Wa)a=a.concat(this.Wa[c]);return a};b.qo=function(a){for(var c=[],d=P(this.A,!1),e=0;e<d.length;e++){var f=oa(d[e]);if(f)for(var g=0;g<f.length;g++)f[g].hb()==a&&c.push(d[e])}return c};h.Za=function(a){this.id=h.g.Ie();h.Za.Hi[this.id]=this;this.options=a||{};this.D=!!this.options.D;this.pj=!!this.options.pj;this.Db=this.options.Db;this.ii=[];this.fm=[];this.Xk=Object.create(null);this.Ej=[];this.Xg=[];this.Sj=[];this.jn=Object.create(null);this.Ze=Object.create(null);this.Wa=new h.kr(this);this.Tl=null;this.Ha=new h.zk;this.mc=new h.Wf;this.Pe=!1};b=h.Za.prototype;b.Z=!1;b.Co=!1;b.Gq=1024;b.Zk=null;b.Tt=function(a){this.Ha=a};b.F=function(){this.Ej.length=0;this.clear();delete h.Za.Hi[this.id]};
h.Za.Xq=3;b=h.Za.prototype;b.ce=function(a,c){a=a.Ca();c=c.Ca();return a.y+h.Za.prototype.ce.offset*a.x-(c.y+h.Za.prototype.ce.offset*c.x)};function Za(a,c){if(!h.g.Ji(a.ii,c))throw Error("Block not present in workspace's list of top-most blocks.");}b.cc=function(a){var c=[].concat(this.ii);a&&1<c.length&&(this.ce.offset=Math.sin(h.g.Ub.Vg(h.Za.Xq)),this.D&&(this.ce.offset*=-1),c.sort(this.ce));return c};
function la(a,c){var d=[].concat(a.fm);c&&1<d.length&&(a.ce.offset=Math.sin(h.g.Ub.Vg(h.Za.Xq)),a.D&&(a.ce.offset*=-1),d.sort(a.ce));return d}function P(a,c){if(c){a=a.cc(!0);c=[];for(var d=0;d<a.length;d++)c.push.apply(c,p(a[d],!0))}else for(c=a.cc(!1),d=0;d<c.length;d++)c.push.apply(c,D(c[d],!1));return c.filter(function(e){return!e.xf()})}
b.clear=function(){this.Co=!0;try{var a=h.h.rb();for(a||h.h.ba(!0);this.ii.length;)this.ii[0].F(!1);for(;this.fm.length;)this.fm[this.fm.length-1].F(!1);a||h.h.ba(!1);this.Wa.clear();this.Tl&&this.Tl.clear()}finally{this.Co=!1}};b.Ng=function(a,c){this.Wa.Ng(a,c)};b.md=function(a,c,d){return this.Wa.md(a,c,d)};b.qo=function(a){return this.Wa.qo(a)};b.Ch=function(a){this.Wa.Ch(a)};b.rf=function(a,c){return this.Wa.rf(a,c)};b.sg=function(a){return this.Wa.sg(a)};b.ql=function(a){return this.Wa.ql(a)};
b.qg=function(){return this.Wa.qg()};b.kj=function(){return 0};b.Vh=function(a,c){return new h.qk(this,a,c)};function $a(a,c){if(!ab(a))return!0;var d=0,e;for(e in c){var f=c[e];if(a.options.So){var g=a.options.So[e]||Infinity;var k=a.Ze[e]?a.Ze[e].slice(0):[];g-=k.length}else g=Infinity;if(f>g)return!1;d+=c[e]}return d>(isNaN(a.options.Ij)?Infinity:a.options.Ij-P(a,!1).length)?!1:!0}function ab(a){return Infinity!=a.options.Ij||!!a.options.So}
b.Np=function(a){var c=a?this.Sj:this.Xg,d=a?this.Xg:this.Sj,e=c.pop();if(e){for(var f=[e];c.length&&e.group&&e.group==c[c.length-1].group;)f.push(c.pop());for(c=0;e=f[c];c++)d.push(e);f=h.h.filter(f,a);h.h.Jb=!1;try{for(c=0;e=f[c];c++)e.run(a)}finally{h.h.Jb=!0}}};function bb(){var a=B;a.Xg.length=0;a.Sj.length=0;h.h.Rw()}function cb(a,c){a.Ej.push(c)}b.jc=function(a){return this.jn[a]||null};h.Za.Hi=Object.create(null);h.Za.eo=function(a){return h.Za.Hi[a]||null};
h.Za.getAll=function(){var a=[],c;for(c in h.Za.Hi)a.push(h.Za.Hi[c]);return a};h.oa=function(a,c,d,e,f,g){this.C=a;this.ig=c;this.Hz=d;this.ep=this.cp=this.nt=this.Ot=null;this.nf=!1;d=h.oa.wu;this.C.D&&(d=-d);this.ww=h.g.Ub.Vg(d);a.We.appendChild(this.Xi(c,!(!f||!g)));this.lb=e;this.Mt&&db(this);f&&g||(a=this.ig.getBBox(),f=a.width+2*h.oa.Pf,g=a.height+2*h.oa.Pf);eb(this,f,g);db(this);fb(this);this.Mt=!0};h.oa.Pf=6;h.oa.xu=5;h.oa.wu=20;h.oa.Tp=4;h.oa.uu=8;h.oa.Ef=null;h.oa.Df=null;h.oa.Mp=function(){h.oa.Ef&&(h.ab(h.oa.Ef),h.oa.Ef=null);h.oa.Df&&(h.ab(h.oa.Df),h.oa.Df=null)};
h.oa.Fw=function(){h.Touch.Vk();h.oa.Mp()};b=h.oa.prototype;b.Mt=!1;b.lb=null;b.ae=0;b.Hf=0;b.Fb=0;b.rd=0;b.gn=!0;
b.Xi=function(a,c){this.Pd=h.g.m.N("g",{},null);var d={filter:"url(#"+this.C.Kb.j.il+")"};h.g.userAgent.pv&&(d={});d=h.g.m.N("g",d,this.Pd);this.zr=h.g.m.N("path",{},d);this.Rk=h.g.m.N("rect",{"class":"blocklyDraggable",x:0,y:0,rx:h.oa.Pf,ry:h.oa.Pf},d);c?(this.Re=h.g.m.N("g",{"class":this.C.D?"blocklyResizeSW":"blocklyResizeSE"},this.Pd),c=2*h.oa.Pf,h.g.m.N("polygon",{points:"0,x x,x x,0".replace(/x/g,c.toString())},this.Re),h.g.m.N("line",{"class":"blocklyResizeLine",x1:c/3,y1:c-1,x2:c-1,y2:c/3},
this.Re),h.g.m.N("line",{"class":"blocklyResizeLine",x1:2*c/3,y1:c-1,x2:c-1,y2:2*c/3},this.Re)):this.Re=null;this.C.options.readOnly||(this.cp=h.va(this.Rk,"mousedown",this,this.Ew),this.Re&&(this.ep=h.va(this.Re,"mousedown",this,this.uz)));this.Pd.appendChild(a);return this.Pd};b.qa=function(){return this.Pd};b.Ew=function(a){var c=gb(this.C,a);if(c){if(c.Kh)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");c.Fc||(c.Fc=this);c.vd=a}};b.Wj=function(){};
b.Ac=function(){return!1};b.uz=function(a){var c=this.Pd.parentNode;c.lastChild!==this.Pd&&c.appendChild(this.Pd);h.oa.Mp();h.g.Bj(a)||(this.C.Fp(a,new h.g.L(this.C.D?-this.Fb:this.Fb,this.rd)),h.oa.Ef=h.va(document,"mouseup",this,h.oa.Fw),h.oa.Df=h.va(document,"mousemove",this,this.vz),h.dc());a.stopPropagation()};b.vz=function(a){this.gn=!1;var c=this.C;a=h.g.Lj(a,x(c),Aa(c));a.x/=c.scale;a.y/=c.scale;c=h.g.L.sum(c.ds,a);eb(this,this.C.D?-c.x:c.x,c.y);this.C.D&&db(this)};
function hb(a,c,d){var e=a.C.D?a.lb.x-c.x-a.Fb:c.x+a.lb.x;c=c.y+a.lb.y;return Math.max(0,Math.min(1,(Math.min(e+a.Fb,d.ob+d.ub)-Math.max(e,d.ob))*(Math.min(c+a.rd,d.Eb+d.Mb)-Math.max(c,d.Eb))/(a.Fb*a.rd)))}function db(a){var c=a.lb.x;c=a.C.D?c-(a.ae+a.Fb):c+a.ae;a.moveTo(c,a.Hf+a.lb.y)}b.moveTo=function(a,c){this.Pd.setAttribute("transform","translate("+a+","+c+")")};b.Kf=function(a){!a&&this.nt&&this.nt()};
function eb(a,c,d){var e=2*h.oa.Pf;c=Math.max(c,e+45);d=Math.max(d,e+20);a.Fb=c;a.rd=d;a.Rk.setAttribute("width",c);a.Rk.setAttribute("height",d);a.Re&&(a.C.D?a.Re.setAttribute("transform","translate("+2*h.oa.Pf+","+(d-e)+") scale(-1 1)"):a.Re.setAttribute("transform","translate("+(c-e)+","+(d-e)+")"));if(a.gn){c=a.C.Ud();c.ob/=a.C.scale;c.ub/=a.C.scale;c.Eb/=a.C.scale;c.Mb/=a.C.scale;d=-a.Fb/4;if(!(a.Fb>c.ub)){if(a.C.D){e=a.lb.x-d;var f=e-a.Fb;var g=c.ob+c.ub,k=c.ob+h.ua.qc/a.C.scale}else f=d+a.lb.x,
e=f+a.Fb,k=c.ob,g=c.ob+c.ub-h.ua.qc/a.C.scale;a.C.D?f<k?d=-(k-a.lb.x+a.Fb):e>g&&(d=-(g-a.lb.x)):f<k?d=k-a.lb.x:e>g&&(d=g-a.lb.x-a.Fb)}f=d;d=-a.rd/4;if(!(a.rd>c.Mb)){e=a.lb.y+d;g=e+a.rd;k=c.Eb;var l=c.Eb+c.Mb-h.ua.qc/a.C.scale,m=a.lb.y;e<k?d=k-m:g>l&&(d=l-m-a.rd)}k=d;g=a.Hz.getBBox();d={x:f,y:-a.rd-h.ia.Iq};e={x:-a.Fb-30,y:k};k={x:g.width,y:k};l={x:f,y:g.height};f=g.width<g.height?k:l;g=g.width<g.height?l:k;k=hb(a,d,c);l=hb(a,e,c);m=hb(a,f,c);c=Math.max(k,l,m,hb(a,g,c));k==c?(a.ae=d.x,a.Hf=d.y):l==
c?(a.ae=e.x,a.Hf=e.y):m==c?(a.ae=f.x,a.Hf=f.y):(a.ae=g.x,a.Hf=g.y)}db(a);fb(a);a.Ot&&a.Ot()}
function fb(a){var c=[],d=a.Fb/2,e=a.rd/2,f=-a.ae,g=-a.Hf;if(d==f&&e==g)c.push("M "+d+","+e);else{g-=e;f-=d;a.C.D&&(f*=-1);var k=Math.sqrt(g*g+f*f),l=Math.acos(f/k);0>g&&(l=2*Math.PI-l);var m=l+Math.PI/2;m>2*Math.PI&&(m-=2*Math.PI);var n=Math.sin(m),r=Math.cos(m),q=new h.g.te(a.Fb,a.rd);m=(q.width+q.height)/h.oa.xu;m=Math.min(m,q.width,q.height)/4;q=1-h.oa.uu/k;f=d+q*f;g=e+q*g;q=d+m*r;var u=e+m*n;d-=m*r;e-=m*n;n=l+a.ww;n>2*Math.PI&&(n-=2*Math.PI);l=Math.sin(n)*k/h.oa.Tp;k=Math.cos(n)*k/h.oa.Tp;c.push("M"+
q+","+u);c.push("C"+(q+k)+","+(u+l)+" "+f+","+g+" "+f+","+g);c.push("C"+f+","+g+" "+(d+k)+","+(e+l)+" "+d+","+e)}c.push("z");a.zr.setAttribute("d",c.join(" "))}b.Se=function(a){this.Rk.setAttribute("fill",a);this.zr.setAttribute("fill",a)};b.F=function(){this.cp&&h.ab(this.cp);this.ep&&h.ab(this.ep);h.oa.Mp();h.g.m.removeNode(this.Pd);this.nf=!0};b.Wo=function(a,c){a?a.Wg(c.x,c.y):this.moveTo(c.x,c.y);this.ae=this.C.D?this.lb.x-c.x-this.Fb:c.x-this.lb.x;this.Hf=c.y-this.lb.y;fb(this)};
b.Ca=function(){return new h.g.L(this.C.D?-this.ae+this.lb.x-this.Fb:this.lb.x+this.ae,this.lb.y+this.Hf)};h.h.ke=function(a){this.Sd=a.id;this.vb=a.A.id;this.group=h.h.rb();this.Jb=h.h.Jb};h.g.object.P(h.h.ke,h.h.Abstract);h.h.ke.prototype.sa=function(){var a=h.h.ke.v.sa.call(this);this.Sd&&(a.commentId=this.Sd);return a};h.h.ke.prototype.ga=function(a){h.h.ke.v.ga.call(this,a);this.Sd=a.commentId};h.h.eh=function(a,c,d){a&&(h.h.eh.v.constructor.call(this,a),this.qt=c,this.Ll=d)};h.g.object.P(h.h.eh,h.h.ke);b=h.h.eh.prototype;b.type=h.h.bq;
b.sa=function(){var a=h.h.eh.v.sa.call(this);a.newContents=this.Ll;return a};b.ga=function(a){h.h.eh.v.ga.call(this,a);this.Ll=a.newValue};b.Ph=function(){return this.qt==this.Ll};b.run=function(a){var c;(c=w(this).Xk[this.Sd]||null)?c.WD(a?this.Ll:this.qt):console.warn("Can't change non-existent comment: "+this.Sd)};h.h.le=function(a){a&&(h.h.le.v.constructor.call(this,a),this.xml=a.Jp())};h.g.object.P(h.h.le,h.h.ke);h.h.le.prototype.type=h.h.uk;
h.h.le.prototype.sa=function(){var a=h.h.le.v.sa.call(this);a.xml=h.I.De(this.xml);return a};h.h.le.prototype.ga=function(a){h.h.le.v.ga.call(this,a);this.xml=h.I.Xe(a.xml)};h.h.le.prototype.run=function(a){h.h.gq(this,a)};h.h.gq=function(a,c){var d=w(a);c?(c=h.g.xml.createElement("xml"),c.appendChild(a.xml),h.I.Ee(c,d)):(d=d.Xk[a.Sd]||null)?d.F(!1,!1):console.warn("Can't uncreate non-existent comment: "+a.Sd)};h.h.me=function(a){a&&(h.h.me.v.constructor.call(this,a),this.xml=a.Jp())};
h.g.object.P(h.h.me,h.h.ke);h.h.me.prototype.type=h.h.cq;h.h.me.prototype.sa=function(){return h.h.me.v.sa.call(this)};h.h.me.prototype.ga=function(a){h.h.me.v.ga.call(this,a)};h.h.me.prototype.run=function(a){h.h.gq(this,!a)};h.h.Tf=function(a){a&&(h.h.Tf.v.constructor.call(this,a),this.vn=a,this.ap=a.Cs(),this.Fg=null)};h.g.object.P(h.h.Tf,h.h.ke);b=h.h.Tf.prototype;
b.Mg=function(){if(!this.vn)throw Error("Tried to record the new position of a comment on the same event twice.");this.Fg=this.vn.Cs();this.vn=null};b.type=h.h.vk;b.sa=function(){var a=h.h.Tf.v.sa.call(this);this.Fg&&(a.newCoordinate=Math.round(this.Fg.x)+","+Math.round(this.Fg.y));return a};b.ga=function(a){h.h.Tf.v.ga.call(this,a);a.newCoordinate&&(a=a.newCoordinate.split(","),this.Fg=new h.g.L(Number(a[0]),Number(a[1])))};b.Ph=function(){return h.g.L.He(this.ap,this.Fg)};
b.run=function(a){var c;if(c=w(this).Xk[this.Sd]||null){a=a?this.Fg:this.ap;var d=c.Cs();c.moveBy(a.x-d.x,a.y-d.y)}else console.warn("Can't move non-existent comment: "+this.Sd)};h.sk=function(a,c){this.qb=a;this.C=c;this.ng=null;this.im=!1;this.de=this.qb.Ca();this.og=h.g.zg()&&c.vc?c.vc:null};h.sk.prototype.F=function(){this.og=this.C=this.qb=null};function ib(a,c,d){d=a.Xh(d);d=h.g.L.sum(a.de,d);a.qb.Wo(a.og,d);a.qb.Ac()&&(a.ng=Qa(a.C,c),a.im=a.ng!=h.jq,c=a.C.Lb,a.im?(Ra(a.qb,!0),a.ng==h.vm&&c&&c.yp(!0)):(Ra(a.qb,!1),c&&c.yp(!1)))}
function jb(a,c,d){ib(a,c,d);c=a.Xh(d);c=h.g.L.sum(a.de,c);a.qb.moveTo(c.x,c.y);c=a.C.Lb;a.im?(c&&setTimeout(c.close.bind(c),100),a.gj(),a.qb.F(!1,!0)):c&&c.close();a.im||(a.og&&a.og.Uk(a.C.We),a.qb.Kf&&a.qb.Kf(!1),a.gj());a.C.rc(!0);a.C.ma&&a.C.ma.qz(a.qb.Ac()?"blocklyToolboxDelete":"blocklyToolboxGrab");h.h.ba(!1)}h.sk.prototype.gj=function(){if(this.qb.Ws){var a=new h.h.Tf(this.qb);a.ap=this.de;a.Mg();h.h.ya(a)}};
h.sk.prototype.Xh=function(a){a=new h.g.L(a.x/this.C.scale,a.y/this.C.scale);this.C.Bl&&a.scale(1/this.C.options.Dc.scale);return a};h.Ii=function(a){this.C=a;this.$t=new h.g.L(a.scrollX,a.scrollY)};h.Ii.prototype.F=function(){this.C=null};h.Ii.prototype.Fp=function(){h.selected&&kb(h.selected);Ba(this.C)};h.Ii.prototype.Fe=function(a){a=h.g.L.sum(this.$t,a);this.C.scroll(a.x,a.y)};h.Ek=function(a){h.Ek.v.constructor.call(this,a.rl());this.vp=a.vp;this.Rs=a.Rs};h.g.object.P(h.Ek,h.Ii);h.Ek.prototype.Fe=function(a){a=h.g.L.sum(this.$t,a);this.Rs?this.vp.set(-a.x):this.vp.set(-a.y)};h.ih=function(a,c){this.kt=null;this.ac=new h.g.L(0,0);this.mb=this.tb=this.fi=this.gi=this.Fc=null;this.An=c;this.uj=this.Ag=this.vj=this.tg=!1;this.vd=a;this.aa=this.ah=this.Od=this.hf=this.Pl=this.Ol=null;this.zl=this.Kh=this.Dr=!1;this.Ms=!h.Uu};b=h.ih.prototype;b.F=function(){h.Touch.Vk();h.B.aA();this.An.yb=null;this.Ol&&h.ab(this.Ol);this.Pl&&h.ab(this.Pl);this.Od&&this.Od.F();this.ah&&this.ah.F();this.hf&&this.hf.F()};
function lb(a,c){a.ac=h.g.L.bl(new h.g.L(c.clientX,c.clientY),a.kt);if(a.tg)var d=!1;else a.tg=h.g.L.Oy(a.ac)>(a.aa?h.bv:h.Tu),d=a.tg;if(d){if(a.Dr)throw Error("updateIsDragging_ should only be called once per gesture.");a.Dr=!0;if(a.Fc){a.uj=!0;a.hf=new h.sk(a.Fc,a.mb);d=a.hf;h.h.rb()||h.h.ba(!0);d.C.rc(!1);d.qb.gn=!1;d.og&&(d.qb.moveTo(0,0),d.og.Wg(d.de.x,d.de.y),ba(d.og,d.qb.qa()));d.qb.Kf&&d.qb.Kf(!0);var e=d.C.ma;e&&e.qw(d.qb.Ac()?"blocklyToolboxDelete":"blocklyToolboxGrab");ib(a.hf,a.vd,a.ac);
d=!0}else d=!1;if(!d){if(a.tb)if(a.aa?(a.tb&&a.aa.uD(a.tb)?!a.aa.Jy()||a.aa.wD(a.ac)?(a.mb=a.aa.eE,mb(a.mb),h.h.rb()||h.h.ba(!0),a.fi=null,a.tb=a.aa.Qr(a.tb),a.tb.select(),d=!0):d=!1:d=!1,a.Ag=d):a.tb.lc()&&(a.Ag=!0),a.Ag){a.Od=new h.Qf(a.tb,a.mb);d=a.Od;e=a.ac;var f=a.Ms;h.h.rb()||h.h.ba(!0);var g=new h.h.Zb(d.Na,"dragStart",null,p(d.Na,!1));h.h.ya(g);d.C.Bl&&Ua(d.Na);h.g.m.ak();d.C.rc(!1);h.Ga.Mn();if(d.Na.getParent()||f&&d.Na.V&&d.Na.V.ea())A(d.Na,f),e=d.Xh(e),e=h.g.L.sum(d.de,e),d.Na.translate(e.x,
e.y),h.Ga.tx(d.Na);d.Na.Kf(!0);e=d.Na;e.lk&&(f=e.Ca(),e.qa().removeAttribute("transform"),e.A.vc.Wg(f.x,f.y),(f=e.qa())&&ba(e.A.vc,f));(e=d.C.ma)&&e.qw(d.Na.Ac()?"blocklyToolboxDelete":"blocklyToolboxGrab");Pa(a.Od,a.vd,a.ac);d=!0}else d=!1;else d=!1;if(d=!d)if(a.aa)d=a.aa.Jy();else if(d=a.mb)d=a.mb,d=d.options.sb&&d.options.sb.Fe;d&&(a.ah=a.aa?new h.Ek(a.aa):new h.Ii(a.mb),a.vj=!0,a.ah.Fp())}h.Af()}a.vd=c}
b.On=function(a){h.g.Cl(a)?this.cancel():(this.Kh=!0,h.Ga.Mn(),mb(this.mb),this.mb.Bl&&this.mb.resize(),h.dc(!!this.aa),y(this.mb),this.vd=a,h.B.block(),this.tb&&(!this.tb.Xd&&a.shiftKey?(h.navigation.Yn(),O(this.An.Ha,h.navigation.po(this.tb))):this.tb.select()),h.g.Bj(a)?pa(this,a):("touchstart"!=a.type.toLowerCase()&&"pointerdown"!=a.type.toLowerCase()||"mouse"==a.pointerType||h.Ny(a,this),this.kt=new h.g.L(a.clientX,a.clientY),this.Ms=a.altKey||a.ctrlKey||a.metaKey,this.Li(a)))};
b.Li=function(a){this.Ol=h.va(document,"mousemove",null,this.Ih.bind(this));this.Pl=h.va(document,"mouseup",null,this.sl.bind(this));a.preventDefault();a.stopPropagation()};b.Ih=function(a){lb(this,a);this.vj?this.ah.Fe(this.ac):this.Ag?Pa(this.Od,this.vd,this.ac):this.uj&&ib(this.hf,this.vd,this.ac);a.preventDefault();a.stopPropagation()};
b.sl=function(a){lb(this,a);h.Af();if(this.zl)console.log("Trying to end a gesture recursively.");else{this.zl=!0;if(this.uj)jb(this.hf,a,this.ac);else if(this.Ag)Sa(this.Od,a,this.ac);else if(this.vj){var c=this.ah;c.Fe(this.ac);Ca(c.C)}else if(this.Fc&&!this.tg)this.Fc.Ez&&this.Fc.Ez(),this.Fc.select&&this.Fc.select();else if(nb(this))c=this.gi,F(c)&&c.Yj(),ob(this);else if(this.fi&&!this.tg&&!nb(this))this.aa&&this.aa.fn?this.tb.isEnabled()&&(h.h.rb()||h.h.ba(!0),Va(this.aa.Qr(this.tb))):h.h.ya(new h.h.Zb(this.fi,
"click",void 0,void 0)),ob(this),h.h.ba(!1);else if(!(this.fi||this.Fc||this.gi||this.tg))if(c=this.An,a.shiftKey){h.navigation.Yn();var d=h.g.Az(c,new h.g.L(a.clientX,a.clientY));d=h.w.$i(c,d);O(c.Ha,d)}else h.selected&&kb(h.selected);a.preventDefault();a.stopPropagation();this.F()}};b.cancel=function(){if(!this.zl){h.Af();if(this.uj)jb(this.hf,this.vd,this.ac);else if(this.Ag)Sa(this.Od,this.vd,this.ac);else if(this.vj){var a=this.ah;a.Fe(this.ac);Ca(a.C)}this.F()}};
function pa(a,c){a.tb?(ob(a),h.dc(!!a.aa),a.tb.Wj(c)):a.Fc?a.Fc.Wj(c):a.mb&&!a.aa&&(h.dc(),a.mb.Wj(c));c.preventDefault();c.stopPropagation();a.F()}function ob(a){a.tb&&!a.aa&&Ua(a.tb)}function pb(a,c){c.Ia?pb(a,c.getParent()):a.tb=c}function nb(a){return(a.gi?F(a.gi):!1)&&!a.tg&&(!a.aa||!a.aa.fn)}b.Bc=function(){return this.vj||this.Ag||this.uj};b.Fh=function(){return this.Od?this.Od.Fh():[]};h.ih.wo=function(){for(var a=h.Za.getAll(),c=0,d;d=a[c];c++)if(d.yb)return!0;return!1};h.Kc=function(a,c,d){this.cu=this.gu=this.he=null;this.Ya=new h.g.te(0,0);this.j=this.Uo=this.Ug=this.Cb=this.hd=this.yc=this.zb=null;d&&this.Ri(d);this.setValue(a);c&&(this.gu=c)};b=h.Kc.prototype;b.name=void 0;b.nf=!1;b.it=50;b.H=null;b.uf=!0;b.Nf=!0;b.Sw=null;h.Kc.Jq="\u00a0";b=h.Kc.prototype;b.pi=!0;b.Yq=!1;b.Ri=function(a){var c=a.tooltip;"string"==typeof c&&(c=h.g.pc(a.tooltip));c&&this.Lf(c)};b.M=function(){return this.H};
b.Oa=function(){this.yc||(this.yc=h.g.m.N("g",{},null),this.isVisible()||(this.yc.style.display="none"),this.H.qa().appendChild(this.yc),this.rj(),qb(this),this.Lf(this.cu),h.B.Li(fa(this)),this.Uo=h.va(fa(this),"mousedown",this,this.Mj))};b.rj=function(){this.Ya.height=Math.max(this.Ya.height,this.j.qq);this.Ya.width=Math.max(this.Ya.width,2*this.j.gh);this.hd=h.g.m.N("rect",{rx:this.j.rq,ry:this.j.rq,x:0,y:0,height:this.Ya.height,width:this.Ya.width},this.yc);rb(this)};
function rb(a){var c=a.hd?a.j.gh:0;a.Ya.height=Math.max(a.Ya.height,a.j.Ck?a.j.tq:a.j.xm);a.Cb=h.g.m.N("text",{"class":"blocklyText",y:a.Ya.height/2,x:c},a.yc);a.j.Ck?a.Cb.setAttribute("dominant-baseline","central"):a.Cb.setAttribute("dy",a.j.xm-a.Ya.height/2);a.Ug=document.createTextNode("");a.Cb.appendChild(a.Ug)}b.F=function(){h.u.nj(this);h.S.nj(this);this.Uo&&h.ab(this.Uo);h.g.m.removeNode(this.yc);this.nf=!0};
function qb(a){var c=fa(a);a.pi&&c&&(a.H.Cc()?(h.g.m.pb(c,"blocklyEditableText"),h.g.m.Ec(c,"blocklyNonEditableText"),c.style.cursor=a.Ku):(h.g.m.pb(c,"blocklyNonEditableText"),h.g.m.Ec(c,"blocklyEditableText"),c.style.cursor=""))}function F(a){return!!a.H&&a.H.Cc()&&!!a.Yj&&"function"===typeof a.Yj}b.isVisible=function(){return this.Nf};b.xd=function(a){if(this.Nf!=a){this.Nf=a;var c=this.qa();c&&(c.style.display=a?"block":"none")}};b.qa=function(){return this.yc};b.$b=function(){};
b.Yh=function(){if(this.Ug){this.Ug.nodeValue=sb(this);var a=h.g.m.io(this.Cb,this.j.Dk,this.j.si,this.j.ri);this.hd&&(a+=2*this.j.gh,this.hd.setAttribute("width",a));this.Ya.width=a}};b.Je=function(){if(!this.isVisible())return new h.g.te(0,0);this.uf?(this.Yh(),this.uf=!1):this.Nf&&0==this.Ya.width&&(console.warn("Deprecated use of setting size_.width to 0 to rerender a field. Set field.isDirty_ to true instead."),this.Yh());return this.Ya};
function sb(a){var c=Ia(a);if(!c)return h.Kc.Jq;c.length>a.it&&(c=c.substring(0,a.it-2)+"\u2026");c=c.replace(/\s/g,h.Kc.Jq);a.H&&a.H.D&&(c+="\u200f");return c}function Ia(a){if(a.oo){var c=a.oo.call(a);if(null!==c)return String(c)}return String(a.getValue())}function tb(){throw Error("setText method is deprecated");}b.Hj=function(){this.uf=!0};function ub(a){a.uf=!0;a.H&&a.H.Z&&(a.H.pa(),a.H.gc())}
b.setValue=function(a){if(null!==a){var c=this.el(a);a=vb(this,a,c);if(!(a instanceof Error)){if(c=this.gu)if(c=c.call(this,a),a=vb(this,a,c),a instanceof Error)return;c=this.getValue();c!==a&&(this.H&&h.h.isEnabled()&&h.h.ya(new h.h.dh(this.H,"field",this.name||null,c,a)),this.fl(a),this.uf&&ub(this))}}};function vb(a,c,d){if(null===d)return a.uf&&ub(a),Error();void 0!==d&&(c=d);return c}b.getValue=function(){return this.he};b.el=function(a){return null===a||void 0===a?null:a};
b.fl=function(a){this.he=a;this.uf=!0};b.Mj=function(a){if(this.H&&this.H.A&&(a=gb(this.H.A,a))){if(a.Kh)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");a.gi||(a.gi=this)}};b.Lf=function(a){var c=fa(this);c?c.fe=a||""===a?a:this.H:this.cu=a};function fa(a){return a.Sw||a.qa()}b.Vd=function(){for(var a=null,c=this.H,d=c.J,e=0;e<c.J.length;e++)for(var f=d[e],g=f.xa,k=0;k<g.length;k++)if(g[k]===this){a=f;break}return a};b.ss=function(){return!1};b.Yd=function(){return!1};
b.Pg=function(a){a?(this.yc.appendChild(a),this.zb=a):this.zb=null};b.bi=function(a){a&&this.yc.appendChild(a)};h.Lc=function(a,c,d){this.Tk=null;null==a&&(a="");h.Lc.v.constructor.call(this,a,null,d);d||(this.Tk=c||null)};h.g.object.P(h.Lc,h.Kc);h.Lc.ga=function(a){var c=h.g.pc(a.text);return new h.Lc(c,void 0,a)};h.Lc.prototype.pi=!1;h.Lc.prototype.Ri=function(a){h.Lc.v.Ri.call(this,a);this.Tk=a["class"]};h.Lc.prototype.rj=function(){rb(this);this.Tk&&h.g.m.pb(this.Cb,this.Tk)};h.Lc.prototype.el=function(a){return null===a||void 0===a?null:String(a)};h.zc.register("field_label",h.Lc);h.Dq=function(a,c,d,e){if(a!=h.ne&&!c)throw Error("Value inputs and statement inputs must have non-empty name.");this.type=a;this.name=c;this.H=d;this.connection=e;this.xa=[]};b=h.Dq.prototype;b.align=h.nm;b.Nf=!0;b.M=function(){return this.H};function Q(a,c,d){wb(a,a.xa.length,c,d);return a}
function wb(a,c,d,e){if(0>c||c>a.xa.length)throw Error("index "+c+" out of bounds.");if(!(d||""==d&&e))return c;"string"==typeof d&&(d=new h.Lc(d));var f=d,g=a.H;if(f.H)throw Error("Field already bound to a block.");f.H=g;g.A.Z&&(f.j=g.A.Kb.j);a.H.Z&&d.Oa();d.name=e;d.lp&&(c=wb(a,c,d.lp));a.xa.splice(c,0,d);++c;d.Hp&&(c=wb(a,c,d.Hp));a.H.Z&&(a.H.pa(),a.H.gc());return c}b.isVisible=function(){return this.Nf};
b.xd=function(a){var c=[];if(this.Nf==a)return c;for(var d=(this.Nf=a)?"block":"none",e=0,f;f=this.xa[e];e++)f.xd(a);if(this.connection){if(a)c=xb(this.connection);else if(e=this.connection,R(e,!1),e.da)for(e=p(e.ea(),!1),f=0;f<e.length;f++){for(var g=e[f],k=g.od(!0),l=0;l<k.length;l++)R(k[l],!1);g=M(g);for(l=0;l<g.length;l++)g[l].xd(!1)}if(e=this.connection.ea())e.qa().style.display=d,a||(e.Z=!1)}return c};b.Hj=function(){for(var a=0,c;c=this.xa[a];a++)c.Hj()};
b.$h=function(a){if(!this.connection)throw Error("This input does not have a connection.");this.connection.$h(a)};function yb(a,c){a.align=c;a.H.Z&&a.H.pa();return a}b.Oa=function(){if(this.H.A.Z)for(var a=0;a<this.xa.length;a++)this.xa[a].Oa()};b.F=function(){for(var a=0,c;c=this.xa[a];a++)c.F();this.connection&&this.connection.F();this.H=null};h.qk=function(a,c,d){if(h.Generator&&"undefined"!=typeof h.Generator.prototype[c])throw Error('Block prototypeName "'+c+'" conflicts with Blockly.Generator members.');this.id=d&&!a.jc(d)?d:h.g.Ie();a.jn[this.id]=this;this.O=this.V=this.K=null;this.J=[];this.Ne=void 0;this.disabled=!1;this.fe="";this.contextMenu=!0;this.$d=null;this.xe=[];this.es=this.mt=this.Cn=!0;this.Qd=this.Ia=!1;this.ye={text:null,Ct:!1,size:new h.g.te(160,80)};this.mu=new h.g.L(0,0);this.A=a;this.Xd=a.vf;this.D=a.D;this.yj=!1;
this.qd=void 0;if(c){this.type=c;d=h.Nb[c];if(!d||"object"!=typeof d)throw TypeError("Unknown block type: "+c);h.g.object.Eg(this,d)}a.ii.push(this);a.Ze[this.type]||(a.Ze[this.type]=[]);a.Ze[this.type].push(this);"function"==typeof this.Oa&&this.Oa();this.Cy=this.Ne;if(h.h.isEnabled()){(a=h.h.rb())||h.h.ba(!0);try{h.h.ya(new h.h.rk(this))}finally{a||h.h.ba(!1)}}if("function"==typeof this.onchange){if((a=this.onchange)&&"function"!=typeof a)throw Error("onchange must be a function.");this.Nj&&h.g.Ji(this.A.Ej,
this.Nj);if(this.onchange=a)this.Nj=a.bind(this),cb(this.A,this.Nj)}};b=h.qk.prototype;b.data=null;b.nf=!1;b.un="#000000";
b.F=function(a){if(this.A){this.Nj&&h.g.Ji(this.A.Ej,this.Nj);this.A.Pe&&h.navigation.ot(this);A(this,a);h.h.isEnabled()&&h.h.ya(new h.h.Du(this));h.h.disable();try{if(this.A){Za(this.A,this);var c=this.A;c.Ze[this.type].splice(c.Ze[this.type].indexOf(this),1);c.Ze[this.type].length||delete c.Ze[this.type];delete this.A.jn[this.id];this.A=null}h.selected==this&&(h.selected=null);for(var d=this.xe.length-1;0<=d;d--)this.xe[d].F(!1);d=0;for(var e;e=this.J[d];d++)e.F();this.J.length=0;var f=this.od(!0);
d=0;for(var g;g=f[d];d++)g.F()}finally{h.h.enable(),this.nf=!0}}};function A(a,c){if(a.K){var d=null;a.K.isConnected()&&(d=a.K.da,a.K.disconnect());if(d&&c){a:{c=null;for(var e=0;e<a.J.length;e++){var f=a.J[e].connection;if(f&&f.type==h.Fa&&f.da){if(c){a=null;break a}c=f}}a=c}a&&a.isConnected()&&!a.ea().Ia&&(a=a.da,a.disconnect(),G(a,d)?d.connect(a):a.Ml(d))}}else a.O&&(d=null,a.O.isConnected()&&(d=a.O.da,a.O.disconnect()),e=t(a),c&&e&&!e.Ia&&(a=a.V.da,a.disconnect(),d&&G(d,a)&&d.connect(a)))}
b.od=function(){var a=[];this.K&&a.push(this.K);this.O&&a.push(this.O);this.V&&a.push(this.V);for(var c=0,d;d=this.J[c];c++)d.connection&&a.push(d.connection);return a};b.Go=function(){for(var a=this.V;a;){var c=a.ea();if(!c)return a;a=c.V}return null};b.gc=function(){console.warn("Not expected to reach Block.bumpNeighbours function. BlockSvg.bumpNeighbours was expected to be called instead.")};b.getParent=function(){return this.$d};
function zb(a){do{var c=a;a=a.getParent();if(!a)return null}while(t(a)==c);return a}function t(a){return a.V&&a.V.ea()}b.bc=function(){var a=this;do{var c=a;a=c.$d}while(a);return c};function D(a,c){if(!c)return a.xe;c=[];for(var d=0,e;e=a.J[d];d++)e.connection&&(e=e.connection.ea())&&c.push(e);(a=t(a))&&c.push(a);return c}
b.ci=function(a){if(a!=this.$d){if(this.$d){h.g.Ji(this.$d.xe,this);if(this.O&&this.O.isConnected())throw Error("Still connected to previous block.");if(this.K&&this.K.isConnected())throw Error("Still connected to parent block.");this.$d=null}else Za(this.A,this);(this.$d=a)?a.xe.push(this):this.A.ii.push(this)}};function p(a,c){var d=[a];a=D(a,c);for(var e,f=0;e=a[f];f++)d.push.apply(d,p(e,c));return d}b.Ac=function(){return this.Cn&&!this.Ia&&!(this.A&&this.A.options.readOnly)};
b.lc=function(){return this.mt&&!this.Ia&&!(this.A&&this.A.options.readOnly)};b.xp=function(a){this.mt=a};b.Ap=function(a){this.Ia=a};b.xf=function(){return this.yj};b.Ut=function(a){this.yj=a};b.Cc=function(){return this.es&&!(this.A&&this.A.options.readOnly)};b.wp=function(a){this.es=a;a=0;for(var c;c=this.J[a];a++)for(var d=0,e;e=c.xa[d];d++)qb(e)};
b.ko=function(a,c){var d=this.od(!0);a=a.od(!0);if(d.length!=a.length)throw Error("Connection lists did not match in length.");for(var e=0;e<a.length;e++)if(a[e]==c)return d[e];return null};b.Lf=function(a){this.fe=a};b.Se=function(a){this.un=h.g.Ql(a).mj};b.ei=function(){};function z(a,c){for(var d=0,e;e=a.J[d];d++)for(var f=0,g;g=e.xa[f];f++)if(g.name==c)return g;return null}function oa(a){for(var c=0,d;d=a.J[c];c++)for(var e=0;d.xa[e];e++);return[]}
function Ha(a,c){return(a=z(a,c))?a.getValue():null}function Ab(a,c){a=z(a,"NAME");if(!a)throw Error('Field "NAME" not found.');a.setValue(c)}b.am=function(a,c){if(a){void 0===c&&(c=null);if(!this.O){if(this.K)throw Error("Remove output connection prior to adding previous connection.");this.O=this.Gj(h.dd)}this.O.$h(c)}else if(this.O){if(this.O.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.O.F();this.O=null}};
b.Zl=function(a,c){if(a)void 0===c&&(c=null),this.V||(this.V=this.Gj(h.ta)),this.V.$h(c);else if(this.V){if(this.V.isConnected())throw Error("Must disconnect next statement before removing connection.");this.V.F();this.V=null}};
b.$l=function(a,c){if(a){void 0===c&&(c=null);if(!this.K){if(this.O)throw Error("Remove previous connection prior to adding output connection.");this.K=this.Gj(h.cd)}this.K.$h(c)}else if(this.K){if(this.K.isConnected())throw Error("Must disconnect output value before removing connection.");this.K.F();this.K=null}};b.Qg=function(a){this.Ne!=a&&(h.h.ya(new h.h.dh(this,"inline",null,this.Ne,a)),this.Ne=a)};
function Ja(a){if(void 0!=a.Ne)return a.Ne;for(var c=1;c<a.J.length;c++)if(a.J[c-1].type==h.ne&&a.J[c].type==h.ne)return!1;for(c=1;c<a.J.length;c++)if(a.J[c-1].type==h.Fa&&a.J[c].type==h.ne)return!0;return!1}b.isEnabled=function(){return!this.disabled};b.Te=function(a){this.isEnabled()!=a&&(h.h.ya(new h.h.dh(this,"disabled",null,this.disabled,!a)),this.disabled=!a)};function Bb(a){for(a=zb(a);a;){if(a.disabled)return!0;a=zb(a)}return!1}b.isCollapsed=function(){return this.Qd};
b.Jf=function(a){this.Qd!=a&&(h.h.ya(new h.h.dh(this,"collapsed",null,this.Qd,a)),this.Qd=a)};b.toString=function(a,c){var d=[],e=c||"?";if(this.Qd)d.push(Ia(ka(this,"_TEMP_COLLAPSED_INPUT").xa[0]));else for(var f=0,g;g=this.J[f];f++){for(var k=0,l;l=g.xa[k];k++)d.push(Ia(l));g.connection&&((g=g.connection.ea())?d.push(g.toString(void 0,c)):d.push(e))}d=d.join(" ").trim()||"???";a&&d.length>a&&(d=d.substring(0,a-3)+"...");return d};function Cb(a,c){return a.eg(h.ne,c||"")}
b.Eg=function(a,c){if(void 0!==c&&"boolean"!=typeof c)throw Error("opt_disableCheck must be a boolean if provided");if(!c){c=[];for(var d in a)void 0!==this[d]&&c.push(d);if(c.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(c));}h.g.object.Eg(this,a)};b.eg=function(a,c){var d=null;if(a==h.Fa||a==h.ta)d=this.Gj(a);a=new h.Dq(a,c,this,d);this.J.push(a);return a};
b.pp=function(a,c){for(var d=0,e;e=this.J[d];d++)if(e.name==a){e.F();this.J.splice(d,1);return}if(!c)throw Error("Input not found: "+a);};function ka(a,c){for(var d=0,e;e=a.J[d];d++)if(e.name==c)return e;return null}b.ai=function(a){this.ye.text!=a&&(h.h.ya(new h.h.dh(this,"comment",null,this.ye.text,a)),this.ye.text=a)};b.Vj=function(){};b.Vt=function(){};b.Ca=function(){return this.mu};
b.moveBy=function(a,c){if(this.$d)throw Error("Block has parent.");var d=new h.h.li(this);this.mu.translate(a,c);d.Mg();h.h.ya(d)};b.Gj=function(a){return new h.$(this,a)};h.i={};h.i.lB=function(){};h.g.Sa={};h.g.Sa.vu="aria-";h.g.Sa.Mv="role";h.g.Sa.Bi={cB:"grid",dB:"gridcell",eB:"group",tv:"listbox",yv:"menu",zv:"menuitem",Av:"menuitemcheckbox",Hv:"option",fC:"presentation",Rm:"row",zC:"tree",AC:"treeitem"};h.g.Sa.State={su:"activedescendant",sA:"colcount",GA:"expanded",kB:"invalid",rv:"label",pB:"labelledby",tB:"level",XB:"orientation",eC:"posinset",mC:"rowcount",Sm:"selected",pC:"setsize",DC:"valuemax",EC:"valuemin"};h.g.Sa.di=function(a,c){a.setAttribute(h.g.Sa.Mv,c)};
h.g.Sa.Rg=function(a,c,d){Array.isArray(d)&&(d=d.join(" "));a.setAttribute(h.g.Sa.vu+c,d)};h.Xf=function(){h.Xb.call(this);this.Me=-1;this.Nl=this.Jl=this.Il=this.kf=this.Kl=null};h.g.object.P(h.Xf,h.Xb);b=h.Xf.prototype;b.La=function(){var a=document.createElement("div");a.id=this.hb();this.W=a;a.className="goog-menu goog-menu-vertical blocklyNonSelectable";a.tabIndex=0;h.g.Sa.di(a,this.up||h.g.Sa.Bi.yv)};b.focus=function(){var a=this.W;a&&(a.focus({preventScroll:!0}),h.g.m.pb(a,"focused"))};b.blur=function(){var a=this.W;a&&(a.blur(),h.g.m.Ec(a,"focused"))};b.di=function(a){this.up=a};
b.kl=function(){h.Xf.v.kl.call(this);ca(this,function(a){if(a.Vc){var c=a.W;c=c.id||(c.id=a.hb());this.wh||(this.wh={});this.wh[c]=a}},this);Db(this)};b.ll=function(){Eb(this,-1);h.Xf.v.ll.call(this)};b.Nn=function(){h.Xf.v.Nn.call(this);this.Kl&&(h.ab(this.Kl),this.Kl=null);this.kf&&(h.ab(this.kf),this.kf=null);this.Il&&(h.ab(this.Il),this.Il=null);this.Jl&&(h.ab(this.Jl),this.Jl=null);this.Nl&&(h.ab(this.Nl),this.Nl=null)};
function Db(a){var c=a.W;a.Kl=h.va(c,"mouseover",a,a.py,!0);a.kf=h.va(c,"click",a,a.ky,!0);a.Il=h.va(c,"mouseenter",a,a.ny,!0);a.Jl=h.va(c,"mouseleave",a,a.oy,!0);a.Nl=h.va(c,"keydown",a,a.ro)}b.wh=null;function Fb(a,c){if(a.wh)for(var d=a.W;c&&c!==d;){var e=c.id;if(e in a.wh)return a.wh[e];c=c.parentNode}return null}function Gb(a){(a=a.xb[a.Me]||null)&&a.Ue(!1)}function Eb(a,c){var d=a.xb[c]||null;d?(d.Ue(!0),a.Me=c):-1<a.Me&&((a.xb[a.Me]||null).Ue(!1),a.Me=-1);d&&h.g.style.Rt(d.W,a.W)}
b.Ue=function(a){Eb(this,this.xb.indexOf(a))};function Hb(a){Gb(a);Ib(a,function(c,d){return(c+1)%d},a.Me)}function Jb(a){Gb(a);Ib(a,function(c,d){c--;return 0>c?d-1:c},a.Me)}function Ib(a,c,d){var e=a.xb.length;d=c.call(a,0>d?-1:d,e);for(var f=0;f<=e;){var g=a.xb[d]||null;if(g&&g.isEnabled()){Eb(a,d);break}f++;d=c.call(a,d,e)}}b.py=function(a){(a=Fb(this,a.target))&&a.isEnabled()&&(this.xb[this.Me]||null)!==a&&(Gb(this),this.Ue(a))};
b.ky=function(a){var c=Fb(this,a.target),d;if(d=c)c.isEnabled()&&(c.Ue(!0),Kb(c)),d=void 0;d&&a.preventDefault()};b.ny=function(){this.focus()};b.oy=function(){this.W&&(this.blur(),Gb(this),Eb(this,-1))};b.ro=function(a){return 0!=this.xb.length&&Lb(this,a)?(a.preventDefault(),a.stopPropagation(),!0):!1};
function Lb(a,c){var d=a.xb[a.Me]||null;if(d&&"function"==typeof d.ro&&d.ro(c))return!0;if(c.shiftKey||c.ctrlKey||c.metaKey||c.altKey)return!1;switch(c.keyCode){case h.g.fb.nq:d&&Kb(d);break;case h.g.fb.aw:Jb(a);break;case h.g.fb.Su:Hb(a);break;default:return!1}return!0};h.Hk=function(a,c){h.Xb.call(this);this.ig=a;this.setValue(c);this.jl=!0};h.g.object.P(h.Hk,h.Xb);b=h.Hk.prototype;
b.La=function(){var a=document.createElement("div");a.id=this.hb();this.W=a;a.className="goog-menuitem goog-option "+(this.jl?"":"goog-menuitem-disabled ")+(this.qn?"goog-option-selected ":"")+(this.$s()?"goog-menuitem-rtl ":"");var c=document.createElement("div");c.className="goog-menuitem-content";a.appendChild(c);if(this.Ni){var d=document.createElement("div");d.className="goog-menuitem-checkbox"}else d=null;d&&c.appendChild(d);c.appendChild(Mb(this));h.g.Sa.di(a,this.up||(this.Ni?h.g.Sa.Bi.Av:
h.g.Sa.Bi.zv));h.g.Sa.Rg(a,h.g.Sa.State.Sm,this.Ni&&this.qn||!1)};function Mb(a){a=a.ig;"string"===typeof a&&(a=document.createTextNode(a));return a}b.setValue=function(a){this.he=a};b.getValue=function(){return this.he};b.di=function(a){this.up=a};function Nb(a,c){if(a.Ni){a.qn=c;var d=a.W;d&&a.isEnabled()&&(c?(h.g.m.pb(d,"goog-option-selected"),h.g.Sa.Rg(d,h.g.Sa.State.Sm,!0)):(h.g.m.Ec(d,"goog-option-selected"),h.g.Sa.Rg(d,h.g.Sa.State.Sm,!1)))}}
b.Ue=function(a){var c=this.W;c&&this.isEnabled()&&(a?h.g.m.pb(c,"goog-menuitem-highlight"):h.g.m.Ec(c,"goog-menuitem-highlight"))};b.isEnabled=function(){return this.jl};b.Te=function(a){this.jl=a;(a=this.W)&&(this.jl?h.g.m.Ec(a,"goog-menuitem-disabled"):h.g.m.pb(a,"goog-menuitem-disabled"))};function Kb(a){a.Ni&&Nb(a,!a.qn);a.ur&&a.ur.call(a.pw,a)}function Ob(a,c,d){a.ur=c;a.pw=d};h.g.gm={};h.g.gm.Je=function(a){a=a.W;var c=h.g.style.Je(a);c.height=a.scrollHeight;return c};h.g.gm.rw=function(a,c,d){c.left+=d.width;c.right+=d.width;a.left+=d.width;a.right+=d.width};h.ja={};h.ja.$k=null;h.ja.Zn=null;h.ja.show=function(a,c,d){h.S.show(h.ja,d,null);if(c.length){var e=h.ja.nz(c,d);h.ja.Gf(e,a,d);setTimeout(function(){e.W.focus()},1);h.ja.$k=null}else h.ja.Da()};h.ja.nz=function(a,c){var d=new h.Xf;ea(d,c);for(var e=0,f;f=a[e];e++){var g=new h.Hk(f.text);ea(g,c);da(d,g);g.Te(f.enabled);f.enabled&&Ob(g,function(){h.ja.Da();this.wb()},f)}return d};
h.ja.Gf=function(a,c,d){var e=h.g.jy();c={top:c.clientY+e.top,bottom:c.clientY+e.top,left:c.clientX+e.left,right:c.clientX+e.left};h.ja.jx(a);var f=h.g.gm.Je(a);d&&h.g.gm.rw(e,c,f);h.S.oz(e,c,f,d);a.W.focus()};h.ja.jx=function(a){a.pa(h.S.Ea);var c=a.W;h.g.m.pb(c,"blocklyContextMenu");h.va(c,"contextmenu",null,h.g.Xy);a.focus()};h.ja.Da=function(){h.S.nj(h.ja);h.ja.$k=null;h.ja.Zn&&(h.ab(h.ja.Zn),h.ja.Zn=null)};
h.ja.UC=function(a,c){return function(){h.h.disable();try{var d=h.I.gl(c,a.A),e=a.Ca();e.x=a.D?e.x-h.Qb:e.x+h.Qb;e.y+=2*h.Qb;d.moveBy(e.x,e.y)}finally{h.h.enable()}h.h.isEnabled()&&!d.Ia&&h.h.ya(new h.h.rk(d));d.select()}};h.ja.zw=function(a){var c=p(a,!1).length,d=t(a);d&&(c-=p(d,!1).length);return{text:1==c?h.G.DELETE_BLOCK:h.G.DELETE_X_BLOCKS.replace("%1",String(c)),enabled:!0,wb:function(){h.h.ba(!0);a.F(!0,!0);h.h.ba(!1)}}};
h.ja.Bw=function(a){return{enabled:!("function"==typeof a.ug?!a.ug():!a.ug),text:h.G.HELP,wb:function(){a.showHelp()}}};h.ja.Aw=function(a){var c=ab(a.A)?$a(a.A,h.g.ms(a)):!0;return{text:h.G.DUPLICATE_BLOCK,enabled:c,wb:function(){h.duplicate(a)}}};h.ja.yw=function(a){var c={enabled:!h.g.userAgent.oe};a.Rd?(c.text=h.G.REMOVE_COMMENT,c.wb=function(){a.ai(null)}):(c.text=h.G.ADD_COMMENT,c.wb=function(){a.ai("")});return c};
h.ja.YC=function(a){return{text:h.G.REMOVE_COMMENT,enabled:!0,wb:function(){h.h.ba(!0);a.F(!0,!0);h.h.ba(!1)}}};h.ja.ZC=function(a){return{text:h.G.DUPLICATE_COMMENT,enabled:!0,wb:function(){h.duplicate(a)}}};
h.ja.jE=function(a,c){if(!h.sh)throw Error("Missing require for Blockly.WorkspaceCommentSvg");var d={enabled:!h.g.userAgent.oe};d.text=h.G.ADD_COMMENT;d.wb=function(){var e=new h.sh(a,h.G.WORKSPACE_COMMENT_DEFAULT_TEXT,h.sh.Ru,h.sh.Ru),f=aa(a).getBoundingClientRect();f=new h.g.L(c.clientX-f.left,c.clientY-f.top);var g=h.g.jo(a.jb);f=h.g.L.bl(f,g);f.scale(1/a.scale);e.moveBy(f.x,f.y);a.Z&&(e.yg(),e.pa(),e.select())};return d};h.bb=function(a,c){h.bb.v.constructor.call(this,a,c);this.mg=a.A.Zk[c];this.Sr=a.A.Zk[h.nh[c]];this.Ig=new h.g.L(0,0);this.Ye=h.bb.Ld.nr};h.g.object.P(h.bb,h.$);h.bb.Ld={nr:-1,fr:0,rh:1};b=h.bb.prototype;b.F=function(){h.bb.v.F.call(this);this.Ye==h.bb.Ld.rh&&Pb(this.mg,this,this.y)};b.M=function(){return h.bb.v.M.call(this)};b.ea=function(){return h.bb.v.ea.call(this)};function Qb(a,c){var d=a.x-c.x;a=a.y-c.y;return Math.sqrt(d*d+a*a)}
function Wa(a,c){if(!a.H.A.Bc()){var d=a.H.bc();if(!d.Xd){var e=!1;if(!d.lc()){d=c.M().bc();if(!d.lc())return;c=a;e=!0}var f=h.selected==d;f||Rb(d.eb,!0);var g=c.x+h.Qb+Math.floor(Math.random()*h.sm)-a.x,k=c.y+h.Qb+Math.floor(Math.random()*h.sm)-a.y;e&&(k=-k);d.D&&(g=c.x-h.Qb-Math.floor(Math.random()*h.sm)-a.x);d.moveBy(g,k);f||Rb(d.eb,!1)}}}
b.moveTo=function(a,c){if(this.Ye==h.bb.Ld.nr){var d=this.mg;d.cb.splice(Sb(d,c),0,this);this.Ye=h.bb.Ld.rh}else this.Ye==h.bb.Ld.rh&&(Pb(this.mg,this,this.y),d=this.mg,d.cb.splice(Sb(d,c),0,this));this.x=a;this.y=c};b.moveBy=function(a,c){this.moveTo(this.x+a,this.y+c)};function Tb(a,c){a.moveTo(c.x+a.Ig.x,c.y+a.Ig.y)}function S(a,c,d){a.Ig.x=c;a.Ig.y=d}
function Ub(a){var c=a.da.x-a.x,d=a.da.y-a.y;if(0!=c||0!=d){a=a.ea();var e=a.qa();if(!e)throw Error("block is not rendered.");e=h.g.pd(e);a.qa().setAttribute("transform","translate("+(e.x-c)+","+(e.y-d)+")");Ta(a,-c,-d)}}
b.closest=function(a,c){var d=this.Sr;if(d.cb.length){var e=this.y,f=this.x;this.x=f+c.x;this.y=e+c.y;var g=Sb(d,this.y);c=null;for(var k=a,l,m=g-1;0<=m&&Math.abs(d.cb[m].y-this.y)<=a;)l=d.cb[m],this.wl(l,k)&&(c=l,k=Qb(l,this)),m--;for(;g<d.cb.length&&Math.abs(d.cb[g].y-this.y)<=a;)l=d.cb[g],this.wl(l,k)&&(c=l,k=Qb(l,this)),g++;this.x=f;this.y=e;a={connection:c,Ul:k}}else a={connection:null,Ul:a};return a};
b.Ps=function(){var a=this.H.A.Kb.j;a=this.type==h.Fa||this.type==h.cd?h.g.s.moveBy(0,-5)+h.g.s.R("v",5)+a.$f.Yc+h.g.s.R("v",5):h.g.s.moveBy(-5,0)+h.g.s.R("h",5)+a.lh.Ff+h.g.s.R("h",5);var c=this.H.Ca();h.$.Qs=h.g.m.N("path",{"class":"blocklyHighlightedConnectionPath",d:a,transform:"translate("+(this.x-c.x)+","+(this.y-c.y)+")"+(this.H.D?" scale(-1 1)":"")},this.H.qa())};
function R(a,c){c&&a.Ye==h.bb.Ld.rh||!c&&a.Ye==h.bb.Ld.fr||a.H.Xd||(c?(c=a.mg,c.cb.splice(Sb(c,a.y),0,a),a.Ye=h.bb.Ld.rh):(a.Ye==h.bb.Ld.rh&&Pb(a.mg,a,a.y),a.Ye=h.bb.Ld.fr))}function xb(a){R(a,!0);var c=[];if(a.type!=h.Fa&&a.type!=h.ta)return c;if(a=a.ea()){if(a.isCollapsed()){var d=[];a.K&&d.push(a.K);a.V&&d.push(a.V);a.O&&d.push(a.O)}else d=a.od(!0);for(var e=0;e<d.length;e++)c.push.apply(c,xb(d[e]));c.length||(c[0]=a)}return c}b.wl=function(a,c){return Qb(this,a)>c?!1:h.bb.v.wl.call(this,a)};
b.Ml=function(a){Wa(this,a)};b.Kn=function(a,c){h.bb.v.Kn.call(this,a,c);a.Z&&a.pa();c.Z&&(c.$e(),c.pa())};b.sp=function(){var a=this.M(),c=this.be;if(a.A&&c&&h.h.Jb){h.bb.v.sp.call(this);c=this.ea();if(!c)throw Error("Couldn't respawn the shadow block that should exist here.");c.yg();c.pa(!1);a.Z&&a.pa()}};b.pt=function(a){return Vb(this.Sr,this,a)};b.ld=function(a){h.bb.v.ld.call(this,a);var c=this.M();a=a.M();c.Z&&c.$e();a.Z&&a.$e();c.Z&&a.Z&&(this.type==h.ta||this.type==h.dd?a.pa():c.pa())};
b.tt=function(){!this.isConnected()||this.da&&G(this,this.da)||(A(H(this)?this.ea():this.H),this.H.gc())};h.Ok=function(){h.Ok.v.constructor.call(this)};h.g.object.P(h.Ok,h.zk);h.Ok.prototype.next=function(){var a=this.Ma;if(!a)return null;(a=Wb(this,a))&&O(this,a);return a};h.Ok.prototype.Qe=function(){var a=this.Ma;if(!a)return null;(a=Xb(this,a))&&O(this,a);return a};function Yb(a){a&&a.Va();return!1}function Zb(a,c){if(!c)return null;var d=c.next();return d?d:Zb(a,c.Kg())}
function Wb(a,c){if(!c)return null;var d=c.xg()||c.next();if(Yb(d))return d;if(d)return Wb(a,d);c=Zb(a,c.Kg());return Yb(c)?c:c?Wb(a,c):null}function $b(a,c){if(!c.xg())return c;for(c=c.xg();c.next();)c=c.next();return $b(a,c)}function Xb(a,c){if(!c)return null;var d=c.Qe();d=d?$b(a,d):c.Kg();return Yb(d)?d:d?Xb(a,d):null};h.g.Rect=function(a,c,d,e){this.top=a;this.bottom=c;this.left=d;this.right=e};h.g.Rect.prototype.contains=function(a,c){return a>=this.left&&a<=this.right&&c>=this.top&&c<=this.bottom};h.ia=function(a,c,d){this.ca=h.g.m.N("g",{},null);this.ca.gk="";this.style=a.qf().uh[""]||h.ed.Wi("#000000");this.eb=a.Kb.gt(this.ca);this.Z=!1;this.A=a;this.O=this.V=this.K=null;this.lk=h.g.zg()&&!!a.vc;var e=this.eb.nb;e.fe=this;h.B.Li(e);h.ia.v.constructor.call(this,a,c,d);this.ca.dataset&&(this.ca.dataset.id=this.id)};h.g.object.P(h.ia,h.qk);h.ia.prototype.height=0;h.ia.prototype.width=0;h.ia.prototype.tc=null;h.ia.jB=-1;h.ia.aq="TEMP_COLLAPSED_WARNING_";h.ia.Iq=25;h.ia.se=!1;b=h.ia.prototype;
b.yg=function(){if(!this.A.Z)throw TypeError("Workspace is headless.");for(var a=0,c;c=this.J[a];a++)c.Oa();c=M(this);for(a=0;a<c.length;a++)c[a].ex();this.$b();L(this.eb,"blocklyDraggable",this.lc());a=this.qa();this.A.options.readOnly||this.Bx||!a||h.va(a,"mousedown",this,this.Mj);this.Bx=!0;a.parentNode||this.A.jb.appendChild(a)};
b.select=function(){if(this.Ia&&this.getParent())this.getParent().select();else if(h.selected!=this){var a=null;if(h.selected){a=h.selected.id;h.h.disable();try{kb(h.selected)}finally{h.h.enable()}}a=new h.h.Zb(null,"selected",a,this.id);a.vb=this.A.id;h.h.ya(a);h.selected=this;Rb(this.eb,!0)}};function kb(a){if(h.selected==a){var c=new h.h.Zb(null,"selected",a.id,null);c.vb=a.A.id;h.h.ya(c);h.selected=null;Rb(a.eb,!1)}}b.Bf=null;b.Rd=null;b.Hc=null;
function M(a){var c=[];a.Bf&&c.push(a.Bf);a.Rd&&c.push(a.Rd);a.Hc&&c.push(a.Hc);return c}b.ci=function(a){var c=this.$d;if(a!=c){h.g.m.ak();h.ia.v.ci.call(this,a);h.g.m.bk();var d=this.qa();if(!this.A.Co&&d){var e=this.Ca();a?(a.qa().appendChild(d),a=this.Ca(),Ta(this,a.x-e.x,a.y-e.y)):c&&(this.A.jb.appendChild(d),this.translate(e.x,e.y))}}};
b.Ca=function(){var a=0,c=0,d=this.lk?this.A.vc.rb():null,e=this.qa();if(e){do{var f=h.g.pd(e);a+=f.x;c+=f.y;this.lk&&this.A.vc.nd.firstChild==e&&(f=this.A.vc.no(),a+=f.x,c+=f.y);e=e.parentNode}while(e&&e!=this.A.jb&&e!=d)}return new h.g.L(a,c)};b.moveBy=function(a,c){if(this.$d)throw Error("Block has parent.");var d=h.h.isEnabled();if(d)var e=new h.h.li(this);var f=this.Ca();this.translate(f.x+a,f.y+c);Ta(this,a,c);d&&(e.Mg(),h.h.ya(e));C(this.A)};
b.translate=function(a,c){this.qa().setAttribute("transform","translate("+a+","+c+")")};b.moveTo=function(a){var c=this.Ca();this.moveBy(a.x-c.x,a.y-c.y)};b.Wo=function(a){this.lk?this.A.vc.Wg(a.x,a.y):(this.ca.gk="translate("+a.x+","+a.y+")",this.ca.setAttribute("transform",this.ca.gk+this.ca.$j))};
function ac(a){if(a.A&&!a.A.Bc()&&!a.getParent()&&!a.Xd){var c=a.A.Tc;if(c&&c.Lz){var d=c.Dp,e=d/2,f=a.Ca();c=Math.round((f.x-e)/d)*d+e-f.x;d=Math.round((f.y-e)/d)*d+e-f.y;c=Math.round(c);d=Math.round(d);0==c&&0==d||a.moveBy(c,d)}}}function bc(a){var c=a.Ca(),d=K(a);if(a.D){a=c.x-d.width;var e=c.x}else a=c.x,e=c.x+d.width;return new h.g.Rect(c.y,c.y+d.height,a,e)}b.Hj=function(){for(var a=0,c;c=this.J[a];a++)c.Hj()};
b.Jf=function(a){if(this.Qd!=a){for(var c=[],d=0,e;e=this.J[d];d++)c.push.apply(c,e.xd(!a));if(a){e=M(this);for(d=0;d<e.length;d++)e[d].xd(!1);d=this.toString(h.Gu);Q(Cb(this,"_TEMP_COLLAPSED_INPUT"),d).Oa();e=p(this,!0);if(d=t(this))d=e.indexOf(d),e.splice(d,e.length-d);d=1;for(var f;f=e[d];d++)if(f.Hc){this.Vj(h.G.COLLAPSED_WARNINGS_WARNING,h.ia.aq);break}}else this.pp("_TEMP_COLLAPSED_INPUT"),this.Hc&&(tb(),Object.keys(this.Hc.fE).length||this.Vj(null));h.ia.v.Jf.call(this,a);c.length||(c[0]=this);
if(this.Z)for(d=0;f=c[d];d++)f.pa()}};b.Mj=function(a){var c=this.A&&gb(this.A,a);if(c){if(c.Kh)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");c.fi||c.Fc||(c.fi=this,this.Xd&&this!=this.bc()?pb(c,this.bc()):pb(c,this));c.vd=a}};b.showHelp=function(){var a="function"==typeof this.ug?this.ug():this.ug;a&&window.open(a)};
function cc(a){if(a.A.options.readOnly||!a.contextMenu)return null;var c=[];if(!a.Xd){a.Ac()&&a.lc()&&c.push(h.ja.Aw(a));a.A.options.Tw&&!a.Qd&&a.Cc()&&c.push(h.ja.yw(a));if(a.lc())if(a.Qd)a.A.options.collapse&&(d={enabled:!0},d.text=h.G.EXPAND_BLOCK,d.wb=function(){a.Jf(!1)},c.push(d));else{for(var d=1;d<a.J.length;d++)if(a.J[d-1].type!=h.ta&&a.J[d].type!=h.ta){d={enabled:!0};var e=Ja(a);d.text=e?h.G.EXTERNAL_INPUTS:h.G.INLINE_INPUTS;d.wb=function(){a.Qg(!e)};c.push(d);break}a.A.options.collapse&&
(d={enabled:!0},d.text=h.G.COLLAPSE_BLOCK,d.wb=function(){a.Jf(!0)},c.push(d))}a.A.options.disable&&a.Cc()&&(d={text:a.isEnabled()?h.G.DISABLE_BLOCK:h.G.ENABLE_BLOCK,enabled:!Bb(a),wb:function(){var f=h.h.rb();f||h.h.ba(!0);a.Te(!a.isEnabled());f||h.h.ba(!1)}},c.push(d));a.Ac()&&c.push(h.ja.zw(a))}c.push(h.ja.Bw(a));a.kx&&a.kx(c);return c}b.Wj=function(a){var c=cc(this);c&&c.length&&(h.ja.show(a,c,this.D),h.ja.$k=this)};
function Ta(a,c,d){if(a.Z){for(var e=a.od(!1),f=0;f<e.length;f++)e[f].moveBy(c,d);e=M(a);for(f=0;f<e.length;f++)e[f].Yw();for(f=0;f<a.xe.length;f++)Ta(a.xe[f],c,d)}}b.Kf=function(a){if(a){var c=this.qa();c.gk="";c.$j="";h.cj=h.cj.concat(this.od(!0));h.g.m.pb(this.ca,"blocklyDragging")}else h.cj=[],h.g.m.Ec(this.ca,"blocklyDragging");for(c=0;c<this.xe.length;c++)this.xe[c].Kf(a)};b.xp=function(a){h.ia.v.xp.call(this,a);L(this.eb,"blocklyDraggable",a)};
b.wp=function(a){h.ia.v.wp.call(this,a);a=M(this);for(var c=0;c<a.length;c++)qb(a[c])};b.Ap=function(a){h.ia.v.Ap.call(this,a);this.$b()};b.Ut=function(a){this.yj!=a&&(this.yj=a)&&(this.Se(h.lv),L(this.eb,"blocklyInsertionMarker",!0))};b.qa=function(){return this.ca};
b.F=function(a,c){if(this.A){h.B.Da();h.g.m.ak();var d=this.A;if(h.selected==this){kb(this);var e=this.A;e.yb&&e.yb.cancel()}h.ja.$k==this&&h.ja.Da();this.A.Pe&&h.navigation.ot(this);c&&this.Z&&(A(this,a),h.Ga.ux(this));this.Z=!1;if(this.tc){for(var f in this.tc)clearTimeout(this.tc[f]);this.tc=null}c=M(this);for(e=0;e<c.length;e++)c[e].F();h.ia.v.F.call(this,!!a);h.g.m.removeNode(this.ca);C(d);this.ca=null;h.g.m.bk()}};
b.$b=function(){if(this.isEnabled()){this.eb.$b(this.Ia);for(var a=M(this),c=0;c<a.length;c++)a[c].$b();for(a=0;c=this.J[a];a++)for(var d=0,e;e=c.xa[d];d++)e.$b()}};b.$e=function(){var a=!this.isEnabled()||Bb(this);this.eb.$e(a,this.Ia);a=D(this,!1);for(var c=0,d;d=a[c];c++)d.$e()};b.Sx=function(){return this.Rd};
b.ai=function(a){if(!h.Comment)throw Error("Missing require for Blockly.Comment");this.ye.text!=a&&(h.ia.v.ai.call(this,a),a=null!=a,!!this.Rd==a?this.Rd.iE():(a?this.Rd=new h.Comment(this):(this.Rd.F(),this.Rd=null),this.Z&&(this.pa(),this.gc())))};
b.Vj=function(a,c){if(!h.fw)throw Error("Missing require for Blockly.Warning");this.tc||(this.tc=Object.create(null));var d=c||"";if(d)this.tc[d]&&(clearTimeout(this.tc[d]),delete this.tc[d]);else for(var e in this.tc)clearTimeout(this.tc[e]),delete this.tc[e];if(this.A.Bc()){var f=this;this.tc[d]=setTimeout(function(){f.A&&(delete f.tc[d],f.Vj(a,d))},100)}else{this.Xd&&(a=null);c=zb(this);for(e=null;c;)c.isCollapsed()&&(e=c),c=zb(c);e&&e.Vj(h.G.COLLAPSED_WARNINGS_WARNING,h.ia.aq);c=!1;"string"==
typeof a?(this.Hc||(this.Hc=new h.fw(this),c=!0),tb()):this.Hc&&!d?(this.Hc.F(),c=!0):this.Hc&&(c=Ia(this.Hc),tb(),(e=Ia(this.Hc))||this.Hc.F(),c=c!=e);c&&this.Z&&(this.pa(),this.gc())}};b.Vt=function(a){this.Bf&&this.Bf!==a&&this.Bf.F();a&&(a.VD(this),this.Bf=a,a.ex())};b.Te=function(a){this.isEnabled()!=a&&(h.ia.v.Te.call(this,a),this.Z&&this.$e())};b.Ue=function(a){this.Z&&this.eb.eu(a)};function Ra(a,c){L(a.eb,"blocklyDraggingDelete",c)}
b.Se=function(a){h.ia.v.Se.call(this,a);a=this.A.qf();var c=this.un,d="auto_"+c;a.uh[d]||(a.uh[d]=h.ed.Wi(c));a=a.uh[d];this.eb.ei(a);this.style=a;this.$b()};b.ei=function(a){var c=this.A.qf().uh[a||""]||h.ed.Wi("#000000");if(c)this.qd=c.qd,this.eb.ei(c),this.un=c.kd,this.style=c,this.$b();else throw Error("Invalid style name: "+a);};function Ua(a){do{var c=a.qa(),d=c.parentNode,e=d.childNodes;e[e.length-1]!==c&&d.appendChild(c);a=a.getParent()}while(a)}
b.am=function(a,c){h.ia.v.am.call(this,a,c);this.Z&&(this.pa(),this.gc())};b.Zl=function(a,c){h.ia.v.Zl.call(this,a,c);this.Z&&(this.pa(),this.gc())};b.$l=function(a,c){h.ia.v.$l.call(this,a,c);this.Z&&(this.pa(),this.gc())};b.Qg=function(a){h.ia.v.Qg.call(this,a);this.Z&&(this.pa(),this.gc())};b.pp=function(a,c){h.ia.v.pp.call(this,a,c);this.Z&&(this.pa(),this.gc())};b.eg=function(a,c){a=h.ia.v.eg.call(this,a,c);this.Z&&(this.pa(),this.gc());return a};
function na(a,c){a.O&&R(a.O,c);a.K&&R(a.K,c);if(a.V){R(a.V,c);var d=a.V.ea();d&&na(d,c)}if(!a.Qd)for(d=0;d<a.J.length;d++){var e=a.J[d].connection;e&&(R(e,c),(e=e.ea())&&na(e,c))}}b.od=function(a){var c=[];if(a||this.Z)if(this.K&&c.push(this.K),this.O&&c.push(this.O),this.V&&c.push(this.V),a||!this.Qd){a=0;for(var d;d=this.J[a];a++)d.connection&&c.push(d.connection)}return c};b.Go=function(){return h.ia.v.Go.call(this)};b.ko=function(a,c){return h.ia.v.ko.call(this,a,c)};
b.Gj=function(a){return new h.bb(this,a)};b.gc=function(){if(this.A&&!this.A.Bc()){var a=this.bc();if(!a.Xd)for(var c=this.od(!1),d=0,e;e=c[d];d++){e.isConnected()&&H(e)&&e.ea().gc();for(var f=e.pt(h.Qb),g=0,k;k=f[g];g++)e.isConnected()&&k.isConnected()||k.M().bc()!=a&&(H(e)?Wa(k,e):Wa(e,k))}}};function Va(a){var c=h.h.rb();setTimeout(function(){h.h.ba(c);ac(a);h.h.ba(!1)},h.rm/2);setTimeout(function(){h.h.ba(c);a.gc();h.h.ba(!1)},h.rm)}
function Oa(a,c,d){c.type!=h.ta&&c.type!=h.Fa||a.moveBy(d.x-c.x,d.y-c.y)}b.getParent=function(){return h.ia.v.getParent.call(this)};b.bc=function(){return h.ia.v.bc.call(this)};
b.pa=function(a){h.g.m.ak();this.Z=!0;this.A.Kb.pa(this);var c=this.Ca();this.O&&Tb(this.O,c);this.K&&Tb(this.K,c);for(var d=0;d<this.J.length;d++){var e=this.J[d].connection;e&&(Tb(e,c),e.isConnected()&&Ub(e))}this.V&&(Tb(this.V,c),this.V.isConnected()&&Ub(this.V));!1!==a&&((a=this.getParent())?a.pa(!0):C(this.A));h.g.m.bk();a=this.A.Ha;this.eb.zb&&a.draw()};b.Pg=function(a){this.eb.Pg(a)};b.bi=function(a){this.eb.bi(a)};
function K(a){var c=a.height,d=a.width,e=t(a);e&&(e=K(e),c+=e.height-a.A.Kb.j.Kq,d=Math.max(d,e.width));return{height:c,width:d}};h.i.Zh={};h.i.kk=!1;h.i.register=function(a,c){if(h.i.Zh[a])throw Error("Renderer has already been registered.");h.i.Zh[a]=c};h.i.unregister=function(a){h.i.Zh[a]?delete h.i.Zh[a]:console.warn('No renderer mapping for name "'+a+'" found to unregister')};h.i.aE=function(){h.i.kk=!0};h.i.bE=function(){h.i.kk=!1};h.i.Oa=function(a){function c(d){c.v.constructor.call(this,d)}if(!h.i.Zh[a])throw Error("Renderer not registered: ",a);h.g.object.P(c,h.i.Zh[a]);a=new c(a);a.Oa();return a};h.fh=function(){this.cb=[]};function dc(a,c,d){if(!a.cb.length)return-1;var e=Sb(a,d);if(e>=a.cb.length)return-1;d=c.y;for(var f=e;0<=f&&a.cb[f].y==d;){if(a.cb[f]==c)return f;f--}for(;e<a.cb.length&&a.cb[e].y==d;){if(a.cb[e]==c)return e;e++}return-1}function Sb(a,c){if(!a.cb.length)return 0;for(var d=0,e=a.cb.length;d<e;){var f=Math.floor((d+e)/2);if(a.cb[f].y<c)d=f+1;else if(a.cb[f].y>c)e=f;else{d=f;break}}return d}
function Pb(a,c,d){c=dc(a,c,d);if(-1==c)throw Error("Unable to find connection in connectionDB.");a.cb.splice(c,1)}function Vb(a,c,d){function e(n){var r=g-f[n].x,q=k-f[n].y;Math.sqrt(r*r+q*q)<=d&&m.push(f[n]);return q<d}var f=a.cb,g=c.x,k=c.y;a=0;for(var l=c=f.length-2;a<l;)f[l].y<k?a=l:c=l,l=Math.floor((a+c)/2);var m=[];c=a=l;if(f.length){for(;0<=a&&e(a);)a--;do c++;while(c<f.length&&e(c))}return m}h.fh.Oa=function(){var a=[];a[h.Fa]=new h.fh;a[h.cd]=new h.fh;a[h.ta]=new h.fh;a[h.dd]=new h.fh;return a};h.Gi=function(a,c){this.C=a;this.em=c;this.dm=[];this.lf=Object.create(null)};h.Gi.prototype.qf=function(){return this.em};h.Gi.prototype.subscribe=function(a,c,d){this.lf[c]||(this.lf[c]=[]);this.lf[c].push({element:a,propertyName:d});a.style[d]=this.em&&ia(this.em,c)||""};h.Gi.prototype.unsubscribe=function(a){if(a)for(var c=Object.keys(this.lf),d=0,e;e=c[d];d++){for(var f=this.lf[e],g=f.length-1;0<=g;g--)f[g].element===a&&f.splice(g,1);this.lf[e].length||delete this.lf[e]}};
h.Gi.prototype.F=function(){this.lf=this.dm=this.em=this.nc=null};h.fc=function(a,c){h.fc.v.constructor.call(this,a,c);this.Al=!1;this.wc=Object.create(null);this.Yt=this.Qj=0;this.Ys=this.fp=null};h.g.object.P(h.fc,h.ih);h.fc.lw=5;h.fc.mw=6;b=h.fc.prototype;b.On=function(a){this.Ys=this.mb.options.Aa&&this.mb.options.Aa.jp;h.fc.v.On.call(this,a);!this.zl&&h.Touch.El(a)&&ec(this,a)};
b.Li=function(a){this.fp=h.va(document,"mousedown",null,this.qy.bind(this),!0);this.Ol=h.va(document,"mousemove",null,this.Ih.bind(this),!0);this.Pl=h.va(document,"mouseup",null,this.sl.bind(this),!0);a.preventDefault();a.stopPropagation()};b.qy=function(a){!this.Bc()&&h.Touch.El(a)&&(ec(this,a),this.Al&&h.Af())};
b.Ih=function(a){if(this.Bc())h.Touch.Cp(a)&&h.fc.v.Ih.call(this,a);else if(this.Al){if(h.Touch.El(a)){this.wc[h.Touch.pl(a)]=fc(this,a);var c=Object.keys(this.wc);if(this.Ys&&2===c.length){c=Object.keys(this.wc);c=h.g.L.cs(this.wc[c[0]],this.wc[c[1]])/this.Yt;if(0<this.Qj&&Infinity>this.Qj){var d=c-this.Qj;d=0<d?d*h.fc.lw:d*h.fc.mw;var e=this.mb,f=h.g.Lj(a,x(e),Aa(e));e.zoom(f.x,f.y,d)}this.Qj=c;a.preventDefault()}else h.fc.v.Ih.call(this,a)}h.Af()}else h.fc.v.Ih.call(this,a)};
b.sl=function(a){if(h.Touch.El(a)&&!this.Bc()){var c=h.Touch.pl(a);this.wc[c]&&delete this.wc[c];2>Object.keys(this.wc).length&&(this.wc=Object.create(null),this.Qj=0)}!this.Al||this.Bc()?h.Touch.Cp(a)&&h.fc.v.sl.call(this,a):(a.preventDefault(),a.stopPropagation(),this.F())};b.F=function(){h.fc.v.F.call(this);this.fp&&h.ab(this.fp)};function ec(a,c){a.wc[h.Touch.pl(c)]=fc(a,c);var d=Object.keys(a.wc);2==d.length&&(a.Yt=h.g.L.cs(a.wc[d[0]],a.wc[d[1]]),a.Al=!0,c.preventDefault())}
function fc(a,c){return a.mb?new h.g.L(c.pageX?c.pageX:c.changedTouches[0].pageX,c.pageY?c.pageY:c.changedTouches[0].pageY):null};h.qr=function(a){this.hp=a;this.Ci=Object.create(null)};b=h.qr.prototype;b.Io=null;b.F=function(){this.Ci=this.hp=null};b.load=function(a,c){if(a.length){try{var d=new h.g.global.Audio}catch(l){return}for(var e,f=0;f<a.length;f++){var g=a[f],k=g.match(/\.(\w+)$/);if(k&&d.canPlayType("audio/"+k[1])){e=new h.g.global.Audio(g);break}}e&&e.play&&(this.Ci[c]=e)}};
b.preload=function(){for(var a in this.Ci){var c=this.Ci[a];c.volume=.01;var d=c.play();void 0!==d?d.then(c.pause).catch(function(){}):c.pause();if(h.g.userAgent.wi||h.g.userAgent.Bq)break}};b.play=function(a,c){var d=this.Ci[a];d?(a=new Date,null!=this.Io&&a-this.Io<h.Qv||(this.Io=a,d=h.g.userAgent.wi||h.g.userAgent.nk?d:d.cloneNode(),d.volume=void 0===c?1:c,d.play())):this.hp&&this.hp.Nd.play(a,c)};
h.Ba=function(a,c,d){h.Ba.v.constructor.call(this,a);this.Ud=a.Ud||h.Ba.iy;this.Yl=a.Yl||h.Ba.Gz;this.Zk=h.fh.Oa();c&&(this.vc=c);d&&(this.$g=d);this.hm=!!this.$g&&h.g.zg();this.oj=[];this.Nd=new h.qr(a.Dc);this.Tc=this.options.Es?new h.Vf(a.Es,a.Ds):null;this.zb=null;h.fa&&h.fa.pg&&gc(this,h.gr,h.fa.pg);h.lr&&h.lr.pg&&gc(this,h.cw,h.lr.pg);h.gb&&h.gb.pg&&gc(this,h.Qq,h.gb.pg);this.Gc=this.options.Dc?this.options.Dc.Gc:new h.Gi(this,this.options.Tz||h.ff.Sf);this.Kb=h.i.Oa(this.options.Vl||"geras");
this.on=null;this.Gc.dm.push(this)};h.g.object.P(h.Ba,h.Za);b=h.Ba.prototype;b.Wl=null;b.Z=!0;b.Cj=!0;b.vf=!1;b.Bl=!1;b.rp=!0;b.scrollX=0;b.scrollY=0;b.ds=null;b.scale=1;b.Lb=null;b.ib=null;b.aa=null;b.ma=null;b.yb=null;b.vc=null;b.$g=null;b.hm=!1;b.xl=!1;b.Ao=null;b.ct=null;b.hs={};b.bu={};b.Ip=null;b.Vs=null;b.Bo=!0;b.qf=function(){return this.Gc.qf()};b.Tt=function(a){this.Ha.Ab&&this.Ha.Ab.F();this.Ha=a;this.Ha.Ab=new h.i.Cd(this,this.Kb.j,!1);this.Pg(this.Ha.Ab.La())};
b.Pg=function(a){a?this.jb&&(this.jb.appendChild(a),this.zb=a):this.zb=null};b.bi=function(a){a&&this.jb&&(this.zb?this.jb.insertBefore(a,this.zb):this.jb.appendChild(a))};function Aa(a){if(a.Bo){var c=x(a).getScreenCTM();c&&(a.Vs=c.inverse(),a.Bo=!1)}return a.Vs}b.jk=function(){this.Bo=!0};b.isVisible=function(){return this.Cj};
function Ka(a,c){var d=0,e=0,f=1;if(h.g.m.containsNode(a.jb,c)||h.g.m.containsNode(a.We,c))f=a.scale;do{var g=h.g.pd(c);if(c==a.jb||c==a.We)f=1;d+=g.x*f;e+=g.y*f;c=c.parentNode}while(c&&c!=x(a));return new h.g.L(d,e)}function aa(a){if(!a.Ao)for(var c=a.ca;c;){if(-1!=(" "+(c.getAttribute("class")||"")+" ").indexOf(" injectionDiv ")){a.Ao=c;break}c=c.parentNode}return a.Ao}
b.La=function(a){this.ca=h.g.m.N("g",{"class":"blocklyWorkspace"},null);a&&(this.Ve=h.g.m.N("rect",{height:"100%",width:"100%","class":a},this.ca),"blocklyMainBackground"==a&&this.Tc?this.Ve.style.fill="url(#"+this.Tc.Hh.id+")":this.Gc.subscribe(this.Ve,"workspace","fill"));this.jb=h.g.m.N("g",{"class":"blocklyBlockCanvas"},this.ca);this.We=h.g.m.N("g",{"class":"blocklyBubbleCanvas"},this.ca);this.vf||(h.va(this.ca,"mousedown",this,this.Mj,!1,!0),h.va(this.ca,"wheel",this,this.hz));if(this.options.Hs){if(!h.Zv)throw Error("Missing require for Blockly.Toolbox");
this.ma=new h.Zv(this)}this.Tc&&this.Tc.update(this.scale);hc(this);this.Ha.Ab=new h.i.Cd(this,this.Kb.j,!1);a=this.Ha.Ab.La();this.ca.appendChild(a);this.mc.Ab=new h.i.Cd(this,this.Kb.j,!0);a=this.mc.Ab.La();this.ca.appendChild(a);this.Kb.j.La(this.ca);return this.ca};
b.F=function(){this.Z=!1;this.yb&&this.yb.cancel();this.ca&&(h.g.m.removeNode(this.ca),this.ca=null);this.We=this.jb=null;this.ma&&(this.ma.F(),this.ma=null);this.aa&&(this.aa.F(),this.aa=null);this.Lb&&(this.Lb.F(),this.Lb=null);this.ib&&(this.ib.F(),this.ib=null);this.bh&&(this.bh.F(),this.bh=null);this.mc&&this.mc.Ab&&this.mc.Ab.F();this.Ha&&this.Ha.Ab&&this.Ha.Ab.F();this.Nd&&(this.Nd.F(),this.Nd=null);this.Tc&&(this.Tc.F(),this.Tc=null);this.Kb.j.F();if(this.Gc){var a=this.Gc,c=a.dm.indexOf(this);
if(0>c)throw Error("Cannot unsubscribe a workspace that hasn't been subscribed.");a.dm.splice(c,1);this.Gc.unsubscribe(this.Ve);this.options.Dc||(this.Gc.F(),this.Gc=null)}h.Ba.v.F.call(this);this.hs=this.bu=this.Zk=null;this.options.Dc||(a=x(this).parentNode)&&h.g.m.removeNode(a);this.Wl&&(h.ab(this.Wl),this.Wl=null)};b.Vh=function(a,c){return new h.ia(this,a,c)};
function ic(a){if(!h.$v)throw Error("Missing require for Blockly.Trashcan");a.Lb=new h.$v(a);var c=a.Lb.La();a.ca.insertBefore(c,a.jb)}function jc(a){if(!h.nw)throw Error("Missing require for Blockly.ZoomControls");a.bh=new h.nw(a);var c=a.bh.La();a.ca.appendChild(c)}
function kc(a){var c={Dc:a,D:a.D,xt:a.options.xt,pj:a.pj,Db:a.options.Db,Vl:a.options.Vl};if(a.pj){if(!h.hv)throw Error("Missing require for Blockly.HorizontalFlyout");a.aa=new h.hv(c)}else{if(!h.dw)throw Error("Missing require for Blockly.VerticalFlyout");a.aa=new h.dw(c)}a.aa.fn=!1;return a.aa.La("svg")}function N(a,c){return a.aa||c?a.aa:a.ma?N(a.ma):null}function C(a){a.rp&&a.Z&&(a.ib&&a.ib.resize(),a.jk())}
b.resize=function(){this.ma&&this.ma.position();this.aa&&this.aa.position();this.Lb&&this.Lb.position();this.bh&&this.bh.position();this.ib&&this.ib.resize();this.jk();hc(this)};function mb(a){var c=h.g.Yx();h.g.L.He(a.ct,c)||(a.ct=c,a.jk(),hc(a))}function x(a){if(!a.on)for(var c=a.ca;c;){if("svg"==c.tagName){a.on=c;break}c=c.parentNode}return a.on}
b.translate=function(a,c){if(this.hm&&this.xl)this.$g.Wg(a,c);else{var d="translate("+a+","+c+") scale("+this.scale+")";this.jb.setAttribute("transform",d);this.We.setAttribute("transform",d)}if(this.vc){d=this.vc;var e=this.scale;d.If=e;d.nd.setAttribute("transform","translate("+a.toFixed(0)+","+c.toFixed(0)+") scale("+e+")")}this.Tc&&this.Tc.moveTo(a,c)};
function Ca(a){if(a.hm){a.xl=!1;var c=a.$g.no();a.$g.Uk(a.ca);c="translate("+c.x+","+c.y+") scale("+a.scale+")";a.jb.setAttribute("transform",c);a.We.setAttribute("transform",c)}}
function Ba(a){if(a.hm&&!a.xl){a.xl=!0;var c=a.jb.previousSibling,d=parseInt(x(a).getAttribute("width"),10),e=parseInt(x(a).getAttribute("height"),10),f=h.g.pd(a.jb),g=a.$g,k=a.jb,l=a.We,m=a.scale;if(g.Qa.childNodes.length)throw Error("Already dragging a block.");g.np=c;k.setAttribute("transform","translate(0, 0) scale("+m+")");l.setAttribute("transform","translate(0, 0) scale("+m+")");g.Qa.setAttribute("width",d);g.Qa.setAttribute("height",e);g.Qa.appendChild(k);g.Qa.appendChild(l);g.Qa.style.display=
"block";a.$g.Wg(f.x,f.y)}}b.kj=function(){var a=this.Ud();return a?a.ub/this.scale:0};b.xd=function(a){this.ib&&this.ib.Uj(a);N(this)&&N(this).Uj(a);x(this).style.display=a?"block":"none";this.ma&&(this.ma.iB.style.display=a?"block":"none");if(a){for(var c=P(this,!1),d=c.length-1;0<=d;d--)c[d].Hj();this.pa();this.ma&&this.ma.position()}else h.dc(!0);this.Cj=a};b.pa=function(){for(var a=P(this,!1),c=a.length-1;0<=c;c--)a[c].pa(!1);if(this.yb)for(a=this.yb.Fh(),c=0;c<a.length;c++)a[c].pa(!1)};
function lc(a){var c=h.Pi;if(a.Z&&!(c.getElementsByTagName("block").length>=(isNaN(a.options.Ij)?Infinity:a.options.Ij-P(a,!1).length)))if(a.yb&&a.yb.cancel(),"comment"==c.tagName.toLowerCase()){h.h.disable();try{h.sh.setValue(c.textContent);var d=void 0;var e=parseInt(c.getAttribute("x"),10),f=parseInt(c.getAttribute("y"),10);isNaN(e)||isNaN(f)||(a.D&&(e=-e),d.moveBy(e+50,f+50))}finally{h.h.enable()}d.select()}else a:{h.h.disable();try{var g=h.I.gl(c,a),k=a.mc.Ma;if(a.Pe&&k&&k.Nh){h.navigation.Us(g,
k.Y);break a}var l=parseInt(c.getAttribute("x"),10),m=parseInt(c.getAttribute("y"),10);if(!isNaN(l)&&!isNaN(m)){a.D&&(l=-l);do{c=!1;var n=P(a,!1);d=0;for(var r;r=n[d];d++){var q=r.Ca();if(1>=Math.abs(l-q.x)&&1>=Math.abs(m-q.y)){c=!0;break}}if(!c){var u=g.od(!1);d=0;for(var v;v=u[d];d++)if(v.closest(h.Qb,new h.g.L(l,m)).connection){c=!0;break}}c&&(l=a.D?l-h.Qb:l+h.Qb,m+=2*h.Qb)}while(c);g.moveBy(l,m)}}finally{h.h.enable()}h.h.isEnabled()&&!g.Ia&&h.h.ya(new h.h.rk(g));g.select()}}
function mc(a){(a=a.vf?a.Ip:a)&&!a.yb&&a.ma&&N(a.ma)&&a.ma.JD()}b.Ng=function(a,c){h.Ba.v.Ng.call(this,a,c);mc(this)};b.Ch=function(a){h.Ba.v.Ch.call(this,a);mc(this)};b.md=function(a,c,d){a=h.Ba.v.md.call(this,a,c,d);mc(this);return a};function hc(a){a.Vr=a.Lb&&a.ca.parentNode?a.Lb.ns():null;a.Ur=a.aa?a.aa.ns():a.ma?a.ma.ns():null}function Qa(a,c){return a.Vr&&a.Vr.contains(c.clientX,c.clientY)?h.vm:a.Ur&&a.Ur.contains(c.clientX,c.clientY)?h.kq:h.jq}
b.Mj=function(a){var c=gb(this,a);if(c){if(c.Kh)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");c.mb||(c.mb=this);c.vd=a;c.On(a);c.mb.Pe&&h.navigation.Rg(h.navigation.Kk)}};b.Fp=function(a,c){a=h.g.Lj(a,x(this),Aa(this));a.x/=this.scale;a.y/=this.scale;this.ds=h.g.L.bl(c,a)};b.Bc=function(){return null!=this.yb&&this.yb.Bc()};
function nc(a){return a.options.sb&&a.options.sb.scrollbars||a.options.sb&&a.options.sb.Of||a.options.sb&&a.options.sb.Fe||a.options.Aa&&a.options.Aa.controls||a.options.Aa&&a.options.Aa.Of||a.options.Aa&&a.options.Aa.jp}b.lc=function(){return this.options.sb&&this.options.sb.scrollbars||this.options.sb&&this.options.sb.Of||this.options.sb&&this.options.sb.Fe||this.options.Aa&&this.options.Aa.Of||this.options.Aa&&this.options.Aa.jp};
b.hz=function(a){if(h.ih.wo())a.preventDefault(),a.stopPropagation();else{var c=this.options.Aa&&this.options.Aa.Of,d=this.options.sb&&this.options.sb.Of;if(c||d){var e=h.g.hy(a);!c||!a.ctrlKey&&d?(c=this.scrollX-e.x,d=this.scrollY-e.y,a.shiftKey&&!e.x&&(c=this.scrollX-e.y,d=this.scrollY),this.scroll(c,d)):(e=-e.y/50,c=h.g.Lj(a,x(this),Aa(this)),this.zoom(c.x,c.y,e));a.preventDefault()}}};
function ma(a){var c=a.cc(!1);a=la(a,!1);c=c.concat(a);if(!c.length)return new h.g.Rect(0,0,0,0);a=bc(c[0]);for(var d=1;d<c.length;d++){var e=bc(c[d]);e.top<a.top&&(a.top=e.top);e.bottom>a.bottom&&(a.bottom=e.bottom);e.left<a.left&&(a.left=e.left);e.right>a.right&&(a.right=e.right)}return a}b.Pw=function(){this.rc(!1);h.h.ba(!0);for(var a=this.cc(!0),c=0,d=0,e;e=a[d];d++)if(e.lc()){var f=e.Ca();e.moveBy(-f.x,c-f.y);ac(e);c=e.Ca().y+K(e).height+h.ia.Iq}h.h.ba(!1);this.rc(!0)};
b.Wj=function(a){function c(v){if(v.Ac())u=u.concat(p(v,!1));else{v=D(v,!1);for(var I=0;I<v.length;I++)c(v[I])}}function d(){h.h.ba(g);var v=u.shift();v&&(v.A?(v.F(!1,!0),setTimeout(d,10)):d());h.h.ba(!1)}if(!this.options.readOnly&&!this.vf){var e=[],f=this.cc(!0),g=h.g.Ie(),k=this,l={};l.text=h.G.UNDO;l.enabled=0<this.Xg.length;l.wb=this.Np.bind(this,!1);e.push(l);l={};l.text=h.G.REDO;l.enabled=0<this.Sj.length;l.wb=this.Np.bind(this,!0);e.push(l);this.lc()&&(l={},l.text=h.G.CLEAN_UP,l.enabled=1<
f.length,l.wb=this.Pw.bind(this),e.push(l));if(this.options.collapse){for(var m=l=!1,n=0;n<f.length;n++)for(var r=f[n];r;)r.isCollapsed()?l=!0:m=!0,r=t(r);var q=function(v){for(var I=0,J=0;J<f.length;J++)for(var T=f[J];T;)setTimeout(T.Jf.bind(T,v),I),T=t(T),I+=10};m={enabled:m};m.text=h.G.COLLAPSE_ALL;m.wb=function(){q(!0)};e.push(m);l={enabled:l};l.text=h.G.EXPAND_ALL;l.wb=function(){q(!1)};e.push(l)}var u=[];for(n=0;n<f.length;n++)c(f[n]);l={text:1==u.length?h.G.DELETE_BLOCK:h.G.DELETE_X_BLOCKS.replace("%1",
String(u.length)),enabled:0<u.length,wb:function(){k.yb&&k.yb.cancel();2>u.length?d():h.confirm(h.G.DELETE_ALL_BLOCKS.replace("%1",u.length),function(v){v&&d()})}};e.push(l);this.Zw&&this.Zw(e);h.ja.show(a,e,this.D)}};function y(a){if(a.options.Dc)y(a.options.Dc);else{h.Fj=a;document.activeElement&&document.activeElement.blur();try{x(a).focus({preventScroll:!0})}catch(c){try{x(a).parentNode.setActive()}catch(d){x(a).parentNode.focus({preventScroll:!0})}}}}
b.zoom=function(a,c,d){d=Math.pow(this.options.Aa.zz,d);var e=this.scale*d;if(this.scale!=e){e>this.options.Aa.Jj?d=this.options.Aa.Jj/this.scale:e<this.options.Aa.Kj&&(d=this.options.Aa.Kj/this.scale);var f=this.jb.getCTM(),g=x(this).createSVGPoint();g.x=a;g.y=c;g=g.matrixTransform(f.inverse());a=g.x;c=g.y;f=f.translate(a*(1-d),c*(1-d)).scale(d);this.scrollX=f.e;this.scrollY=f.f;this.setScale(e)}};
b.setScale=function(a){this.options.Aa.Jj&&a>this.options.Aa.Jj?a=this.options.Aa.Jj:this.options.Aa.Kj&&a<this.options.Aa.Kj&&(a=this.options.Aa.Kj);this.scale=a;h.dc(!1);this.aa&&(this.aa.ID(),hc(this));this.Tc&&this.Tc.update(this.scale);a=this.Ud();this.scrollX-=a.Oc;this.scrollY-=a.Pc;a.ob+=a.Oc;a.Eb+=a.Pc;this.scroll(this.scrollX,this.scrollY);this.ib&&(this.aa?(ta(this.ib.Uc,a),ua(this.ib.ad,a)):(wa(this.ib.Uc,a),ya(this.ib.ad,a)))};
b.scroll=function(a,c){h.dc(!0);var d=this.Ud(),e=d.Be+d.hc-d.ub,f=d.Ae+d.ic-d.Mb;a=Math.min(a,-d.hc);c=Math.min(c,-d.ic);a=Math.max(a,-e);c=Math.max(c,-f);this.scrollX=a;this.scrollY=c;this.ib&&(E(this.ib.Uc,-(a+d.hc)*this.ib.Uc.Bb),E(this.ib.ad,-(c+d.ic)*this.ib.ad.Bb));a+=d.Oc;c+=d.Pc;this.translate(a,c)};h.Ba.qs=function(a){var c=0,d=0;a&&(c=a.kj(),d=a.kD());return{width:c,height:d}};h.Ba.Vx=function(a,c){return nc(a)?h.Ba.Ux(a,c):h.Ba.os(a)};
h.Ba.os=function(a){var c=ma(a),d=a.scale;a=c.top*d;var e=c.bottom*d,f=c.left*d;c=c.right*d;return{top:a,bottom:e,left:f,right:c,width:c-f,height:e-a}};h.Ba.Ux=function(a,c){a=h.Ba.os(a);var d=c.width;c=c.height;var e=d/2,f=c/2,g=Math.min(a.left-e,a.right-d),k=Math.min(a.top-f,a.bottom-c);return{left:g,top:k,height:Math.max(a.bottom+f,a.top+c)-k,width:Math.max(a.right+e,a.left+d)-g}};
h.Ba.iy=function(){var a=h.Ba.qs(this.ma),c=h.Ba.qs(this.aa),d=h.au(x(this)),e={height:d.height,width:d.width};if(this.ma)if(this.Db==h.Fi||this.Db==h.Xm)e.height-=a.height;else{if(this.Db==h.Ei||this.Db==h.Ym)e.width-=a.width}else if(this.aa)if(this.Db==h.Fi||this.Db==h.Xm)e.height-=c.height;else if(this.Db==h.Ei||this.Db==h.Ym)e.width-=c.width;var f=h.Ba.Vx(this,e),g=0;this.ma&&this.Db==h.Ei?g=a.width:this.aa&&this.Db==h.Ei&&(g=c.width);var k=0;this.ma&&this.Db==h.Fi?k=a.height:this.aa&&this.Db==
h.Fi&&(k=c.height);return{Ae:f.height,Be:f.width,ic:f.top,hc:f.left,Mb:e.height,ub:e.width,Eb:-this.scrollY,ob:-this.scrollX,Pc:k,Oc:g,cE:d.height,dE:d.width,hE:a.width,gE:a.height,gD:c.width,fD:c.height,Db:this.Db}};h.Ba.Gz=function(a){var c=this.Ud();"number"==typeof a.x&&(this.scrollX=-c.Be*a.x-c.hc);"number"==typeof a.y&&(this.scrollY=-c.Ae*a.y-c.ic);this.translate(this.scrollX+c.Oc,this.scrollY+c.Pc)};h.Ba.prototype.jc=function(a){return h.Ba.v.jc.call(this,a)};
h.Ba.prototype.cc=function(a){return h.Ba.v.cc.call(this,a)};h.Ba.prototype.rc=function(a){var c=!this.rp&&a;this.rp=a;c&&C(this)};h.Ba.prototype.clear=function(){this.rc(!1);h.Ba.v.clear.call(this);this.rc(!0)};function oc(a,c){if("function"!=typeof c)throw TypeError("Button callbacks must be functions.");a.hs.CREATE_VARIABLE=c}function gc(a,c,d){if("function"!=typeof d)throw TypeError("Toolbox category callbacks must be functions.");a.bu[c]=d}
function gb(a,c){var d="mousedown"==c.type||"touchstart"==c.type||"pointerdown"==c.type,e=a.yb;return e?d&&e.Kh?(console.warn("Tried to start the same gesture twice."),e.cancel(),null):e:d?(a.yb=new h.fc(c,a),a.yb):null};h.tf=function(a,c){h.Kw();"string"==typeof a&&(a=document.getElementById(a)||document.querySelector(a));if(!a||!h.g.m.containsNode(document,a))throw Error("Error: container is not in current document.");c=new h.Nc(c||{});var d=document.createElement("div");d.className="injectionDiv";d.tabIndex=0;h.g.Sa.Rg(d,h.g.Sa.State.rv,h.G.WORKSPACE_ARIA_LABEL);a.appendChild(d);a=h.Xi(d,c);var e=new h.$p(d),f=new h.rr(d),g=h.gx(a,c,e,f);h.Pa.Ja.Fz(c.Ja);h.Ay(g);h.Fj=g;h.ek(g);d.addEventListener("focusin",function(){h.Fj=
g});return g};h.Xi=function(a,c){a.setAttribute("dir","LTR");h.Xb.Tr=c.D;h.Ic.tf(c.sy,c.Bt);a=h.g.m.N("svg",{xmlns:h.g.m.Lk,"xmlns:html":h.g.m.ym,"xmlns:xlink":h.g.m.dg,version:"1.1","class":"blocklySvg",tabindex:"0"},a);var d=h.g.m.N("defs",{},a);c.Es=h.Vf.La(String(Math.random()).substring(2),c.Ds,d);return a};
h.gx=function(a,c,d,e){c.Dc=null;var f=new h.Ba(c,d,e);f.scale=c.Aa.Pz;a.appendChild(f.La("blocklyMainBackground"));h.g.m.pb(aa(f),(f.options.Vl||"geras")+"-renderer");h.g.m.pb(aa(f),f.qf().name+"-theme");!c.Hs&&c.Fo&&(d=kc(f),h.g.m.tj(d,a));c.Ls&&ic(f);c.Aa&&c.Aa.controls&&jc(f);f.Gc.subscribe(a,"workspace","background-color");f.translate(0,0);c.readOnly||f.lc()||cb(f,function(g){if(!f.Bc()&&!f.lc()&&-1!=h.h.Cu.indexOf(g.type)){var k=Object.create(null),l=f.Ud(),m=f.scale;k.D=f.D;k.ob=l.ob/m;k.Eb=
l.Eb/m;k.iu=(l.ob+l.ub)/m;k.hu=(l.Eb+l.Mb)/m;nc(f)?(l=ma(f),k.hc=l.left,k.ic=l.top,k.Or=l.right,k.Lr=l.bottom):(k.hc=l.hc/m,k.ic=l.ic/m,k.Or=(l.hc+l.Be)/m,k.Lr=(l.ic+l.Ae)/m);if(k.ic<k.Eb||k.Lr>k.hu||k.hc<k.ob||k.Or>k.iu){l=null;g&&(l=h.h.rb(),h.h.ba(g.group));switch(g.type){case h.h.Xp:case h.h.Yp:var n=f.jc(g.Rb);n&&(n=n.bc());break;case h.h.uk:case h.h.vk:n=f.Xk[g.Sd]||null}if(n){m=bc(n);m.height=m.bottom-m.top;m.width=m.right-m.left;var r=k.Eb,q=k.hu-m.height;q=Math.max(r,q);r=h.g.Ub.Oi(r,m.top,
q)-m.top;q=k.ob;var u=k.iu-m.width;k.D?q=Math.min(u,q):u=Math.max(q,u);n.moveBy(h.g.Ub.Oi(q,m.left,u)-m.left,r)}g&&(!g.group&&n&&console.log("WARNING: Moved object in bounds but there was no event group. This may break undo."),null!==l&&h.h.ba(l))}}});h.ek(f);h.S.La();h.u.La();h.B.La();return f};
h.Ay=function(a){var c=a.options,d=x(a);h.va(d.parentNode,"contextmenu",null,function(f){h.g.Cl(f)||f.preventDefault()});d=h.va(window,"resize",null,function(){h.dc(!0);h.ek(a)});a.Wl=d;h.tf.xw();if(c.Fo){d=a.ma;var e=N(a,!0);d?d.Oa():e&&(e.Oa(a),e.show(c.Fo.childNodes),e.SD())}d=h.ua.qc;c.Ls&&(d=a.Lb.Oa(d));c.Aa&&c.Aa.controls&&a.bh.Oa(d);c.sb&&c.sb.scrollbars?(a.ib=new h.ph(a),a.ib.resize()):a.Yl({x:.5,y:.5});c.uy&&h.tf.My(c.Bt,a)};
h.tf.xw=function(){h.wx||(h.va(document,"scroll",null,function(){for(var a=h.Za.getAll(),c=0,d;d=a[c];c++)d.jk&&d.jk()}),h.va(document,"keydown",null,h.$y),h.gg(document,"touchend",h.Af),h.gg(document,"touchcancel",h.Af),h.g.userAgent.wi&&h.va(window,"orientationchange",document,function(){h.ek(h.la())}));h.wx=!0};
h.tf.My=function(a,c){function d(){for(;f.length;)h.ab(f.pop());e.preload()}var e=c.Nd;e.load([a+"click.mp3",a+"click.wav",a+"click.ogg"],"click");e.load([a+"disconnect.wav",a+"disconnect.mp3",a+"disconnect.ogg"],"disconnect");e.load([a+"delete.mp3",a+"delete.ogg",a+"delete.wav"],"delete");var f=[];f.push(h.va(document,"mousemove",null,d,!0));f.push(h.va(document,"touchstart",null,d,!0))};h.Zf=function(a){this.sz=Object.create(null);if(a){a=a.split(",");for(var c=0;c<a.length;c++)this.sz[a[c]]=!0}this.reset()};h.Zf.yA="DEVELOPER_VARIABLE";h.Zf.prototype.reset=function(){this.mg=Object.create(null);Object.create(null);this.Wa=null};h.Zf.He=function(a,c){return a.toLowerCase()==c.toLowerCase()};h.gb={};h.gb.Fv=h.Qq;h.gb.tw=function(a){a=P(a,!1);for(var c=[],d=[],e=0;e<a.length;e++)if(a[e].Gh){var f=a[e].Gh();f&&(f[2]?c.push(f):d.push(f))}d.sort(h.gb.Jt);c.sort(h.gb.Jt);return[d,c]};h.gb.Jt=function(a,c){return a[0].toLowerCase().localeCompare(c[0].toLowerCase())};h.gb.Ex=function(a,c){if(c.Xd)return a;for(a=a||h.G.UNNAMED_KEY||"unnamed";!h.gb.Fy(a,c.A,c);){var d=a.match(/^(.*?)(\d+)$/);a=d?d[1]+(parseInt(d[2],10)+1):a+"2"}return a};h.gb.Fy=function(a,c,d){return!h.gb.Hy(a,c,d)};
h.gb.Hy=function(a,c,d){c=P(c,!1);for(var e=0;e<c.length;e++)if(c[e]!=d&&c[e].Gh){var f=c[e].Gh();if(h.Zf.He(f[0],a))return!0}return!1};h.gb.MD=function(a){a=a.trim();var c=h.gb.Ex(a,this.M()),d=this.getValue();if(d!=a&&d!=c){a=P(this.M().A,!1);for(var e=0;e<a.length;e++)a[e].rz&&a[e].rz(d,c)}return c};
h.gb.pg=function(a){function c(g,k){for(var l=0;l<g.length;l++){var m=g[l][0],n=g[l][1],r=h.g.xml.createElement("block");r.setAttribute("type",k);r.setAttribute("gap",16);var q=h.g.xml.createElement("mutation");q.setAttribute("name",m);r.appendChild(q);for(m=0;m<n.length;m++){var u=h.g.xml.createElement("arg");u.setAttribute("name",n[m]);q.appendChild(u)}d.push(r)}}var d=[];if(h.Nb.procedures_defnoreturn){var e=h.g.xml.createElement("block");e.setAttribute("type","procedures_defnoreturn");e.setAttribute("gap",
16);var f=h.g.xml.createElement("field");f.setAttribute("name","NAME");f.appendChild(h.g.xml.createTextNode(h.G.PROCEDURES_DEFNORETURN_PROCEDURE));e.appendChild(f);d.push(e)}h.Nb.procedures_defreturn&&(e=h.g.xml.createElement("block"),e.setAttribute("type","procedures_defreturn"),e.setAttribute("gap",16),f=h.g.xml.createElement("field"),f.setAttribute("name","NAME"),f.appendChild(h.g.xml.createTextNode(h.G.PROCEDURES_DEFRETURN_PROCEDURE)),e.appendChild(f),d.push(e));h.Nb.procedures_ifreturn&&(e=h.g.xml.createElement("block"),
e.setAttribute("type","procedures_ifreturn"),e.setAttribute("gap",16),d.push(e));d.length&&d[d.length-1].setAttribute("gap",24);a=h.gb.tw(a);c(a[0],"procedures_callnoreturn");c(a[1],"procedures_callreturn");return d};h.gb.Qx=function(a,c){var d=[];c=P(c,!1);for(var e=0;e<c.length;e++)if(c[e].gy){var f=c[e].gy();f&&h.Zf.He(f,a)&&d.push(c[e])}return d};
h.gb.GD=function(a){var c=h.h.Jb,d=a.Gh()[0],e=a.Vb(!0);a=h.gb.Qx(d,a.A);d=0;for(var f;f=a[d];d++){var g=f.Vb();g=g&&h.I.De(g);f.xc(e);var k=f.Vb();k=k&&h.I.De(k);g!=k&&(h.h.Jb=!1,h.h.ya(new h.h.dh(f,"mutation",null,g,k)),h.h.Jb=c)}};h.gb.iD=function(a,c){c=c.cc(!1);for(var d=0;d<c.length;d++)if(c[d].Gh){var e=c[d].Gh();if(e&&h.Zf.He(e[0],a))return c[d]}return null};h.Pk=function(a,c,d,e){this.A=a;this.name=c;this.type=d||"";this.Lh=e||h.g.Ie();h.h.ya(new h.h.fd(this))};h.Pk.prototype.hb=function(){return this.Lh};h.Pk.Ww=function(a,c){a=a.name.toLowerCase();c=c.name.toLowerCase();return a<c?-1:a==c?0:1};h.fa={};h.fa.Fv=h.gr;h.fa.uw=function(a){var c=P(a,!1);a=Object.create(null);for(var d=0;d<c.length;d++){var e=oa(c[d]);if(e)for(var f=0;f<e.length;f++){var g=e[f],k=g.hb();k&&(a[k]=g)}}c=[];for(k in a)c.push(a[k]);return c};h.fa.MC=function(){console.warn("Deprecated call to Blockly.Variables.allUsedVariables. Use Blockly.Variables.allUsedVarModels instead.\nIf this is a major issue please file a bug on GitHub.")};h.fa.Sp={};
h.fa.LC=function(a){a=P(a,!1);for(var c=Object.create(null),d=0,e;e=a[d];d++){var f=e.jD;!f&&e.Xx&&(f=e.Xx,h.fa.Sp[e.type]||(console.warn("Function getDeveloperVars() deprecated. Use getDeveloperVariables() (block type '"+e.type+"')"),h.fa.Sp[e.type]=!0));if(f)for(e=f(),f=0;f<e.length;f++)c[e[f]]=!0}return Object.keys(c)};
h.fa.pg=function(a){var c=[],d=document.createElement("button");d.setAttribute("text","%{BKY_NEW_VARIABLE}");d.setAttribute("callbackKey","CREATE_VARIABLE");oc(a,function(e){h.fa.Rr(e.oD())});c.push(d);a=h.fa.Ix(a);return c=c.concat(a)};
h.fa.Ix=function(a){a=a.ql("");var c=[];if(0<a.length){var d=a[a.length-1];if(h.Nb.variables_set){var e=h.g.xml.createElement("block");e.setAttribute("type","variables_set");e.setAttribute("gap",h.Nb.math_change?8:24);e.appendChild(h.fa.co(d));c.push(e)}h.Nb.math_change&&(e=h.g.xml.createElement("block"),e.setAttribute("type","math_change"),e.setAttribute("gap",h.Nb.variables_get?20:8),e.appendChild(h.fa.co(d)),d=h.I.Xe('<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value>'),
e.appendChild(d),c.push(e));if(h.Nb.variables_get){a.sort(h.Pk.Ww);d=0;for(var f;f=a[d];d++)e=h.g.xml.createElement("block"),e.setAttribute("type","variables_get"),e.setAttribute("gap",8),e.appendChild(h.fa.co(f)),c.push(e)}}return c};
h.fa.Kx=function(a){a=a.qg();var c="";if(a.length)for(var d=1,e=0,f="ijkmnopqrstuvwxyzabcdefgh".charAt(e);!c;){for(var g=!1,k=0;k<a.length;k++)if(a[k].name.toLowerCase()==f){g=!0;break}g?(e++,25==e&&(e=0,d++),f="ijkmnopqrstuvwxyzabcdefgh".charAt(e),1<d&&(f+=d)):c=f}else c="i";return c};
h.fa.Rr=function(a,c,d){function e(g){h.fa.Kt(h.G.NEW_VARIABLE_TITLE,g,function(k){if(k){var l=h.fa.Uy(k,a);if(l){if(l.type==f)var m=h.G.VARIABLE_ALREADY_EXISTS.replace("%1",l.name);else m=h.G.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE,m=m.replace("%1",l.name).replace("%2",l.type);h.alert(m,function(){e(k)})}else a.md(k,f),c&&c(k)}else c&&c(null)})}var f=d||"";e("")};h.fa.md=h.fa.Rr;
h.fa.Lt=function(a,c){function d(e){var f=h.G.RENAME_VARIABLE_TITLE.replace("%1",c.name);h.fa.Kt(f,e,function(g){if(g){var k=h.fa.Vy(g,c.type,a);k?(k=h.G.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",k.name).replace("%2",k.type),h.alert(k,function(){d(g)})):a.Ng(c.hb(),g)}})}d("")};h.fa.Kt=function(a,c,d){h.prompt(a,c,function(e){e&&(e=e.replace(/[\s\xa0]+/g," ").trim(),e==h.G.RENAME_VARIABLE||e==h.G.NEW_VARIABLE)&&(e=null);d(e)})};
h.fa.Vy=function(a,c,d){d=d.Wa.qg();a=a.toLowerCase();for(var e=0,f;f=d[e];e++)if(f.name.toLowerCase()==a&&f.type!=c)return f;return null};h.fa.Uy=function(a,c){c=c.Wa.qg();a=a.toLowerCase();for(var d=0,e;e=c[d];d++)if(e.name.toLowerCase()==a)return e;return null};h.fa.co=function(a){var c=h.g.xml.createElement("field");c.setAttribute("name","VAR");c.setAttribute("id",a.hb());c.setAttribute("variabletype",a.type);a=h.g.xml.createTextNode(a.name);c.appendChild(a);return c};
h.fa.nD=function(a,c,d,e){var f=h.fa.rf(a,c,d,e);f||(f=h.fa.ix(a,c,d,e));return f};h.fa.rf=function(a,c,d,e){var f=a.Tl,g=null;if(c&&(g=a.sg(c),!g&&f&&(g=f.sg(c)),g))return g;if(d){if(void 0==e)throw Error("Tried to look up a variable by name without a type");g=a.rf(d,e);!g&&f&&(g=f.rf(d,e))}return g};h.fa.ix=function(a,c,d,e){var f=a.Tl;d||(d=h.fa.Kx(a.vf?a.Ip:a));return f?f.md(d,e,c):a.md(d,e,c)};
h.fa.Mx=function(a,c){a=a.qg();var d=[];if(c.length!=a.length)for(var e=0;e<a.length;e++){var f=a[e];-1==c.indexOf(f)&&d.push(f)}return d};h.S={};h.S.nc=null;h.S.dl=null;h.S.wd=null;h.S.yd=null;h.S.La=function(){h.S.Ea||(h.S.Ea=document.createElement("div"),h.S.Ea.className="blocklyWidgetDiv",document.body.appendChild(h.S.Ea))};h.S.show=function(a,c,d){h.S.Da();h.S.nc=a;h.S.dl=d;a=h.S.Ea;a.style.top=h.g.style.Bs().y+"px";a.style.direction=c?"rtl":"ltr";a.style.display="block";h.S.wd=h.la().Kb.name+"-renderer";h.S.yd=h.la().qf().name+"-theme";h.g.m.pb(a,h.S.wd);h.g.m.pb(a,h.S.yd)};
h.S.Da=function(){var a=h.S.Ea;h.S.nc&&(h.S.nc=null,a.style.display="none",a.style.left="",a.style.top="",h.S.dl&&h.S.dl(),h.S.dl=null,a.innerHTML="");h.S.wd&&(h.g.m.Ec(a,h.S.wd),h.S.wd=null);h.S.yd&&(h.g.m.Ec(a,h.S.yd),h.S.yd=null);y(h.la())};h.S.isVisible=function(){return!!h.S.nc};h.S.nj=function(a){h.S.nc==a&&h.S.Da()};h.S.Pj=function(a,c,d){h.S.Ea.style.left=a+"px";h.S.Ea.style.top=c+"px";h.S.Ea.style.height=d+"px"};
h.S.oz=function(a,c,d,e){var f=h.S.Hw(a,c,d);a=h.S.Gw(a,c,d,e);0>f?h.S.Pj(a,0,d.height+f):h.S.Pj(a,f,d.height)};h.S.Gw=function(a,c,d,e){if(e)return c=Math.max(c.right-d.width,a.left),Math.min(c,a.right-d.width);c=Math.min(c.left,a.right-d.width);return Math.max(c,a.left)};h.S.Hw=function(a,c,d){return c.bottom+d.height>=a.bottom?c.top-d.height:c.bottom};h.VERSION="uncompiled";h.Fj=null;h.selected=null;h.cursor=null;h.cj=[];h.Pi=null;h.Wk=null;h.sn=null;h.RC=null;h.au=function(a){return{width:a.Br,height:a.Ar}};h.OD=function(a){C(a)};h.ek=function(a){for(;a.options.Dc;)a=a.options.Dc;var c=x(a),d=c.parentNode;if(d){var e=d.offsetWidth;d=d.offsetHeight;c.Br!=e&&(c.setAttribute("width",e+"px"),c.Br=e);c.Ar!=d&&(c.setAttribute("height",d+"px"),c.Ar=d);a.resize()}};
h.$y=function(a){var c=h.Fj;if(c&&!(h.g.Cl(a)||c.Z&&!c.isVisible()))if(c.options.readOnly)h.navigation.ut(a);else{var d=!1;if(a.keyCode==h.g.fb.oq)h.dc(),h.navigation.Yd(h.navigation.jm);else{if(h.navigation.ut(a))return;if(a.keyCode==h.g.fb.yu||a.keyCode==h.g.fb.ni){a.preventDefault();if(h.ih.wo())return;h.selected&&h.selected.Ac()&&(d=!0)}else if(a.altKey||a.ctrlKey||a.metaKey){if(h.ih.wo())return;h.selected&&h.selected.Ac()&&h.selected.lc()&&(a.keyCode==h.g.fb.Eu?(h.dc(),h.zn(h.selected)):a.keyCode!=
h.g.fb.sr||h.selected.A.vf||(h.zn(h.selected),d=!0));a.keyCode==h.g.fb.bw?h.Pi&&(a=h.Wk,a.vf&&(a=a.Ip),h.sn&&$a(a,h.sn)&&(h.h.ba(!0),lc(a),h.h.ba(!1))):a.keyCode==h.g.fb.kw&&(h.dc(),c.Np(a.shiftKey))}}d&&!h.selected.A.vf&&(h.h.ba(!0),h.dc(),h.selected.F(!0,!0),h.h.ba(!1))}};h.zn=function(a){if(a.Ws)var c=a.Jp();else{c=h.I.hg(a,!0);h.I.mx(c);var d=a.Ca();c.setAttribute("x",a.D?-d.x:d.x);c.setAttribute("y",d.y)}h.Pi=c;h.Wk=a.A;h.sn=a.Ws?null:h.g.ms(a)};
h.duplicate=function(a){var c=h.Pi,d=h.Wk;h.zn(a);lc(a.A);h.Pi=c;h.Wk=d};h.HD=function(a){h.g.Cl(a)||a.preventDefault()};h.dc=function(a){h.B.Da();h.S.Da();h.u.uo();a||(a=h.la(),a.Lb&&a.Lb.Hx&&a.Lb.Hx.Da(),(a=a.ma)&&N(a)&&N(a).fn&&a.VC())};h.la=function(){return h.Fj};h.alert=function(a,c){alert(a);c&&c()};h.confirm=function(a,c){c(confirm(a))};h.prompt=function(a,c,d){d(prompt(a,c))};
h.Ky=function(a){return function(){var c=a.type?'Block "'+a.type+'": ':"";if(a.output&&a.previousStatement)throw Error(c+"Must not have both an output and a previousStatement.");a.style&&a.style.qd&&(this.qd=a.style.qd,a.style=null);if(a.style&&a.colour)throw Error(c+"Must not have both a colour and a style.");if(a.style){var d=a.style;try{this.ei(d)}catch(u){console.warn(c+"Style does not exist: ",d)}}else if("colour"in a)if(void 0===a.colour)console.warn(c+"Undefined colour value.");else{d=a.colour;
try{this.Se(d)}catch(u){console.warn(c+"Illegal colour value: ",d)}}for(d=0;void 0!==a["message"+d];){for(var e=a["args"+d]||[],f=a["lastDummyAlign"+d],g=c,k=h.g.Vz(a["message"+d]),l=[],m=0,n=[],r=0;r<k.length;r++){var q=k[r];if("number"==typeof q){if(0>=q||q>e.length)throw Error('Block "'+this.type+'": Message index %'+q+" out of range.");if(l[q])throw Error('Block "'+this.type+'": Message index %'+q+" duplicated.");l[q]=!0;m++;n.push(e[q-1])}else(q=q.trim())&&n.push(q)}if(m!=e.length)throw Error('Block "'+
this.type+'": Message does not reference all '+e.length+" arg(s).");n.length&&("string"==typeof n[n.length-1]||h.g.za.startsWith(n[n.length-1].type,"field_"))&&(r={type:"input_dummy"},f&&(r.align=f),n.push(r));f={LEFT:h.nm,RIGHT:h.mk,CENTRE:h.mm,CENTER:h.mm};e=[];for(r=0;r<n.length;r++)if(l=n[r],"string"==typeof l)e.push([l,void 0]);else{k=m=null;do if(q=!1,"string"==typeof l)m=new h.Lc(l);else switch(l.type){case "input_value":k=this.eg(h.Fa,l.name);break;case "input_statement":k=this.eg(h.ta,l.name);
break;case "input_dummy":k=Cb(this,l.name);break;default:m=h.zc.ga(l),!m&&l.alt&&(l=l.alt,q=!0)}while(q);if(m)e.push([m,l.name]);else if(k){l.check&&k.$h(l.check);l.align&&(m=f[l.align.toUpperCase()],void 0===m?console.warn(g+"Illegal align value: ",l.align):yb(k,m));for(l=0;l<e.length;l++)Q(k,e[l][0],e[l][1]);e.length=0}}d++}void 0!==a.inputsInline&&this.Qg(a.inputsInline);void 0!==a.output&&this.$l(!0,a.output);void 0!==a.previousStatement&&this.am(!0,a.previousStatement);void 0!==a.nextStatement&&
this.Zl(!0,a.nextStatement);void 0!==a.tooltip&&(d=a.tooltip,d=h.g.pc(d),this.Lf(d));void 0!==a.enableContextMenu&&(d=a.enableContextMenu,this.contextMenu=!!d);void 0!==a.helpUrl&&(d=a.helpUrl,this.ug=h.g.pc(d));"string"==typeof a.extensions&&(console.warn(c+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+a.type+"' block."),a.extensions=[a.extensions]);void 0!==a.mutator&&h.ha.apply(a.mutator,this,!0);if(Array.isArray(a.extensions))for(c=a.extensions,d=
0;d<c.length;++d)h.ha.apply(c[d],this,!1)}};h.bD=function(a){for(var c=0;c<a.length;c++){var d=a[c];if(d){var e=d.type;null==e||""===e?console.warn("Block definition #"+c+" in JSON array is missing a type attribute. Skipping."):(h.Nb[e]&&console.warn("Block definition #"+c+' in JSON array overwrites prior definition of "'+e+'".'),h.Nb[e]={Oa:h.Ky(d)})}else console.warn("Block definition #"+c+" in JSON array is "+d+". Skipping.")}};
h.va=function(a,c,d,e,f,g){function k(u){var v=!f;u=h.Touch.Mz(u);for(var I=0,J;J=u[I];I++)if(!v||h.Touch.Cp(J))h.Touch.Dz(J),d?e.call(d,J):e(J),l=!0}var l=!1,m=[];if(h.g.global.PointerEvent&&c in h.Touch.Kd)for(var n=0,r;r=h.Touch.Kd[c][n];n++)a.addEventListener(r,k,!1),m.push([a,r,k]);else if(a.addEventListener(c,k,!1),m.push([a,c,k]),c in h.Touch.Kd){var q=function(u){k(u);var v=!g;l&&v&&u.preventDefault()};for(n=0;r=h.Touch.Kd[c][n];n++)a.addEventListener(r,q,!1),m.push([a,r,q])}return m};
h.gg=function(a,c,d){function e(m){d(m)}var f=[];if(h.g.global.PointerEvent&&c in h.Touch.Kd)for(var g=0,k;k=h.Touch.Kd[c][g];g++)a.addEventListener(k,e,!1),f.push([a,k,e]);else if(a.addEventListener(c,e,!1),f.push([a,c,e]),c in h.Touch.Kd){var l=function(m){if(m.changedTouches&&1==m.changedTouches.length){var n=m.changedTouches[0];m.clientX=n.clientX;m.clientY=n.clientY}d(m);m.preventDefault()};for(g=0;k=h.Touch.Kd[c][g];g++)a.addEventListener(k,l,!1),f.push([a,k,l])}return f};
h.ab=function(a){for(;a.length;){var c=a.pop();c[0].removeEventListener(c[1],c[2],!1)}};h.zD=function(a){return/^\s*-?\d+(\.\d+)?\s*$/.test(a)};h.qD=function(a){return h.g.$a.Ss(a)};
h.Kw=function(){h.Sb("LOGIC_HUE",["Blocks","logic","HUE"],void 0);h.Sb("LOGIC_HUE",["Constants","Logic","HUE"],210);h.Sb("LOOPS_HUE",["Blocks","loops","HUE"],void 0);h.Sb("LOOPS_HUE",["Constants","Loops","HUE"],120);h.Sb("MATH_HUE",["Blocks","math","HUE"],void 0);h.Sb("MATH_HUE",["Constants","Math","HUE"],230);h.Sb("TEXTS_HUE",["Blocks","texts","HUE"],void 0);h.Sb("TEXTS_HUE",["Constants","Text","HUE"],160);h.Sb("LISTS_HUE",["Blocks","lists","HUE"],void 0);h.Sb("LISTS_HUE",["Constants","Lists","HUE"],
260);h.Sb("COLOUR_HUE",["Blocks","colour","HUE"],void 0);h.Sb("COLOUR_HUE",["Constants","Colour","HUE"],20);h.Sb("VARIABLES_HUE",["Blocks","variables","HUE"],void 0);h.Sb("VARIABLES_HUE",["Constants","Variables","HUE"],330);h.Sb("VARIABLES_DYNAMIC_HUE",["Constants","VariablesDynamic","HUE"],310);h.Sb("PROCEDURES_HUE",["Blocks","procedures","HUE"],void 0)};
h.Sb=function(a,c,d){for(var e="Blockly",f=h,g=0;g<c.length;++g)e+="."+c[g],f&&(f=f[c[g]]);f&&f!==d&&(a=(void 0===d?'%1 has been removed. Use Blockly.Msg["%2"].':'%1 is deprecated and unused. Override Blockly.Msg["%2"].').replace("%1",e).replace("%2",a),console.warn(a))};var pc={en:"English",fo:"F\u00f8royskt"},qc="ace ar fa he mzn ps ur".split(" "),rc=window.BlocklyGamesLang,sc=window.BlocklyGamesLanguages,tc=/\.html$/.test(window.location.pathname),B=null;function uc(){return-1!=qc.indexOf(rc)}var U,vc=Number,wc,xc=window.location.search.match(/[?&]level=([^&]+)/);wc=xc?decodeURIComponent(xc[1].replace(/\+/g,"%20")):"NaN";var yc=vc(wc);U=isNaN(yc)?1:h.g.Ub.Oi(1,yc,10);
function zc(){document.title=document.getElementById("title").textContent;document.dir=uc()?"rtl":"ltr";document.head.parentElement.setAttribute("lang",rc);var a=document.getElementById("languageMenu");if(a){for(var c=[],d=0;d<sc.length;d++){var e=sc[d];c.push([pc[e],e])}c.sort(function(g,k){return g[0]>k[0]?1:g[0]<k[0]?-1:0});for(d=a.options.length=0;d<c.length;d++){var f=c[d];e=f[1];f=new Option(f[0],e);e==rc&&(f.selected=!0);a.options.add(f)}1>=a.options.length&&(a.style.display="none")}for(d=
1;10>=d;d++)a=document.getElementById("level"+d),c=!!Ac(d),a&&c&&(a.className+=" level_done");(d=document.querySelector('meta[name="viewport"]'))&&725>screen.availWidth&&d.setAttribute("content","width=725, initial-scale=.35, user-scalable=no");setTimeout(Bc,1)}function Ac(a){var c=Cc;try{var d=window.localStorage[c+a]}catch(e){}return d}function V(a){var c=Dc(a);return null===c?"[Unknown message: "+a+"]":c}
function Dc(a){return(a=document.getElementById(a))?(a=a.textContent,a=a.replace(/\\n/g,"\n")):null}function Ec(a,c){if(!a)throw TypeError("Element not found: "+a);"string"==typeof a&&(a=document.getElementById(a));a.addEventListener("click",c,!0);a.addEventListener("touchend",c,!0)}
function Bc(){if(!tc){window.GoogleAnalyticsObject="GoogleAnalyticsFunction";var a=function(d){(a.q=a.q||[]).push(arguments)};window.GoogleAnalyticsFunction=a;a.l=1*new Date;var c=document.createElement("script");c.async=1;c.src="//www.google-analytics.com/analytics.js";document.head.appendChild(c);a("create","UA-50448074-1","auto");a("send","pageview")}};h.g.s={};h.g.s.ka=function(a,c){return" "+a+","+c+" "};h.g.s.curve=function(a,c){return" "+a+c.join("")};h.g.s.moveTo=function(a,c){return" M "+a+","+c+" "};h.g.s.moveBy=function(a,c){return" m "+a+","+c+" "};h.g.s.lineTo=function(a,c){return" l "+a+","+c+" "};h.g.s.line=function(a){return" l"+a.join("")};h.g.s.R=function(a,c){return" "+a+" "+c+" "};h.g.s.arc=function(a,c,d,e){return a+" "+d+" "+d+" "+c+e};h.i.Uf=function(){this.Hd=0;this.Pv=3;this.Mc=5;this.Hq=8;this.Yb=10;this.dr=this.Mc;this.Nk=15;this.Di=5;this.Um=8;this.Gv=15;this.Kq=4;this.Cv=12;this.Wu=16;this.mq=this.Nk;this.je=8;this.Ik=15;this.Uv=0;this.ar=20;this.zu=4;this.Xv=this.Mc;this.Yv=this.Yb;this.Bu=this.Mc;this.Au=this.Yb;this.Sv=15;this.Tv=100;this.Rv=15;this.Im=24;this.Yu=14.5;this.Xu=this.Nk+11;this.$u=2;this.Zu=this.Im;this.Zq=h.g.s.moveBy(0,0);this.nv=12;this.ov=6;this.Dk=11;this.tq=13;this.si="normal";this.ri="sans-serif";
this.rq=4;this.qq=16;this.gh=5;this.xm=h.g.userAgent.cv?12:13.09;this.Ck=!h.g.userAgent.oe&&!h.g.userAgent.oi;this.sq=this.qq;this.av=!1;this.il="";this.Xn=null;this.Hn="";this.In=null;this.fq="#cc0a0a";this.xv="#4286f4";this.yk=100;this.pr=5;this.xk=10;this.Lu=2;this.Nu=4};b=h.i.Uf.prototype;
b.Oa=function(){this.kh=this.No();this.lh=this.Oo();this.se=this.Qo();this.$f=this.Po();var a=this.je,c=h.g.s.arc("a","0 0,0",a,h.g.s.ka(-a,a)),d=h.g.s.arc("a","0 0,0",a,h.g.s.ka(a,a));this.vi={width:a,height:a,ip:c,Rl:d};a=this.je;c=h.g.s.moveBy(0,a)+h.g.s.arc("a","0 0,1",a,h.g.s.ka(a,-a));d=h.g.s.arc("a","0 0,1",a,h.g.s.ka(a,a));var e=h.g.s.arc("a","0 0,1",a,h.g.s.ka(-a,-a)),f=h.g.s.arc("a","0 0,1",a,h.g.s.ka(-a,a));this.Ai={Lp:c,Yz:d,Dw:f,ln:e,wz:a}};
b.F=function(){this.Xn&&h.g.m.removeNode(this.Xn);this.In&&h.g.m.removeNode(this.In)};b.No=function(){var a=this.nv,c=this.ov,d=h.g.s.line([h.g.s.ka(6,3),h.g.s.ka(-12,6),h.g.s.ka(6,3)]);return{height:a,width:c,path:d}};b.Qo=function(){var a=this.Sv,c=this.Tv,d=h.g.s.curve("c",[h.g.s.ka(30,-a),h.g.s.ka(70,-a),h.g.s.ka(c,0)]);return{height:a,width:c,path:d}};
b.Po=function(){function a(g){g=g?-1:1;var k=-g,l=d/2,m=h.g.s.ka(c,g*l);return h.g.s.curve("c",[h.g.s.ka(0,g*(l+2.5)),h.g.s.ka(-c,k*(l+.5)),h.g.s.ka(-c,g*l)])+h.g.s.curve("s",[h.g.s.ka(c,2.5*k),m])}var c=this.Um,d=this.Nk,e=a(!0),f=a(!1);return{width:c,height:d,Yc:f,Oj:e}};b.Oo=function(){function a(k){return h.g.s.line([h.g.s.ka(k*e,d),h.g.s.ka(3*k,0),h.g.s.ka(k*e,-d)])}var c=this.Gv,d=this.Kq,e=(c-3)/2,f=a(1),g=a(-1);return{width:c,height:d,Ff:f,At:g}};
b.La=function(a){a=h.g.m.N("defs",{},a);var c=String(Math.random()).substring(2),d=h.g.m.N("filter",{id:"blocklyEmbossFilter"+c},a);h.g.m.N("feGaussianBlur",{"in":"SourceAlpha",stdDeviation:1,result:"blur"},d);var e=h.g.m.N("feSpecularLighting",{"in":"blur",surfaceScale:1,specularConstant:.5,specularExponent:10,"lighting-color":"white",result:"specOut"},d);h.g.m.N("fePointLight",{x:-5E3,y:-1E4,z:2E4},e);h.g.m.N("feComposite",{"in":"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},d);h.g.m.N("feComposite",
{"in":"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},d);this.il=d.id;this.Xn=d;a=h.g.m.N("pattern",{id:"blocklyDisabledPattern"+c,patternUnits:"userSpaceOnUse",width:10,height:10},a);h.g.m.N("rect",{width:10,height:10,fill:"#aaa"},a);h.g.m.N("path",{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},a);this.Hn=a.id;this.In=a};h.i.Cd=function(a,c,d){this.C=a;this.Aj=!!d;this.oc=null;this.j=c;this.zh=null};h.i.Cd.Mu="blocklyCursor";h.i.Cd.wv="blocklyMarker";h.i.Cd.dv=.75;b=h.i.Cd.prototype;b.qa=function(){return this.ca};
b.La=function(){this.ca=h.g.m.N("g",{"class":this.Aj?h.i.Cd.wv:h.i.Cd.Mu},null);var a=this.Aj?this.j.xv:this.j.fq;this.zb=h.g.m.N("g",{width:this.j.yk,height:this.j.pr},this.ca);this.Ah=h.g.m.N("rect",{fill:a,width:this.j.yk,height:this.j.pr,style:"display: none"},this.zb);this.Bh=h.g.m.N("rect",{"class":"blocklyVerticalCursor",rx:10,ry:10,style:"display: none",stroke:a},this.zb);this.aj=h.g.m.N("path",{transform:"",style:"display: none",fill:a},this.zb);this.lg=h.g.m.N("path",{transform:"",style:"display: none",
fill:"none",stroke:a,"stroke-width":this.j.Nu},this.zb);this.Aj||(a=Fc(this),h.g.m.N("animate",Fc(this),this.Ah),h.g.m.N("animate",a,this.aj),a.attributeName="stroke",h.g.m.N("animate",a,this.lg));return this.ca};function Gc(a,c){a.Aj?(a.oc&&a.oc.bi(null),c.bi(a.qa())):(a.oc&&a.oc.Pg(null),c.Pg(a.qa()));a.oc=c}
function Hc(a,c){if(c){var d=c.width,e=c.height,f=e*h.i.Cd.dv,g=a.j.Lu;c.O?(d=h.g.s.moveBy(-g,f)+h.g.s.R("V",-g)+h.g.s.R("H",a.j.Ik)+a.j.lh.Ff+h.g.s.R("H",d+2*g)+h.g.s.R("V",f),a.lg.setAttribute("d",d)):c.K?(d=h.g.s.moveBy(d,0)+h.g.s.R("h",-(d-a.j.$f.width))+h.g.s.R("v",a.j.Di)+a.j.$f.Yc+h.g.s.R("V",e)+h.g.s.R("H",d),a.lg.setAttribute("d",d)):(d=h.g.s.moveBy(-g,f)+h.g.s.R("V",-g)+h.g.s.R("H",d+2*g)+h.g.s.R("V",f),a.lg.setAttribute("d",d));a.C.D&&a.ij(a.lg);a.zh=a.lg;Gc(a,c);Ic(a)}}
function Ic(a){a.Da();a.zh.style.display=""}function Jc(a,c,d,e){a.Ah.setAttribute("x",c);a.Ah.setAttribute("y",d);a.Ah.setAttribute("width",e);a.zh=a.Ah}function Kc(a,c,d,e,f){a.Bh.setAttribute("x",c);a.Bh.setAttribute("y",d);a.Bh.setAttribute("width",e);a.Bh.setAttribute("height",f);a.zh=a.Bh}b.ij=function(a){a.setAttribute("transform","scale(-1 1)")};b.Da=function(){this.Ah.style.display="none";this.Bh.style.display="none";this.aj.style.display="none";this.lg.style.display="none"};
b.draw=function(a,c){if(c){if(c.Va()==h.w.types.uc)Hc(this,c.Y);else if(c.Va()==h.w.types.oh){var d=c.Y.M();Hc(this,d)}else if(c.Y.type==h.Fa){var e=c.Y;d=e.M();var f=e.Ig.x;e=e.Ig.y;var g=h.g.s.moveTo(0,0)+this.j.$f.Yc;this.aj.setAttribute("d",g);this.aj.setAttribute("transform","translate("+f+","+e+")"+(this.C.D?" scale(-1 1)":""));this.zh=this.aj;Gc(this,d);Ic(this)}else if(c.Y.type==h.ta)e=c.Y,d=e.M(),f=0,e=e.Ig.y,g=K(d).width,this.C.D&&(f=-g),Jc(this,f,e,g),Gc(this,d),Ic(this);else if(c.Va()==
h.w.types.Id)d=c.Y.M(),Hc(this,d);else if(c.Va()==h.w.types.Jc)d=c.Y,f=d.Je().width,e=d.Je().height,Kc(this,0,0,f,e),Gc(this,d),Ic(this);else if(c.Va()==h.w.types.gf)f=c.lu,d=f.x,f=f.y,this.C.D&&(d-=this.j.yk),Jc(this,d,f,this.j.yk),Gc(this,this.C),Ic(this);else if(c.Va()==h.w.types.Jd){d=c.Y;e=K(d);f=e.width+this.j.xk;e=e.height+this.j.xk;var k=g=-this.j.xk/2,l=-this.j.xk/2;this.C.D&&(k=-(f+g));Kc(this,k,l,f,e);Gc(this,d);Ic(this)}d=c.M();a=new h.h.Zb(d,this.Aj?"markedNode":"cursorMove",a,c);c.Va()==
h.w.types.gf&&(a.vb=c.Y.id);h.h.ya(a);c=this.zh.childNodes[0];void 0!==c&&c.beginElement&&c.beginElement()}else this.Da()};function Fc(a){return{attributeType:"XML",attributeName:"fill",dur:"1s",values:a.j.fq+";transparent;transparent;",repeatCount:"indefinite"}}b.F=function(){this.ca&&h.g.m.removeNode(this.ca)};h.i.o={NONE:0,Jc:1,vq:2,xq:4,Tm:8,Wp:16,Aq:32,pq:64,pe:128,yq:256,$q:512,Hu:1024,Nm:2048,Jm:4096,Iv:8192,um:16384,Fm:32768,Em:65536,Qm:131072,Pm:262144,Eq:524288,Rm:1048576,Zm:2097152,qm:4194304,zq:8388608};h.i.o.sB=h.i.o.Fm|h.i.o.Em;h.i.o.lC=h.i.o.Qm|h.i.o.Pm;h.i.o.Zo=16777216;h.i.o.Va=function(){h.i.o.hasOwnProperty(void 0)||(h.i.o[void 0]=h.i.o.Zo,h.i.o.Zo<<=1);return h.i.o[void 0]};h.i.o.xj=function(a){return a.type&h.i.o.Jc};h.i.o.Bg=function(a){return a.type&h.i.o.vq};
h.i.o.Oh=function(a){return a.type&h.i.o.xq};h.i.o.ud=function(a){return a.type&h.i.o.Tm};h.i.o.xD=function(a){return a.type&h.i.o.Aq};h.i.o.td=function(a){return a.type&h.i.o.pe};h.i.o.wj=function(a){return a.type&h.i.o.pq};h.i.o.wf=function(a){return a.type&h.i.o.yq};h.i.o.Rh=function(a){return a.type&h.i.o.$q};h.i.o.Qh=function(a){return a.type&h.i.o.Nm};h.i.o.zf=function(a){return a.type&h.i.o.Jm};h.i.o.Iy=function(a){return a.type&(h.i.o.Nm|h.i.o.Jm)};h.i.o.yf=function(a){return a.type&h.i.o.Em};
h.i.o.Zs=function(a){return a.type&h.i.o.Pm};h.i.o.zj=function(a){return a.type&h.i.o.Fm};h.i.o.AD=function(a){return a.type&h.i.o.Qm};h.i.o.vD=function(a){return a.type&h.i.o.um};h.i.o.Xs=function(a){return a.type&h.i.o.Eq};h.i.o.BD=function(a){return a.type&h.i.o.Rm};h.i.o.tD=function(a){return a.type&h.i.o.Wp};h.i.o.Dl=function(a){return a.type&h.i.o.Zm};h.i.o.vl=function(a){return a.type&h.i.o.qm};h.i.o.CD=function(a){return a.type&(h.i.o.Zm|h.i.o.qm)};h.i.o.yD=function(a){return a.type&h.i.o.zq};h.i.cf=function(a){this.height=this.width=0;this.type=h.i.o.NONE;this.jf=this.na=0;this.j=a;this.Xc=this.j.Ik};h.i.$=function(a,c){h.i.$.v.constructor.call(this,a);this.xn=c;a:switch(a=this.j,c.type){case h.Fa:case h.cd:c=a.$f;break a;case h.dd:case h.ta:c=a.lh;break a;default:throw Error("Unknown connection type");}this.shape=c;this.yl=!!this.shape.isDynamic;this.type|=h.i.o.Hu};h.g.object.P(h.i.$,h.i.cf);h.i.Mm=function(a,c){h.i.Mm.v.constructor.call(this,a,c);this.type|=h.i.o.Iv;a=this.yl?0:this.shape.width;this.height=this.yl?0:this.shape.height;this.$c=this.width=a;this.Sc=this.j.Di};
h.g.object.P(h.i.Mm,h.i.$);h.i.Om=function(a,c){h.i.Om.v.constructor.call(this,a,c);this.type|=h.i.o.Nm;this.height=this.shape.height;this.width=this.shape.width};h.g.object.P(h.i.Om,h.i.$);h.i.Km=function(a,c){h.i.Km.v.constructor.call(this,a,c);this.type|=h.i.o.Jm;this.height=this.shape.height;this.width=this.shape.width};h.g.object.P(h.i.Km,h.i.$);h.i.xi=function(a,c){h.i.xi.v.constructor.call(this,a,c.connection);this.type|=h.i.o.pe;this.input=c;this.align=c.align;(this.mf=c.connection&&c.connection.ea()?c.connection.ea():null)?(a=K(this.mf),this.Si=a.width,this.Yk=a.height):this.Yk=this.Si=0;this.connection=c.connection;this.Sc=0};h.g.object.P(h.i.xi,h.i.$);
h.i.bf=function(a,c){h.i.bf.v.constructor.call(this,a,c);this.type|=h.i.o.yq;this.mf?(this.width=this.Si,this.height=this.Yk):(this.height=this.j.Xu,this.width=this.j.Yu);this.Ti=this.shape.height;this.ze=this.yl?this.shape.width(this.height):this.shape.width;this.mf||(this.width+=this.ze*(this.yl?2:1));this.Sc=this.j.Di};h.g.object.P(h.i.bf,h.i.xi);h.i.ef=function(a,c){h.i.ef.v.constructor.call(this,a,c);this.type|=h.i.o.$q;this.height=this.mf?this.Yk+this.j.Uv:this.j.Zu;this.width=this.j.Ik+this.shape.width};
h.g.object.P(h.i.ef,h.i.xi);h.i.Ak=function(a,c){h.i.Ak.v.constructor.call(this,a,c);this.type|=h.i.o.pq;this.height=this.mf?this.Yk-this.j.Di-this.j.Mc:this.shape.height;this.width=this.shape.width+this.j.$u;this.Sc=this.j.Di;this.Ti=this.shape.height;this.ze=this.shape.width};h.g.object.P(h.i.Ak,h.i.xi);h.i.Cm=function(a,c){h.i.Cm.v.constructor.call(this,a);this.icon=c;this.isVisible=c.isVisible();this.type|=h.i.o.xq;a=c.hD();this.height=a.height;this.width=a.width};h.g.object.P(h.i.Cm,h.i.cf);h.i.Dm=function(a){h.i.Dm.v.constructor.call(this,a);this.type|=h.i.o.Eq;this.height=this.j.kh.height;this.width=this.j.kh.width};h.g.object.P(h.i.Dm,h.i.cf);
h.i.Kc=function(a,c){h.i.Kc.v.constructor.call(this,a);this.fs=c;this.Cc=c.pi&&!!c.H&&c.H.Cc();this.Gx=c.ss();this.type|=h.i.o.Jc;a=this.fs.Je();this.height=a.height;this.width=a.width};h.g.object.P(h.i.Kc,h.i.cf);h.i.zm=function(a){h.i.zm.v.constructor.call(this,a);this.type|=h.i.o.vq;this.height=this.j.se.height;this.width=this.j.se.width;this.th=this.height};h.g.object.P(h.i.zm,h.i.cf);
h.i.qh=function(a,c){h.i.qh.v.constructor.call(this,a);this.type=(c&&"left"!=c?h.i.o.Qm:h.i.o.Fm)|h.i.o.um;this.width=this.height=this.j.Hd};h.g.object.P(h.i.qh,h.i.cf);h.i.Jk=function(a,c){h.i.Jk.v.constructor.call(this,a);this.type=(c&&"left"!=c?h.i.o.Pm:h.i.o.Em)|h.i.o.um;this.width=this.j.je;this.height=this.j.je/2};h.g.object.P(h.i.Jk,h.i.cf);h.i.qe=function(a,c){h.i.qe.v.constructor.call(this,a);this.type=this.type|h.i.o.Tm|h.i.o.Aq;this.width=c;this.height=this.j.Rv};h.g.object.P(h.i.qe,h.i.cf);h.i.bg=function(a){this.type=h.i.o.Rm;this.elements=[];this.na=this.Gb=this.bd=this.minWidth=this.minHeight=this.width=this.height=0;this.Js=this.Jh=this.so=this.Tb=this.Ke=!1;this.j=a;this.Xc=this.j.Ik;this.align=null};h.i.bg.prototype.measure=function(){throw Error("Unexpected attempt to measure a base Row.");};function W(a){for(var c=a.elements.length-1,d;d=a.elements[c];c--)if(h.i.o.td(d))return d;return null}h.i.bg.prototype.cm=function(){return!0};h.i.bg.prototype.fj=function(){return!0};
function Lc(a){for(var c=a.elements.length-1,d;d=a.elements[c];c--)if(h.i.o.ud(d))return d;return null}h.i.cg=function(a){h.i.cg.v.constructor.call(this,a);this.type|=h.i.o.Zm;this.th=this.ve=0;this.ty=!1;this.connection=null};h.g.object.P(h.i.cg,h.i.bg);h.i.cg.prototype.to=function(a){var c=(a.qd?"cap"===a.qd:h.ia.se)&&!a.K&&!a.O,d=a.O&&a.O.ea();return!!a.K||c||(d?t(d)==a:!1)};
h.i.cg.prototype.measure=function(){for(var a=0,c=0,d=0,e=0,f;f=this.elements[e];e++)c+=f.width,h.i.o.ud(f)||(h.i.o.Bg(f)?d=Math.max(d,f.th):a=Math.max(a,f.height));this.width=Math.max(this.minWidth,c);this.height=Math.max(this.minHeight,a)+d;this.ve=this.th=d;this.bd=this.width};h.i.cg.prototype.cm=function(){return!1};h.i.cg.prototype.fj=function(){return!1};h.i.Rf=function(a){h.i.Rf.v.constructor.call(this,a);this.type|=h.i.o.qm;this.Ks=!1;this.connection=null;this.fg=this.bj=0};
h.g.object.P(h.i.Rf,h.i.bg);h.i.Rf.prototype.to=function(a){return!!a.K||!!t(a)};h.i.Rf.prototype.measure=function(){for(var a=0,c=0,d=0,e=0,f;f=this.elements[e];e++)c+=f.width,h.i.o.ud(f)||(h.i.o.zf(f)?d=Math.max(d,f.height):a=Math.max(a,f.height));this.width=Math.max(this.minWidth,c);this.height=Math.max(this.minHeight,a)+d;this.bj=d;this.bd=this.width};h.i.Rf.prototype.cm=function(){return!1};h.i.Rf.prototype.fj=function(){return!1};
h.i.Mk=function(a,c,d){h.i.Mk.v.constructor.call(this,a);this.type=this.type|h.i.o.Tm|h.i.o.Wp;this.width=d;this.height=c;this.ls=!1;this.bd=0;this.elements=[new h.i.qe(this.j,d)]};h.g.object.P(h.i.Mk,h.i.bg);h.i.Mk.prototype.measure=function(){};h.i.jh=function(a){h.i.jh.v.constructor.call(this,a);this.type|=h.i.o.zq;this.Jr=0};h.g.object.P(h.i.jh,h.i.bg);
h.i.jh.prototype.measure=function(){this.width=this.minWidth;this.height=this.minHeight;for(var a=0,c=0,d;d=this.elements[c];c++)this.width+=d.width,h.i.o.td(d)&&(h.i.o.Rh(d)?a+=d.Si:h.i.o.wj(d)&&0!=d.Si&&(a+=d.Si-d.ze)),h.i.o.ud(d)||(this.height=Math.max(this.height,d.height));this.Jr=a;this.bd=this.width+a};h.i.jh.prototype.fj=function(){return!this.Ke&&!this.Tb};h.i.re=function(a,c){this.wa=c;this.Kb=a;this.j=this.Kb.j;this.K=c.K?new h.i.Mm(this.j,c.K):null;this.Eo=Ja(c)&&!c.isCollapsed();this.isCollapsed=c.isCollapsed();this.xf=c.xf();this.D=c.D;this.Sg=this.width=this.ji=this.height=0;this.rows=[];this.Os=[];this.kb=new h.i.cg(this.j);this.Ta=new h.i.Rf(this.j);this.bm=this.$c=0};b=h.i.re.prototype;
b.measure=function(){var a=!!this.wa.O,c=(this.wa.qd?"cap"===this.wa.qd:h.ia.se)&&!this.K&&!a;this.kb.to(this.wa)?this.kb.elements.push(new h.i.qh(this.j)):this.kb.elements.push(new h.i.Jk(this.j));c?(a=new h.i.zm(this.j),this.kb.elements.push(a),this.kb.ve=a.th):a&&(this.kb.ty=!0,this.kb.connection=new h.i.Om(this.j,this.wa.O),this.kb.elements.push(this.kb.connection));this.wa.J.length&&this.wa.J[0].type==h.ta&&!this.wa.isCollapsed()?this.kb.minHeight=this.j.Yv:this.kb.minHeight=this.j.Xv;this.kb.elements.push(new h.i.qh(this.j,
"right"));this.rows.push(this.kb);a=new h.i.jh(this.j);var d=M(this.wa);if(d.length){c=0;for(var e;e=d[c];c++){var f=new h.i.Cm(this.j,e);this.isCollapsed&&e.XC?this.Os.push(f):a.elements.push(f)}}e=null;for(c=0;d=this.wa.J[c];c++)if(d.isVisible()){!e||d.type!=h.ta&&e.type!=h.ta&&(d.type!=h.Fa&&d.type!=h.ne||this.Eo)||(this.rows.push(a),a=new h.i.jh(this.j));for(e=0;f=d.xa[e];e++)a.elements.push(new h.i.Kc(this.j,f,d));this.wr(d,a);e=d}this.isCollapsed&&(a.Js=!0,a.elements.push(new h.i.Dm(this.j)));
(a.elements.length||a.Jh)&&this.rows.push(a);this.kp();this.rows.push(this.Ta);this.vr();for(e=d=c=a=0;f=this.rows[e];e++)f.measure(),c=Math.max(c,f.width),f.Tb&&(a=Math.max(a,f.width-W(f).width)),d=Math.max(d,f.bd);this.Sg=a;this.width=c;for(e=0;f=this.rows[e];e++)f.Tb&&(f.Sg=this.Sg);this.ji=Math.max(c,d);this.K&&(this.$c=this.K.width,this.width+=this.K.width,this.ji+=this.K.width);for(a=0;c=this.rows[a];a++)c.Tb?(d=W(c),e=c.width-d.width,f=this.Sg,(e=f-e)&&this.an(c,e),e=c.width,f=this.width-this.$c-
(this.j.vi.PD||0),d.width+=f-e,d.height=Math.max(d.height,c.height),c.width+=f-e,c.bd=Math.max(c.width,this.Sg+c.Jr)):(d=this.width-this.$c-c.width)&&this.an(c,d);a=this.rows;this.rows=[];for(c=0;c<a.length;c++)this.rows.push(a[c]),c!=a.length-1&&this.rows.push(Mc(this,a[c],a[c+1]));this.gs()};
b.kp=function(){this.Ta.Ks=!!this.wa.V;this.Ta.minHeight=this.wa.J.length&&this.wa.J[this.wa.J.length-1].type==h.ta?this.j.Au:this.j.Bu;this.Ta.to(this.wa)?this.Ta.elements.push(new h.i.qh(this.j)):this.Ta.elements.push(new h.i.Jk(this.j));this.Ta.Ks&&(this.Ta.connection=new h.i.Km(this.j,this.wa.V),this.Ta.elements.push(this.Ta.connection));this.Ta.elements.push(new h.i.qh(this.j,"right"))};
b.wr=function(a,c){this.Eo&&a.type==h.Fa?(c.elements.push(new h.i.bf(this.j,a)),c.so=!0):a.type==h.ta?(c.elements.push(new h.i.ef(this.j,a)),c.Tb=!0):a.type==h.Fa?(c.elements.push(new h.i.Ak(this.j,a)),c.Ke=!0):a.type==h.ne&&(c.minHeight=Math.max(c.minHeight,this.j.mq),c.Jh=!0);null==c.align&&(c.align=a.align)};
b.vr=function(){for(var a=0,c;c=this.rows[a];a++){var d=c.elements;c.elements=[];c.cm()&&c.elements.push(new h.i.qe(this.j,this.rg(null,d[0])));for(var e=0;e<d.length-1;e++)c.elements.push(d[e]),c.elements.push(new h.i.qe(this.j,this.rg(d[e],d[e+1])));c.elements.push(d[d.length-1]);c.fj()&&c.elements.push(new h.i.qe(this.j,this.rg(d[d.length-1],null)))}};
b.rg=function(a,c){if(!a&&c&&h.i.o.Rh(c))return this.j.ar;if(a&&h.i.o.td(a)&&!c){if(h.i.o.wj(a))return this.j.Hd;if(h.i.o.wf(a))return this.j.Yb;if(h.i.o.Rh(a))return this.j.Hd}return a&&h.i.o.zj(a)&&c&&(h.i.o.Qh(c)||h.i.o.zf(c))?c.Xc:a&&h.i.o.yf(a)&&c&&(h.i.o.Qh(c)||h.i.o.zf(c))?c.Xc-this.j.je:this.j.Mc};b.an=function(a,c){var d=Lc(a);d&&(d.width+=c,a.width+=c,a.Ke||a.Tb)&&(a.bd+=c)};function Mc(a,c,d){a=new h.i.Mk(a.j,a.ys(c,d),a.width-a.$c);c.Tb&&(a.ls=!0);return a}b.ys=function(){return this.j.Mc};
b.rs=function(a,c){return h.i.o.ud(c)?a.Gb+c.height/2:h.i.o.vl(a)?(a=a.Gb+a.height-a.bj,h.i.o.zf(c)?a+c.height/2:a-c.height/2):h.i.o.Dl(a)?h.i.o.Bg(c)?a.ve-c.height/2:a.ve+c.height/2:a.Gb+a.height/2};function Nc(a,c){for(var d=c.na,e=0,f;f=c.elements[e];e++)h.i.o.ud(f)&&(f.height=c.height),f.na=d,f.jf=a.rs(c,f),d+=f.width}
b.gs=function(){for(var a=0,c=0,d=0,e;e=this.rows[d];d++)e.Gb=c,e.na=this.$c,c+=e.height,a=Math.max(a,e.bd),Nc(this,e);this.ji=a+this.$c;this.height=c;this.bm=this.kb.ve;this.Ta.fg=c-this.Ta.bj};h.i.Pb=function(a,c){this.wa=a;this.X=c;a.Ca();this.ul=this.ra="";this.j=c.Kb.j};b=h.i.Pb.prototype;b.draw=function(){Oc(this);Pc(this);Qc(this);this.wa.eb.zp(this.ra+"\n"+this.ul);this.X.D&&this.wa.eb.bo();h.i.kk&&this.wa.qp.zx(this.wa,this.X);Rc(this)};function Rc(a){a.wa.height=a.X.height;a.wa.width=a.X.ji}function Oc(a){for(var c=0,d;d=a.X.Os[c];c++)d.icon.xy.setAttribute("display","none")}
function Pc(a){a.Vn();for(var c=1;c<a.X.rows.length-1;c++){var d=a.X.rows[c];d.Js?a.dj(d):d.Tb?a.Un(d):d.Ke?a.Wn(d):a.Tn(d)}a.Qn();a.Sn()}
b.Vn=function(){var a=this.X.kb,c=a.elements,d=this.X.kb;if(d.connection){var e=d.na+d.Xc;S(d.connection.xn,this.X.D?-e:e,0)}this.ra+=h.g.s.moveBy(a.na,this.X.bm);for(d=0;e=c[d];d++)h.i.o.yf(e)?this.ra+=this.j.Ai.Lp:h.i.o.Zs(e)?this.ra+=this.j.Ai.Yz:h.i.o.Qh(e)?this.ra+=e.shape.Ff:h.i.o.Bg(e)?this.ra+=this.j.se.path:h.i.o.ud(e)&&(this.ra+=h.g.s.R("h",e.width));this.ra+=h.g.s.R("v",a.height)};b.dj=function(a){this.ra+=this.j.kh.path+h.g.s.R("v",a.height-this.j.kh.height)};
b.Wn=function(a){var c=W(a);this.Et(a);var d="function"==typeof c.shape.Yc?c.shape.Yc(c.height):c.shape.Yc;this.ra+=h.g.s.R("H",c.na+c.width)+d+h.g.s.R("v",a.height-c.Ti)};b.Un=function(a){var c=W(a);this.ra+=h.g.s.R("H",c.na+c.Xc+c.shape.width)+(c.shape.At+h.g.s.R("h",-(c.Xc-this.j.vi.width))+this.j.vi.ip)+h.g.s.R("v",a.height-2*this.j.vi.height)+this.j.vi.Rl+h.g.s.R("H",a.na+a.width);this.Ht(a)};b.Tn=function(a){this.ra+=h.g.s.R("V",a.Gb+a.height)};
b.Qn=function(){var a=this.X.Ta,c=a.elements;this.Gt();for(var d=0,e="",f=c.length-1,g;g=c[f];f--)h.i.o.zf(g)?e+=g.shape.At:h.i.o.zj(g)?e+=h.g.s.R("H",a.na):h.i.o.yf(g)?e+=this.j.Ai.ln:h.i.o.Zs(g)?(e+=this.j.Ai.Dw,d=this.j.Ai.wz):h.i.o.ud(g)&&(e+=h.g.s.R("h",-1*g.width));this.ra+=h.g.s.R("V",a.fg-d);this.ra+=e};
b.Sn=function(){var a=this.X.K;if(this.X.K){var c=this.X.$c;S(this.wa.K,this.X.D?-c:c,this.X.K.Sc)}a&&(c=a.Sc+a.height,a="function"==typeof a.shape.Oj?a.shape.Oj(a.height):a.shape.Oj,this.ra+=h.g.s.R("V",c)+a);this.ra+="z"};
function Qc(a){for(var c=0,d;d=a.X.rows[c];c++)for(var e=0,f;f=d.elements[e];e++)if(h.i.o.wf(f))a.Rn(f);else if(h.i.o.Oh(f)||h.i.o.xj(f)){var g=a;if(h.i.o.xj(f))var k=f.fs.qa();else h.i.o.Oh(f)&&(k=f.icon.xy);var l=f.jf-f.height/2,m=f.na,n="";g.X.D&&(m=-(m+f.width),f.Gx&&(m+=f.width,n="scale(-1 1)"));h.i.o.Oh(f)?(k.setAttribute("display","block"),k.setAttribute("transform","translate("+m+","+l+")"),f.icon.Yw()):k.setAttribute("transform","translate("+m+","+l+")"+n);g.X.xf&&k.setAttribute("display",
"none")}}b.Rn=function(a){var c=a.width,d=a.height,e=a.Sc,f=a.Ti+e;this.ul+=h.g.s.moveTo(a.na+a.ze,a.jf-d/2)+h.g.s.R("v",e)+a.shape.Yc+h.g.s.R("v",d-f)+h.g.s.R("h",c-a.ze)+h.g.s.R("v",-d)+"z";this.Ft(a)};b.Ft=function(a){var c=a.jf-a.height/2;if(a.connection){var d=a.na+a.ze;this.X.D&&(d*=-1);S(a.connection,d,c+a.Sc)}};b.Ht=function(a){var c=W(a);if(c.connection){var d=a.na+a.Sg+c.Xc;this.X.D&&(d*=-1);S(c.connection,d,a.Gb)}};
b.Et=function(a){var c=W(a);if(c.connection){var d=a.na+a.width;this.X.D&&(d*=-1);S(c.connection,d,a.Gb)}};b.Gt=function(){var a=this.X.Ta;if(a.connection){a=a.connection;var c=a.na;S(a.xn,this.X.D?-c:c,a.jf-a.height/2)}};h.i.ag=function(a,c){this.j=c;this.ee=a;this.nb=h.g.m.N("path",{"class":"blocklyPath"},this.ee);this.style=h.ed.Wi("#000000");this.zb=null};b=h.i.ag.prototype;b.zp=function(a){this.nb.setAttribute("d",a)};b.bo=function(){this.nb.setAttribute("transform","scale(-1 1)")};b.Pg=function(a){a?(this.ee.appendChild(a),this.zb=a):this.zb=null};b.bi=function(a){a&&(this.zb?this.ee.insertBefore(a,this.zb):this.ee.appendChild(a))};
b.$b=function(a){a?(this.nb.setAttribute("stroke","none"),this.nb.setAttribute("fill",this.style.Qi)):(this.nb.setAttribute("stroke",this.style.xh),this.nb.setAttribute("fill",this.style.kd))};b.ei=function(a){this.style=a};function L(a,c,d){d?h.g.m.pb(a.ee,c):h.g.m.Ec(a.ee,c)}b.eu=function(a){a?this.nb.setAttribute("filter","url(#"+this.j.il+")"):this.nb.setAttribute("filter","none")};b.$e=function(a,c){L(this,"blocklyDisabled",a);a?this.nb.setAttribute("fill","url(#"+this.j.Hn+")"):this.$b(c)};
function Rb(a,c){L(a,"blocklySelected",c)};h.i.df=function(a){this.name=a;this.j=null};b=h.i.df.prototype;
b.Oa=function(){this.j=this.et();this.j.Oa();var a="."+this.name+"-renderer";var c=this.j;c=[a+" .blocklyText {","cursor: default;","fill: #fff;","font-family: "+c.ri+";","font-size: "+c.Dk+"pt;","font-weight: "+c.si+";","}",a+" .blocklyNonEditableText>rect,",a+" .blocklyEditableText>rect {","fill: #fff;","fill-opacity: .6;","stroke: none;","}",a+" .blocklyNonEditableText>text,",a+" .blocklyEditableText>text {","fill: #000;","}",a+" .blocklyEditableText:not(.editing):hover>rect {","stroke: #fff;",
"stroke-width: 2;","}",a+" .blocklyHtmlInput {","font-family: "+c.ri+";","font-weight: "+c.si+";","}",a+" .blocklySelected>.blocklyPath {","stroke: #fc3;","stroke-width: 3px;","}",a+" .blocklyHighlightedConnectionPath {","stroke: #fc3;","}",a+" .blocklyReplaceable .blocklyPath {","fill-opacity: .5;","}",a+" .blocklyReplaceable .blocklyPathLight,",a+" .blocklyReplaceable .blocklyPathDark {","display: none;","}"];a="blockly-renderer-style-"+this.name;if(!document.getElementById(a)){var d=c.join("\n");
c=document.createElement("style");c.id=a;a=document.createTextNode(d);c.appendChild(a);document.head.insertBefore(c,document.head.firstChild)}};b.et=function(){return new h.i.Uf};b.ht=function(a){return new h.i.re(this,a)};b.ft=function(a,c){return new h.i.Pb(a,c)};b.gt=function(a){return new h.i.ag(a,this.j)};b.pa=function(a){if(h.i.kk&&!a.qp){if(!h.i.Vu)throw Error("Missing require for Blockly.blockRendering.Debug");var c=new h.i.Vu;a.qp=c}c=this.ht(a);c.measure();this.ft(a,c).draw()};h.U={};h.U.Uf=function(){h.U.Uf.v.constructor.call(this);this.Ck=!1;this.Ob=1};h.g.object.P(h.U.Uf,h.i.Uf);h.U.wq=function(a){this.X=a;this.sj=this.T="";this.Hb=this.X.D;a=a.Kb;this.j=a.j;this.sd=a.sd;this.ec=this.sd.mh;this.gp=this.sd.Jv;this.Mh=this.sd.mv;this.Rj=this.sd.$f;this.Yy=this.sd.lh;this.Oz=this.sd.se;this.at=this.sd.kh};h.U.wq.prototype.dj=function(a){this.X.D&&(this.T+=h.g.s.R("H",a.width-this.ec),this.T+=this.at.Ff,this.T+=h.g.s.R("v",a.height-this.at.height-this.ec))};
function Sc(a,c){var d=c.na+c.width-a.ec;c.ls&&(a.T+=h.g.s.R("H",d));a.Hb&&(a.T+=h.g.s.R("H",d),c.height>a.ec&&(a.T+=h.g.s.R("V",c.Gb+c.height-a.ec)))};h.U.bf=function(a,c){h.U.bf.v.constructor.call(this,a,c);this.mf&&(this.width+=this.j.Ob,this.height+=this.j.Ob)};h.g.object.P(h.U.bf,h.i.bf);h.U.ef=function(a,c){h.U.ef.v.constructor.call(this,a,c);this.mf&&(this.height+=this.j.Ob)};h.g.object.P(h.U.ef,h.i.ef);h.U.re=function(a,c){h.U.re.v.constructor.call(this,a,c)};h.g.object.P(h.U.re,h.i.re);b=h.U.re.prototype;b.kp=function(){h.U.re.v.kp.call(this);this.wa.J.length&&this.wa.J[this.wa.J.length-1].type==h.ta||(this.Ta.minHeight=this.j.Mc-this.j.Ob)};
b.wr=function(a,c){this.Eo&&a.type==h.Fa?(c.elements.push(new h.U.bf(this.j,a)),c.so=!0):a.type==h.ta?(c.elements.push(new h.U.ef(this.j,a)),c.Tb=!0):a.type==h.Fa?(c.elements.push(new h.i.Ak(this.j,a)),c.Ke=!0):a.type==h.ne&&(c.minHeight=Math.max(c.minHeight,this.j.mq),c.Jh=!0);null==c.align&&(c.align=a.align)};
b.vr=function(){for(var a=!1,c=0,d;d=this.rows[c];c++)d.Ke&&(a=!0);for(c=0;d=this.rows[c];c++){var e=d.elements;d.elements=[];d.cm()&&d.elements.push(new h.i.qe(this.j,this.rg(null,e[0])));for(var f=0;f<e.length-1;f++){d.elements.push(e[f]);var g=this.rg(e[f],e[f+1]);d.elements.push(new h.i.qe(this.j,g))}d.elements.push(e[e.length-1]);d.fj()&&(g=this.rg(e[e.length-1],null),a&&d.Jh&&(g+=this.j.Um),d.elements.push(new h.i.qe(this.j,g)))}};
b.rg=function(a,c){if(!a)return c&&h.i.o.xj(c)&&c.Cc?this.j.Mc:c&&h.i.o.wf(c)?this.j.Hq:c&&h.i.o.Rh(c)?this.j.ar:this.j.Yb;if(!h.i.o.td(a)&&!c)return h.i.o.xj(a)&&a.Cc?this.j.Mc:h.i.o.Oh(a)?2*this.j.Yb+1:h.i.o.Bg(a)?this.j.Hd:h.i.o.Iy(a)?this.j.Yb:h.i.o.yf(a)?this.j.Cv:h.i.o.Xs(a)?this.j.Hd:this.j.Yb;if(h.i.o.td(a)&&!c){if(h.i.o.wj(a))return this.j.Hd;if(h.i.o.wf(a))return this.j.Yb;if(h.i.o.Rh(a))return this.j.Hd}if(!h.i.o.td(a)&&c&&h.i.o.td(c)){if(a.Cc){if(h.i.o.wf(c)||h.i.o.wj(c))return this.j.Pv}else{if(h.i.o.wf(c)||
h.i.o.wj(c))return this.j.Hq;if(h.i.o.Rh(c))return this.j.Yb}return this.j.Yb-1}if(h.i.o.Oh(a)&&c&&!h.i.o.td(c))return this.j.Yb;if(h.i.o.wf(a)&&c&&!h.i.o.td(c))return c.Cc?this.j.Mc:this.j.Yb;if(h.i.o.zj(a)&&c){if(h.i.o.Bg(c))return this.j.Hd;if(h.i.o.Qh(c))return c.Xc;if(h.i.o.zf(c))return a=(this.D?1:-1)*this.j.Ob/2,c.Xc+a}if(h.i.o.yf(a)&&c){if(h.i.o.Qh(c))return c.Xc-this.j.je;if(h.i.o.zf(c))return a=(this.D?1:-1)*this.j.Ob/2,c.Xc-this.j.je+a}return!h.i.o.td(a)&&c&&!h.i.o.td(c)&&a.Cc==c.Cc||c&&
h.i.o.Xs(c)?this.j.Yb:this.j.Mc};b.an=function(a,c){a:{var d=0;for(var e;e=a.elements[d];d++)if(h.i.o.ud(e)){d=e;break a}d=null}e=Lc(a);if(a.Ke||a.Tb)a.bd+=c;a.align==h.nm?e.width+=c:a.align==h.mm?(d.width+=c/2,e.width+=c/2):a.align==h.mk?d.width+=c:e.width+=c;a.width+=c};b.ys=function(a,c){return h.i.o.Dl(a)&&h.i.o.vl(c)?this.j.Wu:h.i.o.Dl(a)||h.i.o.vl(c)?this.j.Hd:a.Ke&&c.Ke?this.j.Yb:!a.Tb&&c.Tb?this.j.zu:a.Tb&&c.Tb||!a.Tb&&c.Jh||a.Jh?this.j.Yb:this.j.Mc};
b.rs=function(a,c){if(h.i.o.ud(c))return a.Gb+c.height/2;if(h.i.o.vl(a))return a=a.Gb+a.height-a.bj,h.i.o.zf(c)?a+c.height/2:a-c.height/2;if(h.i.o.Dl(a))return h.i.o.Bg(c)?a.ve-c.height/2:a.ve+c.height/2;var d=a.Gb;h.i.o.xj(c)||h.i.o.Oh(c)?(d+=c.height/2,(a.so||a.Tb)&&c.height+this.j.dr<=a.height&&(d+=this.j.dr)):d=h.i.o.wf(c)?d+c.height/2:d+a.height/2;return d};
b.gs=function(){for(var a=0,c=0,d=0,e;e=this.rows[d];d++){e.Gb=c;e.na=this.$c;c+=e.height;a=Math.max(a,e.bd);var f=c-this.kb.th;e==this.Ta&&f<this.j.Im&&(f=this.j.Im-f,this.Ta.height+=f,c+=f);Nc(this,e)}this.Ta.fg=c-this.Ta.bj;this.ji=a+this.$c+this.j.Ob;this.width+=this.j.Ob;this.height=c+this.j.Ob;this.bm=this.kb.ve};h.U.Pb=function(a,c){h.U.Pb.v.constructor.call(this,a,c);this.Wd=new h.U.wq(c)};h.g.object.P(h.U.Pb,h.i.Pb);b=h.U.Pb.prototype;b.draw=function(){Oc(this);Pc(this);Qc(this);var a=this.wa.eb;a.zp(this.ra+"\n"+this.ul);var c=this.Wd;a.Tg.setAttribute("d",c.T+"\n"+c.sj);this.X.D&&a.bo();h.i.kk&&this.wa.qp.zx(this.wa,this.X);Rc(this)};
b.Vn=function(){var a=this.Wd,c=this.X.kb;a.T+=h.g.s.moveBy(c.na,a.X.bm);for(var d=0,e;e=c.elements[d];d++)h.i.o.zj(e)?a.T+=a.sd.Zq:h.i.o.yf(e)?a.T+=a.gp.Lp(a.Hb):h.i.o.Qh(e)?a.T+=a.Yy.Ff:h.i.o.Bg(e)?a.T+=a.Oz.path(a.Hb):h.i.o.ud(e)&&0!=e.width&&(a.T+=h.g.s.R("H",e.na+e.width-a.ec));a.T+=h.g.s.R("H",c.na+c.width-a.ec);Sc(this.Wd,this.X.kb);h.U.Pb.v.Vn.call(this)};b.dj=function(a){this.Wd.dj(a);h.U.Pb.v.dj.call(this,a)};
b.Wn=function(a){var c=this.Wd,d=W(a);if(c.Hb){var e=a.height-d.Ti;c.T+=h.g.s.moveTo(d.na+d.width-c.ec,a.Gb)+c.Rj.Yc(c.Hb)+h.g.s.R("v",e)}else c.T+=h.g.s.moveTo(d.na+d.width,a.Gb)+c.Rj.Yc(c.Hb);h.U.Pb.v.Wn.call(this,a)};
b.Un=function(a){var c=this.Wd,d=W(a);if(c.Hb){var e=a.height-2*c.Mh.height;c.T+=h.g.s.moveTo(d.na,a.Gb)+c.Mh.ip(c.Hb)+h.g.s.R("v",e)+c.Mh.Rl(c.Hb)+h.g.s.lineTo(a.width-d.na-c.Mh.width,0)}else c.T+=h.g.s.moveTo(d.na,a.Gb+a.height)+c.Mh.Rl(c.Hb)+h.g.s.lineTo(a.width-d.na-c.Mh.width,0);h.U.Pb.v.Un.call(this,a)};b.Tn=function(a){Sc(this.Wd,a);h.U.Pb.v.Tn.call(this,a)};
b.Qn=function(){var a=this.Wd,c=this.X.Ta;if(a.Hb)a.T+=h.g.s.R("V",c.fg-a.ec);else{var d=a.X.Ta.elements[0];h.i.o.zj(d)?a.T+=h.g.s.moveTo(c.na+a.ec,c.fg-a.ec):h.i.o.yf(d)&&(a.T+=h.g.s.moveTo(c.na,c.fg),a.T+=a.gp.ln())}h.U.Pb.v.Qn.call(this)};
b.Sn=function(){var a=this.Wd,c=a.X.K;c&&(c=c.Sc+c.height,a.Hb?a.T+=h.g.s.moveTo(a.X.$c,c):(a.T+=h.g.s.moveTo(a.X.$c+a.ec,a.X.Ta.fg-a.ec),a.T+=h.g.s.R("V",c)),a.T+=a.Rj.Oj(a.Hb));a.Hb||(c=a.X.kb,a.T=h.i.o.yf(c.elements[0])?a.T+h.g.s.R("V",a.gp.height):a.T+h.g.s.R("V",c.ve+a.ec));h.U.Pb.v.Sn.call(this)};
b.Rn=function(a){var c=this.Wd,d=c.ec,e=a.na+a.ze,f=a.jf-a.height/2,g=a.width-a.ze,k=f+d;if(c.Hb){f=a.Sc-d;var l=a.height-(a.Sc+a.Ti)+d;c.sj+=h.g.s.moveTo(e-d,k)+h.g.s.R("v",f)+c.Rj.Yc(c.Hb)+h.g.s.R("v",l)+h.g.s.R("h",g)}else c.sj+=h.g.s.moveTo(a.na+a.width+d,k)+h.g.s.R("v",a.height)+h.g.s.R("h",-g)+h.g.s.moveTo(e,f+a.Sc)+c.Rj.Yc(c.Hb);h.U.Pb.v.Rn.call(this,a)};b.Ft=function(a){var c=a.jf-a.height/2;if(a.connection){var d=a.na+a.ze+this.j.Ob;this.X.D&&(d*=-1);S(a.connection,d,c+a.Sc+this.j.Ob)}};
b.Ht=function(a){var c=W(a);if(c.connection){var d=a.na+a.Sg+c.Xc;d=this.X.D?-1*d:d+this.j.Ob;S(c.connection,d,a.Gb+this.j.Ob)}};b.Et=function(a){var c=W(a);if(c.connection){var d=a.na+a.width+this.j.Ob;this.X.D&&(d*=-1);S(c.connection,d,a.Gb)}};b.Gt=function(){var a=this.X.Ta;if(a.connection){a=a.connection;var c=a.na;S(a.xn,(this.X.D?-c:c)+this.j.Ob/2,a.jf-a.height/2+this.j.Ob)}};h.U.ui=function(a){this.yh=a;this.mh=.5;this.Zq=h.g.s.moveBy(this.mh,this.mh);this.mv=Tc(this);this.Jv=Uc(this);this.$f=this.Po();this.lh=this.Oo();this.kh=this.No();this.se=this.Qo()};
function Tc(a){var c=a.yh.je;a=a.mh;var d=(1-Math.SQRT1_2)*(c+a)-a,e=h.g.s.moveBy(d,d)+h.g.s.arc("a","0 0,0",c,h.g.s.ka(-d-a,c-d)),f=h.g.s.arc("a","0 0,0",c+a,h.g.s.ka(c+a,c+a)),g=h.g.s.moveBy(d,-d)+h.g.s.arc("a","0 0,0",c+a,h.g.s.ka(c-d,d+a));return{width:c+a,height:c,ip:function(k){return k?e:""},Rl:function(k){return k?f:g}}}
function Uc(a){var c=a.yh.je;a=a.mh;var d=(1-Math.SQRT1_2)*(c-a)+a,e=h.g.s.moveBy(d,d)+h.g.s.arc("a","0 0,1",c-a,h.g.s.ka(c-d,-d+a)),f=h.g.s.moveBy(a,c)+h.g.s.arc("a","0 0,1",c-a,h.g.s.ka(c,-c+a)),g=-d,k=h.g.s.moveBy(d,g)+h.g.s.arc("a","0 0,1",c-a,h.g.s.ka(-d+a,-g-c));return{height:c,Lp:function(l){return l?e:f},ln:function(){return k}}}
h.U.ui.prototype.Po=function(){var a=this.yh.Um,c=this.yh.Nk,d=h.g.s.moveBy(-2,-c+3.4)+h.g.s.lineTo(-.45*a,-2.1),e=h.g.s.R("v",2.5)+h.g.s.moveBy(.97*-a,2.5)+h.g.s.curve("q",[h.g.s.ka(.05*-a,10),h.g.s.ka(.3*a,9.5)])+h.g.s.moveBy(.67*a,-1.9)+h.g.s.R("v",2.5),f=h.g.s.R("v",-1.5)+h.g.s.moveBy(-.92*a,-.5)+h.g.s.curve("q",[h.g.s.ka(-.19*a,-5.5),h.g.s.ka(0,-11)])+h.g.s.moveBy(.92*a,1),g=h.g.s.moveBy(-5,c-.7)+h.g.s.lineTo(.46*a,-2.1);return{width:a,height:c,Oj:function(k){return k?d:f},Yc:function(k){return k?
e:g}}};h.U.ui.prototype.Oo=function(){return{Ff:h.g.s.R("h",this.mh)+this.yh.lh.Ff}};h.U.ui.prototype.No=function(){return{Ff:h.g.s.lineTo(5.1,2.6)+h.g.s.moveBy(-10.2,6.8)+h.g.s.lineTo(5.1,2.6)}};h.U.ui.prototype.Qo=function(){var a=this.yh.se.height,c=h.g.s.moveBy(25,-8.7)+h.g.s.curve("c",[h.g.s.ka(29.7,-6.2),h.g.s.ka(57.2,-.5),h.g.s.ka(75,8.7)]),d=h.g.s.curve("c",[h.g.s.ka(17.8,-9.2),h.g.s.ka(45.3,-14.9),h.g.s.ka(75,-8.7)])+h.g.s.moveTo(100.5,a+.5);return{path:function(e){return e?c:d}}};h.U.ag=function(a,c){this.j=c;this.ee=a;this.dk=h.g.m.N("path",{"class":"blocklyPathDark",transform:"translate(1,1)"},this.ee);this.nb=h.g.m.N("path",{"class":"blocklyPath"},this.ee);this.Tg=h.g.m.N("path",{"class":"blocklyPathLight"},this.ee);this.tn="#000000";this.style=h.ed.Wi("#000000")};h.g.object.P(h.U.ag,h.i.ag);b=h.U.ag.prototype;b.zp=function(a){this.nb.setAttribute("d",a);this.dk.setAttribute("d",a)};
b.bo=function(){this.nb.setAttribute("transform","scale(-1 1)");this.Tg.setAttribute("transform","scale(-1 1)");this.dk.setAttribute("transform","translate(1,1) scale(-1 1)")};
b.$b=function(a){a?(this.Tg.style.display="none",this.dk.setAttribute("fill",this.style.Qi),this.nb.setAttribute("stroke","none"),this.nb.setAttribute("fill",this.style.Qi)):(this.Tg.style.display="",this.dk.style.display="",this.nb.setAttribute("stroke","none"),this.Tg.setAttribute("stroke",this.style.xh),this.dk.setAttribute("fill",this.tn),this.nb.setAttribute("fill",this.style.kd))};b.ei=function(a){this.style=a;this.tn=h.g.$a.Mi("#000",this.style.kd,.2)||this.tn};
b.eu=function(a){a?(this.nb.setAttribute("filter","url(#"+this.j.il+")"),this.Tg.style.display="none"):(this.nb.setAttribute("filter","none"),this.Tg.style.display="inline")};b.$e=function(a,c){a?this.nb.setAttribute("fill","url(#"+this.j.Hn+")"):this.$b(c)};h.U.df=function(a){h.U.df.v.constructor.call(this,a);this.sd=null};h.g.object.P(h.U.df,h.i.df);b=h.U.df.prototype;b.Oa=function(){h.U.df.v.Oa.call(this);this.sd=new h.U.ui(this.j)};b.et=function(){return new h.U.Uf};b.ht=function(a){return new h.U.re(this,a)};b.ft=function(a,c){return new h.U.Pb(a,c)};b.gt=function(a){return new h.U.ag(a,this.j)};h.i.register("geras",h.U.df);h.G.ADD_COMMENT="Add Comment";h.G.CANNOT_DELETE_VARIABLE_PROCEDURE="Can't delete the variable '%1' because it's part of the definition of the function '%2'";h.G.CLEAN_UP="Clean up Blocks";h.G.COLLAPSED_WARNINGS_WARNING="Collapsed blocks contain warnings.";h.G.COLLAPSE_ALL="Collapse Blocks";h.G.COLLAPSE_BLOCK="Collapse Block";h.G.DELETE_ALL_BLOCKS="Delete all %1 blocks?";h.G.DELETE_BLOCK="Delete Block";h.G.DELETE_VARIABLE_CONFIRMATION="Delete %1 uses of the '%2' variable?";h.G.DELETE_X_BLOCKS="Delete %1 Blocks";
h.G.DISABLE_BLOCK="Disable Block";h.G.DUPLICATE_BLOCK="Duplicate";h.G.DUPLICATE_COMMENT="Duplicate Comment";h.G.ENABLE_BLOCK="Enable Block";h.G.EXPAND_ALL="Expand Blocks";h.G.EXPAND_BLOCK="Expand Block";h.G.EXTERNAL_INPUTS="External Inputs";h.G.HELP="Help";h.G.INLINE_INPUTS="Inline Inputs";h.G.NEW_VARIABLE="Create variable...";h.G.NEW_VARIABLE_TITLE="New variable name:";h.G.PROCEDURES_DEFNORETURN_PROCEDURE="do something";h.G.REDO="Redo";h.G.REMOVE_COMMENT="Remove Comment";h.G.RENAME_VARIABLE="Rename variable...";
h.G.RENAME_VARIABLE_TITLE="Rename all '%1' variables to:";h.G.UNDO="Undo";h.G.UNNAMED_KEY="unnamed";h.G.VARIABLE_ALREADY_EXISTS="A variable named '%1' already exists.";h.G.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE="A variable named '%1' already exists for another type: '%2'.";h.G.WORKSPACE_COMMENT_DEFAULT_TEXT="Say something...";h.G.PROCEDURES_DEFRETURN_PROCEDURE=h.G.PROCEDURES_DEFNORETURN_PROCEDURE;var Y={ej:null,Cw:!1,Oa:function(){zc();var a=document.getElementById("linkButton");"BlocklyStorage"in window?(BlocklyStorage.HTTPREQUEST_ERROR=V("Games_httpRequestError"),BlocklyStorage.LINK_ALERT=V("Games_linkAlert"),BlocklyStorage.HASH_ERROR=V("Games_hashError"),BlocklyStorage.XML_ERROR=V("Games_xmlError"),BlocklyStorage.alert=X.Qz.bind(X,a),a&&Ec(a,BlocklyStorage.link)):a&&(a.style.display="none");(a=document.getElementById("languageMenu"))&&a.addEventListener("change",Y.Jw,!0)},ED:function(a,
c){if("BlocklyStorage"in window&&1<window.location.hash.length)BlocklyStorage.retrieveXml(window.location.hash.substring(1));else{var d=null;try{d=window.sessionStorage.Fl}catch(g){}d&&delete window.sessionStorage.Fl;var e=Ac(U),f=c&&Ac(U-1);f&&"function"==typeof c&&(f=c(f));(a=d||e||f||a)&&Y.St(a)}},St:function(a){Y.ej?Y.ej.setValue(a,-1):(a=h.I.Xe(a),B.clear(),h.I.Ee(a,B),bb())},ho:function(){if(Y.ej)var a=Y.ej.getValue();else{a=h.I.eA();if(1==B.cc(!1).length&&a.querySelector){var c=a.querySelector("block");
c&&(c.removeAttribute("x"),c.removeAttribute("y"))}a=h.I.De(a)}return a},Zx:function(){return Y.Cw?Y.ej.getValue():h.nB.kE(B)},rl:function(){return B},xz:function(){window.localStorage&&(window.localStorage[Cc+U]=Y.ho())},qj:function(){window.location=(tc?"index.html":"./")+"?lang="+rc},yz:function(){window.sessionStorage&&(window.sessionStorage.Fl=Y.ho())},Jw:function(){Y.yz();var a=document.getElementById("languageMenu");a=encodeURIComponent(a.options[a.selectedIndex].value);var c=window.location.search;
c=1>=c.length?"?lang="+a:/[?&]lang=[^&]*/.test(c)?c.replace(/([?&]lang=)[^&]*/,"$1"+a):c.replace(/\?/,"?lang="+a+"&");window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+c},Yo:function(){10>U?window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+"?lang="+rc+"&level="+(U+1):Y.qj()},Ps:function(a,c){if(a){var d=a.match(/^block_id_([^']+)$/);d&&(a=d[1])}var e=a;a=B;if(void 0===c){for(var f=0;d=a.oj[f];f++)d.Ue(!1);a.oj.length=
0}if(d=e?a.jc(e):null)(c=void 0===c||c)?-1==a.oj.indexOf(d)&&a.oj.push(d):h.g.Ji(a.oj,d),d.Ue(c)},By:function(a,c){a=document.getElementById(a);a.firstChild||(a=h.tf(a,{rtl:uc(),readOnly:!0}),"string"!=typeof c&&(c=c.join("")),h.I.Ee(h.I.Xe(c),a))},Rz:function(a){a=a.replace(/(,\s*)?'block_id_[^']+'\)/g,")");return a.replace(/\s+$/,"")},pf:function(a){if("click"==a.type&&"touchend"==Y.pf.op&&Y.pf.mp+2E3>Date.now()||Y.pf.op==a.type&&Y.pf.mp+400>Date.now())return a.preventDefault(),a.stopPropagation(),
!0;Y.pf.op=a.type;Y.pf.mp=Date.now();return!1}};Y.pf.op=null;Y.pf.mp=0;Y.rD=function(){setTimeout(function(){var a=document.createElement("script");a.type="text/javascript";a.src="third-party/JS-Interpreter/compressed.js";document.head.appendChild(a)},1)};
Y.sD=function(){setTimeout(function(){var a=document.createElement("link");a.rel="stylesheet";a.type="text/css";a.href="common/prettify.css";document.head.appendChild(a);a=document.createElement("script");a.type="text/javascript";a.src="common/prettify.js";document.head.appendChild(a)},1)};window.BlocklyInterface=Y;Y.setCode=Y.St;Y.getCode=Y.ho;Y.getWorkspace=Y.rl;var X={Oe:!1,Xr:null,al:null,Xj:function(a,c,d,e,f,g){function k(){X.Oe&&(l.style.visibility="visible",l.style.zIndex=10,m.style.visibility="hidden")}if(!a)throw TypeError("Content not found: "+a);X.Oe&&X.Le(!1);h.la()&&h.dc(!0);X.Oe=!0;X.Xr=c;X.al=g;var l=document.getElementById("dialog");g=document.getElementById("dialogShadow");var m=document.getElementById("dialogBorder"),n;for(n in f)l.style[n]=f[n];e&&(g.style.visibility="visible",g.style.opacity=.3,g.style.zIndex=9,e=document.createElement("div"),
e.id="dialogHeader",l.appendChild(e),X.Dn=h.gg(e,"mousedown",X.nx));l.appendChild(a);a.className=a.className.replace("dialogHiddenContent","");d&&c?(X.Hl(c,!1,.2),X.Hl(l,!0,.8),setTimeout(k,175)):k()},Yr:0,Zr:0,nx:function(a){X.Gn();if(!h.g.Bj(a)){var c=document.getElementById("dialog");X.Yr=c.offsetLeft-a.clientX;X.Zr=c.offsetTop-a.clientY;X.Fn=h.gg(document,"mouseup",X.Gn);X.En=h.gg(document,"mousemove",X.ox);a.stopPropagation()}},ox:function(a){var c=document.getElementById("dialog"),d=X.Yr+a.clientX;
a=X.Zr+a.clientY;a=Math.max(a,0);a=Math.min(a,window.innerHeight-c.offsetHeight);d=Math.max(d,0);d=Math.min(d,window.innerWidth-c.offsetWidth);c.style.left=d+"px";c.style.top=a+"px"},Gn:function(){X.Fn&&(h.ab(X.Fn),X.Fn=null);X.En&&(h.ab(X.En),X.En=null)},Le:function(a){function c(){e.style.zIndex=-1;e.style.visibility="hidden";document.getElementById("dialogBorder").style.visibility="hidden"}if(X.Oe){X.Gn();X.Dn&&(h.ab(X.Dn),X.Dn=null);X.Oe=!1;X.al&&X.al();X.al=null;var d=!1===a?null:X.Xr;a=document.getElementById("dialog");
var e=document.getElementById("dialogShadow");e.style.opacity=0;d&&a?(X.Hl(a,!1,.8),X.Hl(d,!0,.2),setTimeout(c,175)):c();a.style.visibility="hidden";a.style.zIndex=-1;for((d=document.getElementById("dialogHeader"))&&d.parentNode.removeChild(d);a.firstChild;)d=a.firstChild,d.className+=" dialogHiddenContent",document.body.appendChild(d)}},Hl:function(a,c,d){function e(){f.style.width=g.width+"px";f.style.height=g.height+"px";f.style.left=g.x+"px";f.style.top=g.y+"px";f.style.opacity=d}if(a){var f=
document.getElementById("dialogBorder"),g=X.Nx(a);c?(f.className="dialogAnimate",setTimeout(e,1)):(f.className="",e());f.style.visibility="visible"}},Nx:function(a){var c=h.g.style.jj(a);c={x:c.x,y:c.y};a.getBBox?(a=a.getBBox(),c.height=a.height,c.width=a.width):(c.height=a.offsetHeight,c.width=a.offsetWidth);return c},Qz:function(a,c){var d=document.getElementById("containerStorage");d.textContent="";c=c.split("\n");for(var e=0;e<c.length;e++){var f=document.createElement("p");f.appendChild(document.createTextNode(c[e]));
d.appendChild(f)}d=document.getElementById("dialogStorage");X.Xj(d,a,!0,!0,{width:"50%",left:"25%",top:"5em"},X.Gp);X.Ep()},ow:function(){if(!Ac(U))if(X.Oe||B.Bc())setTimeout(X.ow,15E3);else{var a=document.getElementById("dialogAbort"),c=document.getElementById("abortCancel");c.addEventListener("click",X.Le,!0);c.addEventListener("touchend",X.Le,!0);c=document.getElementById("abortOk");c.addEventListener("click",Y.qj,!0);c.addEventListener("touchend",Y.qj,!0);X.Xj(a,null,!1,!0,{width:"40%",left:"30%",
top:"3em"},function(){document.body.removeEventListener("keydown",X.tr,!0)});document.body.addEventListener("keydown",X.tr,!0)}},$C:function(){var a=document.getElementById("dialogDone");if(B){var c=document.getElementById("dialogLinesText");c.textContent="";var d=Y.Zx();d=Y.Rz(d);var e=d.replace(/\/\/[^\n]*/g,"");e=e.replace(/\/\*.*\*\//g,"");e=e.replace(/[ \t]+\n/g,"\n");e=e.replace(/\n+/g,"\n");e=e.trim();e=e.split("\n").length;var f=document.getElementById("containerCode");f.textContent=d;"function"==
typeof prettyPrintOne&&(d=f.innerHTML,d=prettyPrintOne(d,"js"),f.innerHTML=d);d=1==e?V("Games_linesOfCode1"):V("Games_linesOfCode2").replace("%1",String(e));c.appendChild(document.createTextNode(d))}d=10>U?V("Games_nextLevel").replace("%1",String(U+1)):V("Games_finalLevel");c=document.getElementById("doneCancel");c.addEventListener("click",X.Le,!0);c.addEventListener("touchend",X.Le,!0);c=document.getElementById("doneOk");c.addEventListener("click",Y.Yo,!0);c.addEventListener("touchend",Y.Yo,!0);
X.Xj(a,null,!1,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",X.Ir,!0)});document.body.addEventListener("keydown",X.Ir,!0);document.getElementById("dialogDoneText").textContent=d},Wr:function(a){!X.Oe||13!=a.keyCode&&27!=a.keyCode&&32!=a.keyCode||(X.Le(!0),a.stopPropagation(),a.preventDefault())},Ep:function(){document.body.addEventListener("keydown",X.Wr,!0)},Gp:function(){document.body.removeEventListener("keydown",X.Wr,!0)},Ir:function(a){if(13==a.keyCode||
27==a.keyCode||32==a.keyCode)X.Le(!0),a.stopPropagation(),a.preventDefault(),27!=a.keyCode&&Y.Yo()},tr:function(a){if(13==a.keyCode||27==a.keyCode||32==a.keyCode)X.Le(!0),a.stopPropagation(),a.preventDefault(),27!=a.keyCode&&Y.qj()}};window.BlocklyDialogs=X;X.hideDialog=X.Le;var Vc=Vc||{};function Wc(a,c){function d(){}d.prototype=c.prototype;a.v=c.prototype;a.prototype=new d;a.prototype.constructor=a;a.OC=function(e,f,g){return c.prototype[f].apply(e,Array.prototype.slice.call(arguments,2))}}if(!Xc){var Xc,Yc="";"undefined"!==typeof navigator&&navigator&&"string"==typeof navigator.userAgent&&(Yc=navigator.userAgent);var Zc=0==Yc.indexOf("Opera");Xc={DD:{gB:"ScriptEngine"in window},WB:Zc,oe:!Zc&&-1!=Yc.indexOf("MSIE"),mr:!Zc&&-1!=Yc.indexOf("WebKit")}}if(!$c)var $c={};
if(!ad)var ad={};if(!bd)var bd={};if(!cd)var cd={};if(!dd)var dd={};if(!ed)var ed={};var fd=Vc.Pu?{QD:!0}:{},gd=Vc.Pu?{RD:!0}:{};function hd(){throw Error("Do not instantiate directly");}hd.prototype.Mr=null;hd.prototype.toString=function(){return this.content};function id(a){if(null!=a)switch(a.Mr){case 1:return 1;case -1:return-1;case 0:return 0}return null}function jd(){hd.call(this)}Wc(jd,hd);jd.prototype.Nr=fd;
function Z(a){return null!=a&&a.Nr===fd?a:kd(String(String(a)).replace(ld,md),id(a))}var kd=function(a){function c(){}c.prototype=a.prototype;return function(d,e){var f=new c;f.content=String(d);void 0!==e&&(f.Mr=e);return f}}(jd),nd={"\x00":"&#0;",'"':"&quot;","&":"&amp;","'":"&#39;","<":"&lt;",">":"&gt;","\t":"&#9;","\n":"&#10;","\x0B":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;","-":"&#45;","/":"&#47;","=":"&#61;","`":"&#96;","\u0085":"&#133;","\u00a0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};
function md(a){return nd[a]}var ld=/[\x00\x22\x26\x27\x3c\x3e]/g;function od(){return'<div class="farSide" style="padding: 1ex 3ex 0"><button class="secondary" onclick="BlocklyDialogs.hideDialog(true)">OK</button></div>'};function pd(){var a={lang:rc,vy:tc},c='<table width="100%"><tr><td><h1><span id="title">'+((a.vy?'<a href="index.html?lang='+Z(a.lang)+'">':'<a href="./?lang='+Z(a.lang)+'">')+"Blockly Games</a> : "+Z("Puzzle")+"</span>");if(a.level){for(var d=" &nbsp; ",e=a.Py+1,f=1;f<e;f++)d+=" "+(f==a.level?'<span class="level_number level_done" id="level'+Z(f)+'">'+Z(f)+"</span>":f==a.Py?'<a class="level_number" id="level'+Z(f)+'" href="?lang='+Z(a.lang)+"&level="+Z(f)+Z("")+'">'+Z(f)+"</a>":'<a class="level_dot" id="level'+
Z(f)+'" href="?lang='+Z(a.lang)+"&level="+Z(f)+Z("")+'"></a>');a=d}else a="";return'<div style="display: none"><span id="Puzzle_animal1">Duck</span><span id="Puzzle_animal1Pic">duck.jpg</span><span id="Puzzle_animal1PicHeight">70</span><span id="Puzzle_animal1PicWidth">100</span><span id="Puzzle_animal1Legs">&nbsp;&nbsp;2&nbsp;&nbsp;</span><span id="Puzzle_animal1Trait1">Feathers</span><span id="Puzzle_animal1Trait2">Beak</span><span id="Puzzle_animal1HelpUrl">https://en.wikipedia.org/wiki/Duck</span><span id="Puzzle_animal2">Cat</span><span id="Puzzle_animal2Pic">cat.jpg</span><span id="Puzzle_animal2PicHeight">70</span><span id="Puzzle_animal2PicWidth">100</span><span id="Puzzle_animal2Legs">&nbsp;&nbsp;4&nbsp;&nbsp;</span><span id="Puzzle_animal2Trait1">Whiskers</span><span id="Puzzle_animal2Trait2">Fur</span><span id="Puzzle_animal2HelpUrl">https://en.wikipedia.org/wiki/Cat</span><span id="Puzzle_animal3">Bee</span><span id="Puzzle_animal3Pic">bee.jpg</span><span id="Puzzle_animal3PicHeight">70</span><span id="Puzzle_animal3PicWidth">100</span><span id="Puzzle_animal3Legs">&nbsp;&nbsp;6&nbsp;&nbsp;</span><span id="Puzzle_animal3Trait1">Honey</span><span id="Puzzle_animal3Trait2">Stinger</span><span id="Puzzle_animal3HelpUrl">https://en.wikipedia.org/wiki/Bee</span><span id="Puzzle_animal4">Snail</span><span id="Puzzle_animal4Pic">snail.jpg</span><span id="Puzzle_animal4PicHeight">70</span><span id="Puzzle_animal4PicWidth">100</span><span id="Puzzle_animal4Legs">&nbsp;&nbsp;0&nbsp;&nbsp;</span><span id="Puzzle_animal4Trait1">Shell</span><span id="Puzzle_animal4Trait2">Slime</span><span id="Puzzle_animal4HelpUrl">https://en.wikipedia.org/wiki/Snail</span><span id="Puzzle_picture">picture:</span><span id="Puzzle_legs">legs:</span><span id="Puzzle_legsChoose">choose...</span><span id="Puzzle_traits">traits:</span><span id="Puzzle_error0">Perfect!\nAll %1 blocks are correct.</span><span id="Puzzle_error1">Almost! One block is incorrect.</span><span id="Puzzle_error2">%1 blocks are incorrect.</span><span id="Puzzle_tryAgain">The highlighted block is not correct.\nKeep trying.</span></div>'+
(c+a+'</h1></td><td id="header_cta" class="farSide"><select id="languageMenu"></select>&nbsp;<button id="helpButton">Help</button>&nbsp;'+('<button id="checkButton" class="primary">Check Answers</button>'.Nr===gd?"zSoyz":'<button id="checkButton" class="primary">Check Answers</button>')+'</td></tr></table><div id="blockly"></div><div id="dialogShadow" class="dialogAnimate"></div><div id="dialogBorder"></div><div id="dialog"></div><div id="help" class="dialogHiddenContent"><div style="padding-bottom: 0.7ex">For each animal (green), attach its picture, choose its number of legs, and make a stack of its traits.</div><div id="sample" class="readonly"></div>')+
od()+'</div><div id="answers" class="dialogHiddenContent"><div id="answerMessage"></div><div id="graph"><div id="graphValue"></div></div>'+od()+"</div>"};h.Ka=function(a,c,d){"function"!=typeof a&&h.Ka.fu(a);this.Uh=a;this.nl=null;this.Tj=0;this.Hp=this.lp=null;a=this.Uh;if(Array.isArray(a)){for(var e=!1,f=0;f<a.length;f++){var g=a[f][0];"string"==typeof g?a[f][0]=h.g.pc(g):(null!=g.alt&&(a[f][0].alt=h.g.pc(g.alt)),e=!0)}if(!(e||2>a.length)){e=[];for(f=0;f<a.length;f++)e.push(a[f][0]);f=h.g.za.Bp(e);g=h.g.za.Uw(e,f);var k=h.g.za.Vw(e,f);!g&&!k||f<=g+k||(g&&(this.lp=e[0].substring(0,g-1)),k&&(this.Hp=e[0].substr(1-k)),this.Uh=h.Ka.vw(a,g,k))}}a=this.getOptions(!1)[0];
h.Ka.v.constructor.call(this,a[1],c,d);this.hi=this.Rc=this.kc=this.Wc=this.Og=null};h.g.object.P(h.Ka,h.Kc);h.Ka.ga=function(a){return new h.Ka(a.options,void 0,a)};h.Ka.prototype.Yq=!0;h.Ka.qA=25;h.Ka.zB=.45;h.Ka.jv=5;h.Ka.kv=2*h.Ka.jv;h.Ka.Up=h.g.userAgent.nk?"\u25bc":"\u25be";b=h.Ka.prototype;b.Ku="default";
b.rj=function(){h.Ka.v.rj.call(this);this.kc=h.g.m.N("image",{},this.yc);this.j.av?(this.hi=h.g.m.N("image",{height:this.j.Bk+"px",width:this.j.Bk+"px"},this.yc),this.hi.setAttributeNS(h.g.m.dg,"xlink:href",this.j.YA)):(this.Rc=h.g.m.N("tspan",{},this.Cb),this.Rc.appendChild(document.createTextNode(this.H.D?h.Ka.Up+" ":" "+h.Ka.Up)),this.H.D?this.Cb.insertBefore(this.Rc,this.Ug):this.Cb.appendChild(this.Rc))};
b.Yj=function(){var a=new h.Xf;ea(a,this.H.D);a.di(h.g.Sa.Bi.tv);var c=this.getOptions(!1);this.Og=null;for(var d=0;d<c.length;d++){var e=c[d][0],f=c[d][1];if("object"==typeof e){var g=new Image(e.width,e.height);g.src=e.src;g.alt=e.alt||"";e=g}e=new h.Hk(e);e.di(h.g.Sa.Bi.Hv);ea(e,this.H.D);e.setValue(f);e.Ni=!0;da(a,e);Nb(e,f==this.he);f==this.he&&(this.Og=e);Ob(e,this.my,this)}h.g.Sa.Rg(a.W,h.g.Sa.State.su,this.Og?this.Og.hb():"");this.Wc=a;this.Wc.pa(h.u.Wx());h.g.m.pb(this.Wc.W,"blocklyDropdownMenu");
h.u.Iz(this,this.Ax.bind(this));this.Wc.focus();this.Og&&h.g.style.Rt(this.Og.W,this.Wc.W);this.$b()};b.Ax=function(){this.Wc&&this.Wc.F();this.Og=this.Wc=null;this.$b()};b.my=function(a){h.u.nj(this,!0);this.setValue(a.getValue())};h.Ka.vw=function(a,c,d){for(var e=[],f=0;f<a.length;f++){var g=a[f][0],k=a[f][1];g=g.substring(c,g.length-d);e[f]=[g,k]}return e};b=h.Ka.prototype;
b.getOptions=function(a){return"function"==typeof this.Uh?(this.nl&&a||(this.nl=this.Uh.call(this),h.Ka.fu(this.nl)),this.nl):this.Uh};b.el=function(a){for(var c=!1,d=this.getOptions(!0),e=0,f;f=d[e];e++)if(f[1]==a){c=!0;break}return c?a:(this.H&&console.warn("Cannot set the dropdown's value to an unavailable option. Block type: "+this.H.type+", Field name: "+this.name+", Value: "+a),null)};
b.fl=function(a){h.Ka.v.fl.call(this,a);a=this.getOptions(!0);for(var c=0,d;d=a[c];c++)d[1]==this.he&&(this.Tj=c)};b.$b=function(){this.hd&&(this.hd.setAttribute("stroke",this.H.style.xh),this.Wc?this.hd.setAttribute("fill",this.H.style.xh):this.hd.setAttribute("fill",this.H.style.kd));this.H&&this.Rc&&(this.Rc.style.fill=this.H.Ia?this.H.style.Qi:this.H.style.kd)};
b.Yh=function(){this.Ug.nodeValue="";this.kc.style.display="none";var a=this.getOptions(!0),c=0<=this.Tj&&a[this.Tj][0];if(c&&"object"==typeof c){this.kc.style.display="";this.kc.setAttributeNS(h.g.m.dg,"xlink:href",c.src);this.kc.setAttribute("height",c.height);this.kc.setAttribute("width",c.width);a=Number(c.height);var d=Number(c.width);this.Ya.height=Math.max(this.j.sq,a+h.Ka.kv);c=this.Ya.height/2;var e=this.j.gh;var f=this.hi?qd(this,d+e,c-this.j.Bk/2):h.g.m.io(this.Rc,this.j.Dk,this.j.si,this.j.ri);
this.Ya.width=d+f+2*e;this.H.D?(d=e-1,this.kc.setAttribute("x",e+f),this.Cb.setAttribute("x",d)):(d=d+f+e+1,this.Cb.setAttribute("text-anchor","end"),this.Cb.setAttribute("x",d),this.kc.setAttribute("x",e));this.kc.setAttribute("y",c-a/2)}else this.Ug.nodeValue=sb(this),h.g.m.pb(this.Cb,"blocklyDropdownText"),this.Cb.setAttribute("text-anchor","start"),this.Ya.height=Math.max(this.j.sq,this.j.tq),a=this.Ya.height/2,c=h.g.m.io(this.Cb,this.j.Dk,this.j.si,this.j.ri),e=this.j.gh,f=0,this.hi&&(f=qd(this,
c+e,a-this.j.Bk/2)),this.Ya.width=c+f+2*e,this.Cb.setAttribute("x",this.H.D?this.Ya.width-c-e:e),this.Cb.setAttribute("y",a),this.j.Ck||this.Cb.setAttribute("dy",this.j.xm-a);this.hd.setAttribute("height",this.Ya.height);this.hd.setAttribute("width",this.Ya.width)};function qd(a,c,d){if(!a.hi)return 0;var e=a.j.gh,f=a.j.Bk;a.hi.setAttribute("transform","translate("+(a.H.D?e:c+e)+","+d+")");return f+e}
b.oo=function(){if(0>this.Tj)return null;var a=this.getOptions(!0)[this.Tj][0];return"object"==typeof a?a.alt:a};
h.Ka.fu=function(a){if(!Array.isArray(a))throw TypeError("FieldDropdown options must be an array.");if(!a.length)throw TypeError("FieldDropdown options must not be an empty array.");for(var c=!1,d=0;d<a.length;++d){var e=a[d];Array.isArray(e)?"string"!=typeof e[1]?(c=!0,console.error("Invalid option["+d+"]: Each FieldDropdown option id must be a string. Found "+e[1]+" in: ",e)):e[0]&&"string"!=typeof e[0]&&"string"!=typeof e[0].src&&(c=!0,console.error("Invalid option["+d+"]: Each FieldDropdown option must have a string label or image description. Found"+
e[0]+" in: ",e)):(c=!0,console.error("Invalid option["+d+"]: Each FieldDropdown option must be an array. Found: ",e))}if(c)throw TypeError("Found invalid FieldDropdown options.");};h.Ka.prototype.Yd=function(a){if(this.Wc){if(a===h.navigation.lm)return Jb(this.Wc),!0;if(a===h.navigation.km)return Hb(this.Wc),!0}return h.Ka.v.Yd.call(this,a)};h.zc.register("field_dropdown",h.Ka);h.Fd=function(a,c,d,e,f,g,k){if(!a)throw Error("Src value of an image field is required");a=h.g.pc(a);d=Number(h.g.pc(d));c=Number(h.g.pc(c));if(isNaN(d)||isNaN(c))throw Error("Height and width values of an image field must cast to numbers.");if(0>=d||0>=c)throw Error("Height and width values of an image field must be greater than 0.");this.ij=!1;this.Qk="";h.Fd.v.constructor.call(this,a||"",null,k);k||(this.ij=!!g,this.Qk=h.g.pc(e)||"");this.Ya=new h.g.te(c,d+h.Fd.jw);this.yy=d;this.kf=null;"function"==
typeof f&&(this.kf=f);this.kc=null};h.g.object.P(h.Fd,h.Kc);h.Fd.ga=function(a){return new h.Fd(a.src,a.width,a.height,void 0,void 0,void 0,a)};h.Fd.jw=1;b=h.Fd.prototype;b.pi=!1;b.uf=!1;b.Ri=function(a){h.Fd.v.Ri.call(this,a);this.ij=!!a.flipRtl;this.Qk=h.g.pc(a.alt)||""};b.rj=function(){this.kc=h.g.m.N("image",{height:this.yy+"px",width:this.Ya.width+"px",alt:this.Qk},this.yc);this.kc.setAttributeNS(h.g.m.dg,"xlink:href",this.he)};b.el=function(a){return"string"!=typeof a?null:a};
b.fl=function(a){this.he=a;this.kc&&this.kc.setAttributeNS(h.g.m.dg,"xlink:href",String(this.he))};b.ss=function(){return this.ij};b.Yj=function(){this.kf&&this.kf(this)};b.oo=function(){return this.Qk};h.zc.register("field_image",h.Fd);h.Nb.animal={Oa:function(){this.Se(120);Q(Cb(this),"","NAME");Q(yb(this.eg(h.Fa,"PIC"),h.mk),V("Puzzle_picture"));Q(Q(yb(Cb(this),h.mk),V("Puzzle_legs")),new h.Ka(rd),"LEGS");Q(this.eg(h.ta,"TRAITS"),V("Puzzle_traits"));this.Qg(!1)},Vb:function(){var a=document.createElement("mutation");a.setAttribute("animal",this.Qc);return a},xc:function(a){this.Lg(parseInt(a.getAttribute("animal"),10))},Qc:0,Lg:function(a){this.Qc=a;Ab(this,V("Puzzle_animal"+a));this.ug=V("Puzzle_animal"+a+"HelpUrl")},Do:function(){return Ha(this,
"LEGS")==this.Qc}};h.Nb.picture={Oa:function(){this.Se(30);Cb(this,"PIC");this.$l(!0);this.Lf("")},Vb:h.Nb.animal.Vb,xc:h.Nb.animal.xc,Qc:0,Lg:function(a){this.Qc=a;var c="puzzle/"+V("Puzzle_animal"+a+"Pic"),d=V("Puzzle_animal"+a+"PicHeight");a=V("Puzzle_animal"+a+"PicWidth");Q(ka(this,"PIC"),new h.Fd(c,a,d))},Do:function(){var a=this.getParent();return a&&a.Qc==this.Qc}};
h.Nb.trait={Oa:function(){this.Se(290);Q(Cb(this),"","NAME");this.am(!0);this.Zl(!0)},Vb:function(){var a=document.createElement("mutation");a.setAttribute("animal",this.Qc);a.setAttribute("trait",this.du);return a},xc:function(a){this.Lg(parseInt(a.getAttribute("animal"),10),parseInt(a.getAttribute("trait"),10))},Qc:0,du:0,Lg:function(a,c){this.Qc=a;this.du=c;Ab(this,V("Puzzle_animal"+a+"Trait"+c))},Do:function(){var a=zb(this);return a&&a.Qc==this.Qc}};var Cc="puzzle";function sd(a){for(var c=a.length-1;0<c;c--){var d=Math.floor(Math.random()*(c+1)),e=a[c];a[c]=a[d];a[d]=e}}function rd(){for(var a=[[V("Puzzle_legsChoose"),"0"]],c=1,d;d=Dc("Puzzle_animal"+c+"Legs");)a[c]=[d,String(c)],c++;a.sort(function(e,f){return e[0]-f[0]});return a}
function td(){for(var a=P(B),c=0,d=[],e=0,f;f=a[e];e++)f.Do()||(c++,f.select(),d.push(f));var g=document.getElementById("graphValue");setTimeout(function(){g.style.width=100*(a.length-c)/a.length+"px"},500);1==c?e=[V("Puzzle_error1"),V("Puzzle_tryAgain")]:c?e=[V("Puzzle_error2").replace("%1",c),V("Puzzle_tryAgain")]:(e=[V("Puzzle_error0").replace("%1",a.length)],Y.xz());f=document.getElementById("answerMessage");f.textContent="";for(var k=0;k<e.length;k++){var l=document.createElement("div");l.appendChild(document.createTextNode(e[k]));
f.appendChild(l)}e=document.getElementById("answers");f=document.getElementById("checkButton");X.Xj(e,f,!0,!0,{width:"25%",left:uc()?"5%":"70%",top:"5em"},c?X.Gp:Y.qj);X.Ep();if(d.length){sd(d);var m=d[0],n=function(){m.select();X.Oe&&(setTimeout(function(){kb(m)},150),setTimeout(n,300))};n()}else setTimeout(ud,2E3),h.selected&&kb(h.selected)}function ud(){B.Nd.play("win",.5);B.options.sb.Fe=!0;for(var a=B.cc(!1),c=0,d;d=a[c];c++)vd(d,c/a.length*360)}
function vd(a,c){if(X.Oe){var d=B.Ud(),e=d.Mb/2,f=d.ub/2,g=K(a);d=a.Ca();uc()&&(d.x-=g.width);var k=Math.max(175,Math.min(e,f)-Math.max(g.height,g.width)/2),l=Date.now(),m=c+l/50%360;k*=Math.sin(l%5E3/5E3*2*Math.PI)/8+.875;f=k*Math.cos(h.g.Ub.Vg(m))+f-g.width/2;g=k*Math.sin(h.g.Ub.Vg(m))+e-g.height/2;5>Math.sqrt(Math.pow(f-d.x,2)+Math.pow(g-d.y,2))?(e=f-d.x,d=g-d.y):(d=h.g.Ub.Uz(Math.atan2(g-d.y,f-d.x)),d%=360,0>d&&(d+=360),e=Math.round(5*Math.cos(h.g.Ub.Vg(d))),d=Math.round(5*Math.sin(h.g.Ub.Vg(d))));
a.moveBy(e,d);setTimeout(vd.bind(null,a,c),50)}}
function wd(a){Y.By("sample",'<xml>;<block type="animal" x="5" y="5">;<mutation animal="1"></mutation>;<title name="LEGS">1</title>;<value name="PIC">;<block type="picture">;<mutation animal="1"></mutation>;</block>;</value>;<statement name="TRAITS">;<block type="trait">;<mutation animal="1" trait="2"></mutation>;<next>;<block type="trait">;<mutation animal="1" trait="1"></mutation>;</block>;</next>;</block>;</statement>;</block>;</xml>'.split(";"));var c=document.getElementById("help"),d=document.getElementById("helpButton");
X.Xj(c,d,a,!0,{width:"50%",left:"25%",top:"5em"},X.Gp);X.Ep()}
window.addEventListener("load",function(){function a(){d.style.width=window.innerWidth-20+"px";d.style.height=window.innerHeight-d.offsetTop-15+"px"}document.body.innerHTML=pd();Y.Oa();var c=uc(),d=document.getElementById("blockly");a(null);window.addEventListener("resize",a);B=h.tf("blockly",{media:"third-party/blockly/media/",rtl:c,scrollbars:!1,trashcan:!1});var e=Ac(U);try{var f=window.sessionStorage.Fl}catch(u){f=null}if(f)delete window.sessionStorage.Fl,c=h.I.Xe(f),h.I.Ee(c,B);else if(e)c=h.I.Xe(e),
h.I.Ee(c,B);else{var g=[],k=[],l=[];f=1;for(var m;Dc("Puzzle_animal"+f);){m=B.Vh("animal");m.Lg(f);g.push(m);m=B.Vh("picture");m.Lg(f);k.push(m);for(var n=1;Dc("Puzzle_animal"+f+"Trait"+n);)m=B.Vh("trait"),m.Lg(f,n),l.push(m),n++;f++}sd(g);sd(k);sd(l);g=[].concat(g,k,l);c&&g.reverse();for(f=0;m=g[f];f++)m.Cn=!1,m.yg(),m.pa();for(f=k=0;m=g[f];f++)l=m.qa().getBBox(),m.TC=l.width,m.SC=l.height,m.Cr=l.width*l.height,k+=m.Cr;h.ek(B);n=h.au(x(B));n.width-=50;n.height-=50;var r=0;for(f=0;m=g[f];f++){l=m.qa().getBBox();
var q=c?l.width+r/k*n.width:r/k*(n.width-l.width);q=Math.round(q+50*Math.random());m.moveBy(q,Math.round(Math.random()*(n.height-l.height)));r+=m.Cr}}bb();Ec("checkButton",td);Ec("helpButton",function(){wd(!0)});e||wd(!1);h.Qb*=2;h.eq=h.Qb;B.Nd.load(["puzzle/win.mp3","puzzle/win.ogg"],"win")});
